\documentclass[10pt,letterpaper,cm]{nupset}
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
 \usepackage{enumerate}
  \usepackage{enumitem}
 \usepackage{stmaryrd}
 \usepackage{bm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{pgfplots}
\usepackage{amsmath,amsthm}
\usepackage{lmodern}
\usepackage{xcolor}
\usepackage{soul}
\usepackage{tikz-cd}
\usetikzlibrary{arrows}
\tikzset{commutative diagrams/.cd,arrow style=tikz,diagrams={>=latex'}}
\usepackage{faktor}
\usepackage{xfrac}
\usepackage{mathtools}
\usepackage{bm}
\usepackage{ dsfont }
\usepackage{mathrsfs}
\usepackage{hyperref}
\usepackage{float}
\hypersetup{colorlinks=true, linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           }
    
    
\usepackage{thmtools}
\usepackage[capitalise]{cleveref} 
    
\theoremstyle{definition}
\newtheorem{definition}{Definition}[subsection]
\newtheorem{exmp}[definition]{Example}
\newtheorem{non-exmp}[definition]{Non-example}
\newtheorem{note}[definition]{Note}

\theoremstyle{theorem}
\newtheorem{theorem}[definition]{Theorem}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{prop}[definition]{Proposition}
\newtheorem{corollary}[definition]{Corollary}
\newtheorem*{claim}{Claim}
\newtheorem{exercise}[definition]{Exercise}

\theoremstyle{remark}
\newtheorem{remark}[definition]{Remark}
\newtheorem*{todo}{To do}
\newtheorem*{question}{Question}
\newtheorem*{conv}{Convention}
\newtheorem*{aside}{Aside}
\newtheorem*{notation}{Notation}
\newtheorem*{term}{Terminology}
\newtheorem*{background}{Background}
\newtheorem*{further}{Further reading}
\newtheorem*{sources}{Sources}

\makeatletter
\def\th@plain{%
  \thm@notefont{}% same as heading font
  \itshape % body font
}
\def\th@definition{%
  \thm@notefont{}% same as heading font
  \normalfont % body font
}
\makeatother


\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother
\pgfplotsset{unit circle/.style={width=4cm,height=4cm,axis lines=middle,xtick=\empty,ytick=\empty,axis equal,enlargelimits,xmax=1,ymax=1,xmin=-1,ymin=-1,domain=0:pi/2}}
\DeclareMathOperator{\Ima}{Im}
\newcommand{\A}{\mathcal A}
\newcommand{\C}{\mathbb C}
\newcommand{\E}{\vec E}
\newcommand{\CP}{\mathbb CP}
\newcommand{\F}{\mathbb F}
\newcommand{\G}{\mathbb G}
\renewcommand{\H}{\mathbb H}
\newcommand{\HP}{\mathbb HP}
\newcommand{\K}{\mathbb K}
\renewcommand{\L}{\mathcal L}
\newcommand{\M}{\mathbb M}
\newcommand{\N}{\mathbb N}
\renewcommand{\O}{\mathbf O}
\newcommand{\OP}{\mathbb OP}
\renewcommand{\P}{\mathcal P}
\newcommand{\Q}{\mathbb Q}
\newcommand{\I}{\mathbb I}
\newcommand{\R}{\mathbb R}
\newcommand{\RP}{\mathbb RP}
\renewcommand{\S}{\mathbf S}
\newcommand{\T}{\mathbf T}
\newcommand{\Z}{\mathbb Z}
\newcommand{\B}{\mathcal{B}}
\newcommand{\1}{\mathbf{1}}
\newcommand{\ds}{\displaystyle}
\newcommand{\ran}{\right>}
\newcommand{\lan}{\left<}
\newcommand{\bmat}[1]{\begin{bmatrix} #1 \end{bmatrix}}

\renewcommand{\a}{\mathscr{A}}
\renewcommand{\b}{\mathscr{B}}
\renewcommand{\c}{\mathscr{C}}
\renewcommand{\d}{\mathscr{D}}
\newcommand{\e}{\mathscr{E}}
\newcommand{\y}{\mathscr{Y}}
\renewcommand{\j}{\mathscr{J}}
\newcommand{\X}{\mathscr X}

\newcommand{\h}{\vec h}
\newcommand{\f}{\vec f}
\newcommand{\g}{\vec g}
\renewcommand{\i}{\vec i}
\renewcommand{\k}{\vec k}
\newcommand{\n}{\vec n}
\newcommand{\p}{\vec p}
\newcommand{\q}{\vec q}
\renewcommand{\r}{\vec r}
\newcommand{\s}{\vec s}
\renewcommand{\t}{\vec t}
\renewcommand{\u}{\vec u}
\renewcommand{\v}{\vec v}
\newcommand{\w}{\vec w}
\newcommand{\x}{\vec x}
\newcommand{\z}{\vec z}
\newcommand{\0}{\vec 0}

\DeclareMathOperator*{\Span}{span}
\DeclareMathOperator*{\GL}{GL}
\DeclareMathOperator*{\SL}{SL}
\DeclareMathOperator{\rng}{range}
\DeclareMathOperator{\gemu}{gemu}
\DeclareMathOperator{\almu}{almu}
\newcommand{\Char}{\mathsf{char}}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\graph}{Graph}
\DeclareMathOperator{\gal}{Gal}
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\norm}{N}
\DeclareMathOperator{\aut}{Aut}
\DeclareMathOperator{\Int}{Int}
\DeclareMathOperator{\ext}{Ext}
\DeclareMathOperator{\stab}{Stab}
\DeclareMathOperator{\orb}{Orb}
\DeclareMathOperator{\inn}{Inn}
\DeclareMathOperator{\out}{Out}
\DeclareMathOperator{\op}{op}
\DeclareMathOperator{\fix}{Fix}
\DeclareMathOperator{\ab}{ab}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\syl}{syl}
\DeclareMathOperator{\Syl}{Syl}
\DeclareMathOperator{\conj}{conj}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\ed}{End}
\DeclareMathOperator{\gr}{\mathsf{gr}}
\DeclareMathOperator{\map}{Map}
\DeclareMathOperator{\mor}{mor}
\DeclareMathOperator{\ob}{ob}
\DeclareMathOperator{\pr}{pr}
\DeclareMathOperator{\fs}{fs}
\DeclareMathOperator{\Sing}{Sing}
\DeclareMathOperator{\Mat}{Mat}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Fun}{\mathbf{Fun}}
\DeclareMathOperator{\Fr}{Fr}
\DeclareMathOperator{\supp}{supp}

% info for header block in upper right hand corner
\name{Perry Hart}
\class{MATH 602}
\assignment{Fall 2018}

\begin{document}

\begin{abstract}
These notes are based on Tony Pantev's ``Algebra I'' lectures given at UPenn. Any mistake in what follows is my own.
\end{abstract}

\tableofcontents
\newpage

\section{Group actions}

\subsection{Lecture 1}

\begin{definition} 
A \textit{(left) action of a group $G$ on a set $S$} is a homomorphism $\theta : G \to \aut(S)$. Equivalently, a group action is a function $a : G \times S \to S$ such that 
\begin{itemize}
\item $a(g, a(g', x)) = a(gg', x)$ and
\item $a(e, x) = x$
\end{itemize}
for any $g,g' \in G$ and $x\in S$. 
\end{definition}

\begin{definition}
A \textit{right group action} is a function $b: S \times G \to S$ such that 
\begin{itemize}
\item $b(b(x, g), g') = b(x, gg')$ and
\item $b(x, e) = x$
\end{itemize}
for any $x\in S$ and $g,g' \in G$ . 
\end{definition}

\theoremstyle{exercise}
\begin{exercise} Find a homomorphism representing a right group action $a: S \times G \to S$.
\end{exercise}
\begin{proof}
Given $a$, define $f: G^{\op} \to \aut(S)$ by $g \mapsto (x \mapsto a(x, g))$. This is a homomorphism. Conversely, given a homomorphism $f: G^{\op} \to \aut(S)$, define $a(x, g) = f(g)(x)$. This is a right action.
\end{proof}

\theoremstyle{remark}
\begin{remark}{Every group action $\theta: G \to \aut(S)$ factors through a \textit{tautological action} $H \leq \aut(S)$. }

\[ \begin{tikzcd}
G \arrow{r}{q} \arrow[swap]{dr} {\theta} & \faktor{G}{\ker(\theta)} \arrow{d}{\cong} \\% 
 & \theta(G)
\end{tikzcd}
\]
\end{remark}

\begin{definition}
Given a group action $\theta: G \to \aut(S)$, we say that $\theta$ is \textit{faithful} or \textit{effective} if it is injective. 
\end{definition}

\begin{definition} Let $\theta: G \to \aut(S)$ be a group action and $x\in S$.
\begin{enumerate}
\item Define the \textit{stabilizer subgroup of $x$} as $\stab_{\theta}(x)  = \{g \in G \mid g \cdot x = x\}$. 
\item Define the \textit{orbit of $x$} as $\orb_{\theta} = \{y \in S \mid \exists g \in G$ s.t. $g \cdot x = y\}$.
\end{enumerate}
\end{definition}

\begin{note}
Note that the orbits of an action behave as equivalence classes. 
\end{note}

\begin{exercise} $ $
\begin{enumerate}
\item Given an action $a: G \times S \to S$, show that the equivalence relation $R_a \subset S \times S$ is the projection of $\graph(a) \subset G\times S \times S$ onto $S \times S$.
\item If $\theta : G \to \aut(S)$ is a group action and $x\in S$, then show that the function $\faktor{G}{\stab_{\theta}(x)} \to \orb_{\theta}(x)$ given by $[x] \mapsto g \cdot x$ is well-defined and bijective. Thus, if $G$ is finite, then $\lvert{\orb_{\theta}(x)}\rvert = \frac{ |G|}{\lvert{\stab_{\theta}(x)}\rvert}$.
\end{enumerate}
\end{exercise}

\begin{proof}
Notice that $R_a = \{(s, gs): s \in S$, $g\in G\}$.
\end{proof}

\begin{remark}{There is a set bijection $\faktor{G}{\stab{x}}  \xleftrightarrow{\phantom{med}} \orb(x)$ given by $[g] \mapsto gx$ for any $x \in S$, even if $S$ is infinite.} 
\end{remark}



\theoremstyle{exmp}
\begin{exmp}{Any action $\theta : G \to \aut(S)$ induces the following group actions.}


\begin{enumerate}
\item $\mathcal{P}(\theta) : G \to \aut(\mathcal{P}(S))$ given by $g \mapsto (T \mapsto \theta(G)(T))$.
\item For a subset $T \subset S$ that is stable under $\theta$, $\theta_T : G \to \aut(T)$ given by $g \mapsto \theta(g)\restriction_T$.
\item For a set $X$, $\theta^\ast : G \to \aut(X^S)$ given by $g \mapsto (f \mapsto f \circ \theta(g^{-1}))$.
\item $\theta_{\ast}: G \to \aut(S^X)$ given by $g\mapsto (f \mapsto \theta(g) \circ f)$.
\item $\theta^{\times n} : G \to \aut(S^n)$ given by $g \mapsto ((x_1, \ldots, x_n) \to (gx_1, \ldots, gx_n))$

\end{enumerate}

\end{exmp}

\begin{exmp}
Let $R\subset S \times S$ be an equivalence relation such that $\theta^{\times 2}(g)(R) = R$ for each $g 
\in G$. Then $\faktor{G}{R}: G \to \aut(\faktor{S}{R})$ given by $g \mapsto ([s] \mapsto [gs])$ is an action.
\end{exmp}

\begin{exmp}
Let $a : G \times S \to G$ be an action. If $S = G$, then we have 
\begin{itemize}
\item the \textit{left regular action} given by $a(g, x) = gx$, 
\item the \textit{right regular action} given by $a(g, x) = xg^{-1}$, and 
\item the \textit{conjugation action}. given by $a(g, x) = gx g^{-1}$.
\end{itemize}
In general, only the last of these actions maps elements to automorphisms of $G$.
\end{exmp}

\begin{exmp}
If $\theta$ denotes conjugation, then we call $\faktor{G}{Z(G)} \cong \im(\theta)\coloneqq  \inn(G)$ the subgroup of \textit{inner automorphisms of $G$}, which is a normal subgroup. We call the quotient $\faktor{\aut(G)}{\inn(G)}$ the group of \textit{outer automorphisms of $G$}, denoted by $\out(G)$.
\end{exmp}

\begin{remark} Let $\aut_\phi(S) \leq \aut(S)$ preserve the structure $\phi$ of $S$. Then 

\[ \begin{tikzcd}
G \arrow{r}{\theta} \arrow[swap]{dr} & \aut(S) \arrow{d} \\% 
 & \aut_\phi(S)
\end{tikzcd}
\]

\end{remark}

\subsection{Lecture 2}


\begin{definition}  $ $
\begin{enumerate}
\item If $(S, +)$ is an abelian group and $\theta : G \to \aut_+(S)$ an action, then we call $S$ a \textit{left $G$-module}.
\item If $S$ is also a vector space over $k$ and $G$ is $k$-linear, then the action is called a \textit{$k$-linear representation of $G$}.
\end{enumerate}
\end{definition}

\begin{exmp}[The permutation representation]
Set $S = \{1, \ldots, n\}$ and $G = S_n$. Then $\theta^{\ast}(x_1, \ldots, x_n) = (x_{\sigma^{-1}(1)}, \ldots, x_{\sigma^{-1}(n)})$, where $x_i \in X$ for a fixed set $X$. If $X$ is a field, then $X^S \cong X^n$ is an $n$-dimensional vector space and $\theta^\ast$ is an $X$-linear representation of $S_n$.

\[ \begin{tikzcd}
G \arrow{r}{\theta^{\ast}} \arrow[swap]{dr} & \aut(X^n) \\% 
 & \GL_n(X) \arrow[hookrightarrow]{u}
\end{tikzcd}
\]

\end{exmp}

\begin{remark}
Our previous example holds for any action $\theta: F \to \aut(S^k)$ where $k$ is a field. This is called the \textit{regular representation of $G$}.
\end{remark}

\begin{exmp}
Given an action $\theta: G \to \aut(S)$, we get an action $\P(\theta): G \to \aut(\P(S))$ given by $g \mapsto (X \mapsto \theta(g)(X))$. Since $\P(S) \sim (\Z_2)^S$, we see that $\P(\theta)$  is a $\Z_2$-linear representation of $G$. Therefore, any action of $G$ on $S$ induces a representation of $G$.
\end{exmp}

\begin{exmp}[Galois theory]
Let $f(x) = a_nx^n + \cdots + a_0$ over $\Q$ where $a_n \ne 0$. We know $f(x) = a_n(x-\beta_1)\cdots (x-\beta_n)$ for some $(\beta_1, \ldots, \beta_n) \in \C^n$. It's true that each $\beta_i = f(a_0, \ldots, a_n)$ for some algebraic function $f$  if and only if a certain symmetry group of $\{B_i\}$ has a special property (to be covered next semester).
\\ \\ Let $\Q[\tilde{\beta}]\coloneqq  \Q[\beta_1, \ldots, \beta_n] = \{F(\beta_1, \ldots, \beta_n) : F \in \Q[x_1, \ldots, x_n]\}$. Let the Galois group of $f$ $$\gal(f)\coloneqq  \{\sigma \in S_n : \exists g(\sigma) : \Q[\tilde{\beta}] \to \Q[\tilde{\beta}] \text{ bijection with } g(F(\beta_1, \ldots, \beta_n)) = F(\beta_{\sigma(1)}, \ldots, \beta_{\sigma(n)}) \text{ for } F \in \Q[x_1, \ldots, x_n]\}.$$

\begin{exercise}
Show that $g: G \to \aut(\Q[\tilde{\beta]})$ is a homomorphism where $G \coloneqq  \{g(\sigma): \sigma \in \gal(f)\}$.
\end{exercise}
In fact, $G$ is a representation of $\Q[\tilde{\beta}]$, giving
\[ \begin{tikzcd}
G \arrow{r} \arrow[swap]{dr} & \aut(\Q[\tilde{\beta}]) \\% 
 & \GL_\Q(\Q[\tilde{\beta}]) \arrow[hookrightarrow]{u}.
\end{tikzcd}
\]
Now, consider $f(x) = (x^2 -3)(x^2 -5)$, which has roots $\{\pm \sqrt{3}, \pm \sqrt{5}\}$. Then $\gal(f) \subset S_4$. Note that $g\cdot q= q$ for each $g \in \gal(f)$ and $q\in \Q$. If $\sigma(1) =3$, then $g(\sigma)(\beta_1^2) = g(\sigma)  (3) = \beta_3^2 = 5$, which is impossible. By similar reasoning, it follows that $\gal(f) = \{(1), (1 2), (3 4), (1 2)(3 4)\} \cong \Z_2 \times \Z_2$.
\end{exmp}

\subsection{Lecture 3}

\begin{notation}
Let $\{\text{Orbits}\} \coloneqq  G \diagdown S$.
\end{notation}

\begin{definition} Let $\theta: G \to \aut(S)$ be an action.
\begin{enumerate}
\item We say that  $\theta$ is \textit{transitive} if for any $s, s' \in S$, there is some $g \in G$ such that $g(s) = s'$. 
\item We say that $\theta$ is \textit{simple} if $\stab_\theta(x) = \{e\}$ for any $x \in S$.
\item If $\theta$ is both simple and transitive, then it's called a \textit{$G$-torsor}. In this case, if $x \in S$, then $f: G \to S$ given by $g\mapsto \theta(g)(x)$ is a bijection.
\end{enumerate}
\end{definition}


\begin{exmp} $ $
\begin{enumerate}
\item Consider the action $\rho: S^1 \to \aut(\C)$ given by $$\theta \mapsto \rho_{\theta}\coloneqq (z \mapsto e^{i\theta}z).$$ Then $\rho_{\theta} = \begin{bmatrix} \cos(\theta) & {-}\sin{\theta} \\ \sin{\theta} & \cos{\theta} \end{bmatrix}$ for each $\theta$.  Note that $\orb_{\rho}(0) = \{0\}$ and $\orb_{\theta}(z) = \{w \mid |w| = |z|\}$. Therefore,  $S^1 \diagdown \R^2 = \R_{\geq 0}$, which induces a map $\C \to \R_{\geq 0}$ given by $z \mapsto |z|$.
\item Let $H \leq G$. Consider the restriction $l\restriction_H : H \to \aut(G)$ of the \textit{left translation} action of $G$ on itself. Then $H \diagdown G$ equals the set of right cosets of $H$ in $G$. 
\item The orbits of the conjugation action of $G$ on itself are precisely  the conjugacy classes of $G$. 
\end{enumerate}
\end{exmp}

\begin{exercise} $ $
\begin{enumerate}

\item Show that if $\sigma, \tau \in S_n$, then they are conjugate in $S_n$  if and only if $\sigma$ and $\tau$ have the same type of cyclic decomposition.
\item Show that there is a natural bijection between $S_n \diagdown_{\text{conj.}} S_n$ and the set of unordered partitions of $\{1, \ldots, n\}$.
\end{enumerate}
\end{exercise}

\begin{definition}
Let $\theta : G \to \aut(S)$ and $\psi: G \to \aut(T)$ be actions. A function $f: S \to T$ is called \textit{equivariant} or \textit{an intertwiner for $\theta$ and $\psi$} if for each $g \in G$, the following commutes.
\[
\begin{tikzcd}[row sep=large, column sep = large]
S \arrow[r, "f"] \arrow[d, "\theta(g)", swap]
& T \arrow[d, "\psi(g)"] \\
S \arrow[r, "f"]
& T
\end{tikzcd}
\]
\end{definition}

\begin{definition}
We say that $\theta$ and $\psi$ are \textit{isomorphic}, written as$\theta \cong \psi$,  if there is an equivariant bijection for $\theta$ and $\psi$.
\end{definition}

\begin{note}
We have that $\theta \cong \psi$ if and only if there exist intertwiners $f_1 : S \to T$ and $f_2 : T \to S$ such that $f_1 \circ f_2 = \id_T$ and $f_2 \circ f_1 = \id_S$. 
\end{note}

\begin{remark} $ $
\begin{enumerate}
\item If $\theta: G \to \aut(S)$ is simply transitive and $x \in S$, then $f_x: G \to S$ with $g \mapsto \theta(g)(x)$ intertwines $\theta$ and left-translation on $G$. Therefore, every $G$-torsor action is non-canonically isomorphic to left-translation on $G$.
\item Moreover, if $H \leq G$, then left-translation by $G$ on the coset space $\{gH\}$ is well-defined and is transitive. We can extend this to prove that left-translations by $G$ on a coset space characterize transitive actions up to isomorphism.
\end{enumerate}
\end{remark}

\begin{theorem}
Let $ \theta: G \to \aut(S)$ be an action and $K \subset S$ be an orbit. Then $\theta \restriction_K$ is a transitive action. If $x \in K$, then $f_x: \faktor{G}{\stab_\theta(x)} \to K$ given by $[g] \mapsto \theta(g)(x)$ is well-defined and an equivariant bijection for $\theta \restriction_K$ and left-translation by $G$ on $\faktor{G}{\stab_\theta(x)}$.
\end{theorem}

\begin{proof}
Let $[g] = [h]$. Then $g = hs$ for some $s \in \stab(x)$. Hence $\theta(g)(x) = \theta(hs)(x) = \theta(h)(\theta(s)(x)) = \theta(h)(x)$, proving that $f_x$ is well-defined. \\  \\
Define the map $F: K \to \stab_\theta(x)$ by $F(y) = S_y \coloneqq  \{g \in G : \theta(g)(x) = y\} = [s_0]$ for fixed $s_0 \in S_y$.
It's easy to check that this is the inverse of $f_x$. 
\\ \\
Finally, let $g, g'\in G$. Then 
\begin{align*} f_x \circ l(g)(g') & = f_x(l(g)) \\ & = f_x(g[g'])  \\ & = \theta(gg')(x) 
 \\ & = \theta(g)(\theta(g')(x))\\ &  = \theta(g) \circ f_x(g').
\end{align*}
\end{proof}

\begin{corollary}
If $\theta : G \to \aut(S)$ is a transitive action, then $\theta$ is isomorphic to the left translation action of $G$ on $G/H$ where $H = \stab_{\theta}(x)$ for any chosen $x\in S$.
\end{corollary}

\begin{corollary}
If $\theta : G \to \aut(S)$ is an action, then $S = \coprod_{O \in G\diagdown S} O$ and $\theta = \coprod_{O \in G \diagdown S} \theta_O$ where each $\theta_O$ is isomorphic to the left translation action of $G$ on $G/\stab_{\theta}(x)$ for any chosen $x\in S$. 
\end{corollary}

\begin{corollary}[Orbit-stabilizer theorem]
Let $G$ be a finite group and $\theta : G \to \aut(S)$ an action. Then $$ \lvert{\orb_{\theta}(x)}\rvert = \frac{|G|}{\lvert{\stab_{\theta}(x)}\rvert}     $$ for any $x\in S$. 
\end{corollary}

\begin{corollary}[Class equation]
If $G$ is finite, then $$|G| = |Z(G)| + \sum_{{\substack{C \text{ conj. class} \\ |C| >1}}} |C|     .$$
\end{corollary}

\begin{exercise}{Suppose that $H \leq G$.}
\begin{enumerate}
\item Compute the kernel of the left-trans. action by $G$ on $\faktor{G}{H}$
\item Show that $H \unlhd G$  if and only if the kernel the above action restricted to $H$ is trivial. 
\end{enumerate}
\end{exercise}

\subsection{Lecture 4}

\begin{corollary} If $G$ is finite and $H\leq G$ with $[G:H] =p$ where $p$ is the least prime dividing $|G|$, then $H\unlhd G$.
\end{corollary}
\begin{proof}
Consider the left translation action $l : G \to \aut(G/H)$. Let $O$ be any orbit of the restricted action $l\restriction_H$, so that $|O| = \frac{|H|}{\lvert{\stab}\rvert}$. Since $|O| \mid |H|$, it follows that $|O|=1$ or $|O| \geq p$. But $[G:H] = p$, and there is already an orbit of size $1$. This implies that there are exactly $p$ orbits of size $1$. Thus, $l\restriction_H$ is trivial, and $H \unlhd G$.
\end{proof}

\begin{exercise}[Burnside's lemma] If $G$ and $S$ are finite and $\theta : G \to \aut(S)$ is an action, then for each $g\in G$, consider $\fix(g) \subset S$. Check that $$|G \diagdown S| = \frac{1}{|G|} \sum_g |\fix(g)|.$$ \underline{Hint:} Consider $\{(g,x): g \cdot x=x\} \subset G \times S$.
\end{exercise}
 
\begin{definition}
Let $p$ be a prime. A finite group $G$ is called a \textit{$p$-group} if $|G| = p^k$ for some $k \geq 0$. 
\end{definition}

\begin{prop}  $ $
\begin{enumerate}
\item If $|G| = p$, then $G$ is isomorphic to the cyclic group $C_p$ of order $p$.
\item Every $p$-group has nontrivial center.
\end{enumerate}
\end{prop}
\begin{proof} $ $
\begin{enumerate}
\item This is obvious,
\item The class equation implies that $|Z(G)| \equiv 0 \mod p$. Since $|Z(G)|>0$, it follows that $|Z(G)|\geq p$.
\end{enumerate}
\end{proof}

\section{Solvable and nilpotent groups}

\begin{definition} Let $G$ be any group.
\begin{enumerate}
\item We say that a sequence of subgroup $$  G= G_0 \supset G_1 \supset \cdots \supset G_s \supset \cdots    $$ is a \textit{subnormal series} if $G_i \unlhd G_{i-1}$ for each $i\geq 1$. We say that it is a \textit{normal series} if $G_i \unlhd G_0$ for each $i\geq 0$. 
\item Set $\Delta^{(0)}G =G$ and $\Delta^{(k+1)}G = \Delta(\Delta^{(k)}G)$, where $\Delta G: = \Delta^{(1)} G$ is the \textit{commutator} or \textit{derived} subgroup of $G$.
\end{enumerate}
\end{definition}

\begin{remark}
$\Delta G$ is the smallest subgroup $H$ such that $\faktor{G}{H}$ is abelian, so that $$G = \Delta^{(0)}G \unrhd \Delta^{(1)}G \unrhd \Delta^{(2)}G \unrhd \cdots $$ is a normal abelian series, called the \textit{derived series of $G$}.
\end{remark}

\begin{definition}
We call $G^{\ab}\coloneqq  \faktor{G}{\Delta G}$ the \textit{abelianization of $G$}.
\end{definition}

\begin{remark}
If $f: G \to \underset{\text{abelian}} A$, then $f$ factors uniquely as follows.

\[ \begin{tikzcd}
G \arrow[r, "f"] \arrow[dr, "g", swap] & A \\% 
 & G^{\ab}\arrow[u, "\tilde{f}", swap].
\end{tikzcd}
\]
where $\tilde{f}: G^{\ab} \to A$ has $x\mapsto f(x)$.
In other words, the map $g$ is universal for maps from $G$ to abelian groups. 
\end{remark}

\begin{definition}
We say that the derived series of $G$ \textit{terminates} if $\Delta^{(t+1)}G = \Delta^{(t)}G$ for some $t$. If this $\Delta^{(t)}G=\{e\}$, then we say that the series terminates at $\{e\}$.
\end{definition}

\begin{definition}
We say that $G$ is \textit{solvable} if its derived series terminates at $\{e\}$. The least $t$ for which $\Delta^{(t)}$ is trivial is called the solvable length of $G$.
\end{definition}

\begin{exercise}\label{ex7} Prove the following assertions.
\begin{enumerate}
\item Any subgroup or quotient of a solvable group is solvable.
\item If $H\unlhd G$ and $\faktor{G}{H}$ are solvable, then so is $G$.
\item $G$ is solvable  if and only if it admits a finite abelian subnormal series. 
\end{enumerate}
\end{exercise}

\begin{definition}{Let $G$ be a group.}
\begin{enumerate}
\item $G$ is called \textit{polycyclic} if it has a finite subnormal series with cyclic factors.
\item $G$ is called \textit{nilpotent} if it has a finite normal series  $G =G_0 \unrhd G_1 \unrhd \cdots \unrhd G_n = \{e\}$ where $\faktor{G_{i-1}}{G_i}\subset Z(\faktor{G}{G_i})$ for each $1\leq i\leq n$.
\end{enumerate}
\end{definition}

\begin{remark} $ $
\begin{enumerate}
\item Every quotient and subgroup of a nilpotent group is nilpotent. 
\item Every $p$-group $G$ is nilpotent. 
\end{enumerate}
\end{remark}


\begin{proof}
Set $G_0 = \{e\}$, $G_1 = Z(G)$, and, for $i>1$, $G_{i}$ such that $G \geq G_i \geq G_{i-1}$ and $\faktor{G_i}{G_{i-1}} = Z(\faktor{G}{G_{i-1}})$. Since any quotient of $G$ is a $p$-group, it has nontrivial center unless it equals $G$.  Thus, the $G_i$ form a strictly increasing sequence bounded above by $G$. Since $G$ is finite, $G = G_k$ for some $k$. Note that each $G_i$ is the pullback of a normal subgroup under the natural projection and thus itself normal in $G$, completing the proof.
\end{proof}

\subsection{Lecture 5}

\begin{exmp}  $ $
\begin{enumerate}
\item Every abelian group is nilpotent and thus solvable. 
\item There are abelian groups which are not polycyclic, e.g., $G\coloneqq \faktor{\Q}{\Z} \cong \mu_{\infty}$ where $\mu_{\infty}$ denotes the group of all roots of unity. Recall that this is  not finitely generated.  But if $G$ is polycyclic, then it admits a cyclic subnormal series $G = G_0 \unrhd G_1 \cdots \unrhd G_n$. Choose $x_i$ that generates each factor $\faktor{G_{i-1}}{G_i}$ for $1\leq i \leq n$.  This implies $\langle x_i\rangle = G$, a contradiction. 
\item The dihedral group $D_n$ is polycyclic (hence solvable) since the subgroup $\langle r\rangle$ has index $2$.
\item $S_3\cong D_3$ is not nilpotent. The only normal subgroup is $\langle (1 2 3)\rangle$, which is nontrivial and thus cannot be contained in $Z(D_3)$.
\end{enumerate}
\end{exmp}

\begin{exercise}
Determine the nilpotent dihedral groups. 
\end{exercise}
\begin{proof}
We claim that $D_n$ is nilpotent  if and only if $n$ equals a power of $2$. We know that any $p$-group is nilpotent. Conversely, if $n$ is odd, then $D_n$ has trivial center, hence is not nilpotent. Further, if $n= 2^km$ for $m$ odd and $k\geq 1$, then $Z(D_n) = \{e, m2^{k-1}\}$, so that $\faktor{D_n}{Z(D_n)} \cong D_{m2^{k-1}}$, which by induction we can assume is not nilpotent. Since every quotient of a nilpotent group is nilpotent, $D_n$ cannot be nilpotent when $n = 2^km$ for any $k\geq 0$. This proves the claim.
\end{proof}

\begin{remark}\label{r10}
 We have the following two chains of strict implications for certain classes of groups.
\begin{enumerate}
\item Cyclic $\subsetneq$ Abelian $\subsetneq$ Nilpotent $\subsetneq$ Solvable.
\item Cyclic $\subsetneq$ Polycyclic $\subsetneq$  Solvable.
\end{enumerate}
To complete the proof that each implication is strict, it suffices to produce a nilpotent group which is not abelian.

\end{remark}

\begin{exmp}
Let $V$ be a finite-dimensional vector space over $\R$. Let $\omega: V\times V\to \R$ be a bilinear map on $V$ such that
\begin{enumerate}[label=(\alph*)]
\item $\omega$ is skew-symmetric, i.e., $\omega(x,y) = -\omega(y,x)$
\item If $\omega(x,y) =0$ for every $y \in V$, then $x=0$.
\end{enumerate}
Here $\omega$ is called a \textit{symplectic form on $V$}, and $V$ is called a \textit{symplectic vector space}. Build a group $H(V, \omega)$ on the set $V \times \R$ by the operation $(x,a)\cdot(y,b) = (x+y, a+b + \omega(x,y))$. This is called the Heisenberg group of $H$. It is the group of symmetries of the observables in a simple quantum mechanical system. 

\begin{exercise} 
Check that $Z(H(V, \omega)) \cong \R$ and that $\faktor{H(V, \omega)}{Z(H(V, \omega))} \cong (V, +)$, which is abelian as a vector space, so that $H(V, \omega)$ is nilpotent yet not abelian. 
\end{exercise}
\end{exmp}

\begin{exmp}
Let $k$ be a field and  $B_n(k)$ denote all $n\times n$ matrices of the form
\[
  \left[
    \begin{matrix}
       a_1 & & &  &\\
       & a_2 & & \ast  \\
       & & \ddots & & \\
       & \text{\huge0}  & & & a_{n} 
\\
    \end{matrix}
  \right]
\] with entries in $k$ such that each $a_i \ne 0$. Then $B_n(k)$ is called the standard Borel subgroup of $\GL_n(k)$. Note that it is not abelian for $n>1$. 
\\ \\ We prove by induction that it is solvable.  For $n=1$, it is abelian, hence solvable. Now suppose it's solvable for $n-1$ where $n>1$ is fixed. Define a surjective homomorphism $f: B_n(k) \to B_{n-1}(k)$ by mapping each matrix $M$ to the upper left $n-1 \times n-1$ included in $M$. Then $\ker f$ consists of matrices of the form
\[
  \left[
    \begin{matrix}
       1 & & &  c_1\\
       & 1 &  \text{\huge0} & \vdots \\
       & & \ddots & \vdots  \\
        & \text{\huge0}  & &  c_{n} 
\\
    \end{matrix}
  \right]
\] where $c_{n} \ne 0$. Hence there is a surjective homomorphism $g: \ker f \to k^{\times}$ given by sending this matrix to $c_n$. Then $\ker g$ consists of matrices of the form
\[
  \left[
    \begin{matrix}
       1 & & &  c_1\\
       & 1 &  \text{\huge0} & \vdots \\
       & & \ddots & c_{n-1}  \\
        & \text{\huge0}  & &  1 
\\
    \end{matrix}
  \right]
  \] so that $\ker g \cong (k^{n-1}, +)$, which is abelian.  Two applications of \cref{ex7}(2) show that $B_n(k)$ is solvable, completing the proof.
\end{exmp}

\begin{exmp}
$S_n$ is solvable  if and only if $n\leq 4$.
\end{exmp}

\begin{proof}
Recall the surjective homomorphism $\sgn: S_n \to \{\pm 1\}$ given by $\sigma \mapsto \det(P_\sigma)$ where $P_\sigma$ is the permutation matrix. Note that if $\sigma = (i_1, \ldots, i_k)$, then $\sgn(\sigma) = (-1)^{k-1}$. Then $\ker(\sgn) = A_n$, and we see that $S_n$ is solvable  if and only if $A_n$ is solvable. 
\end{proof}

\begin{lemma}
$A_n$ is generated by $3$-cycles. Moreover, if $n\geq 5$, then it is generated by products of pairs of independent transpositions. 

\end{lemma}

\begin{proof}
We know that $A_n$ is generated by products of even numbers of transpositions.  Now observe that 
\begin{flalign}
& (i\;j)(j\;k) = (i\;j\;k) \\ & (i\;j) (k\;l) = (i\;j\;k)(j\;k\;l) \\ & (i\;j)(j\;l) = (i\;j)(l\;m)(k\;j)(l\;m).
\end{flalign}
\end{proof}

\begin{lemma}
$\Delta S_n = A_n$. 
\end{lemma}

\begin{proof}
Clearly $A_n \supset \Delta S_n$.  When $n=3$, $S_n \cong C_3$ and $\Delta S_n$ is nontrivial, giving $A_n = \Delta S_n$. For $n >3$, we have $S_3 \subset S_n$, so that $A_3 = \Delta S_3 \subset \Delta S_n$. Thus $(1\; 2 \; 3)\in \Delta S_n$. But every $3$-cycle  is conjugate to this one. Since $\Delta S_n$ is normal, it follows that $\Delta S_n = A_n$.
\end{proof}

\begin{lemma}
We have $\Delta^{(2)}S_4 = \Delta A_4 \cong C_2 \times C_2$. Also, $\Delta^{(2)} S_n = \Delta A_n = A_n$ for $n\geq 5$.
\end{lemma}

\begin{proof}
Recall that $A_4 \unrhd \{(1), (1\;2), (3\; 4), (1\;2)(3\;4)\}\cong C_2 \times C_2$. Since $\faktor{A_4}{C_2 \times C_2}$ is abelian, we see $C_2 \times C_2 \supset \Delta A_4\ne \{e\}$. Since $\Delta A_4$ is normal, it must equal $C_2 \times C_2$.
\\ \\
Next, note that $\Delta A_4 \subset \Delta A_n$ for $n\geq 5$. Thus $(1\; 2)(3\; 4)\in \Delta A_n=\Delta^{(2)}S_n\subset S_n$ for $n\geq 4$. This implies that $\Delta A_n \unlhd S_n$ so that $\Delta A_n$ contains all conjugates of $(1\; 2)(3\; 4)$. But since two permutations are conjugate exactly when they have the same cycle type, it follows for $n\geq 5$ that  $\Delta A_n = A_n$. (Hence $A_n$ is not solvable when $n\geq 5$.)
\end{proof}

\subsection{Lecture 6}

\begin{remark}
In Galois theory, one finds that a polynomial $f(x)$ over $\Q$ is solvable in radicals if and only if the group $\gal(f)$ is solvable. 
\end{remark}

\begin{remark}
For finite groups, we can add information to our chain of implications in \cref{r10} as follows.
\begin{enumerate}
\item Cyclic $\subsetneq$ Abelian $\subsetneq$ Nilpotent $\subsetneq$ Solvable.
\item Cyclic $\subsetneq$ \textbf{Abelian} $\subsetneq$ Polycyclic $\bm =$  Solvable.
\end{enumerate}
\end{remark}

\begin{remark}
Symmetry groups of polynomials are similar to freely acting symmetry groups of homeomorphisms on topological spaces, giving a correspondence $\gal(f) \longleftrightarrow \pi_1(X)$. 

Moreover, if the space $X$ has interesting underlying geometry, then the possibilities of $\pi_1(X)$ belonging to one of the classes of groups listed in \cref{r10} are constrained. For example,
a compact complex submanifold of $\CP^n$ is known as a Kahler manifold. It is known that any finite group is realizable as $\pi_1(X)$ for some Kahler manifold $X$.
\begin{definition}
If $\Gamma$ is a group and $P$ a property of groups, then we say that $\Gamma$ is \textit{virtually $P$} if there exist a finite subgroup $F \unlhd \Gamma$ and a subgroup $I \leq \Gamma$ of finite index so that if $q: \Gamma \to \faktor{\Gamma}{F}$ is the natural projection, then $q(I)$ has $P$. 
\end{definition}
For $\pi_1(X)$ with $X$ a Kahler manifold, we have the following chains of implications due to Arapura-Nuri (2005).
\begin{enumerate}
\item v. Cyclic $\subsetneq$ v. Abelian $\subsetneq$ v. Nilpotent = v. Solvable.
\item v. Cyclic $\subsetneq$ v. Abelian $\subsetneq$ v. Polycyclic = v. Solvable.
\end{enumerate}
\end{remark}

\begin{exmp}
If $|G| =p^2$ for $p$ prime, then $G$ is abelian.
\end{exmp}
\begin{proof}
This follows from the fact that $G$ has nontrivial center as a result of the class equation.
\end{proof}

\begin{exercise}
Show that $G$ from our last example is isomorphic to either $C_p \times C_p$ or $C_{p^2}$.
\end{exercise}

\section{Sylow theorems}

\begin{definition}
Let $G$ be a group with $|G|= p^km$ for $p$ prime, $k\geq 1$, $m\geq 1$, and $(p,m) =1$. Then $H \leq G$ is called a \textit{$p$-Sylow subgroup of $G$} if $|H| = p^k$.
\end{definition}

\begin{theorem}[Weak Sylow-I]
Every finite group $G$ with $|G| = p^{\beta}m$ contains a $p$-Sylow subgroup.
\end{theorem}
\begin{proof}
We use induction on $|G|$. Write $G= Z(G) \coprod_{x\notin Z(G)} C(x)$ as the union of conjugacy classes. \\ \\ \underline{Case 1:} Let $x\in G$ such that $|C(x)|>1$ and $p\nmid |C(x)|$. But since $|C(x)||Z_G(x)| =|G|$, we see that $|C(x)| \mid m$ and $p^{\beta}\mid |Z_G(x)|< |G|$. By induction $Z_G(x)$ and thus $G$ contain a $p$-Sylow subgroup.
\\ \\ \underline{Case 2:}
 Suppose that for any $x\in G$, if $|C(x)| >1$, then $p\mid |C(x)|$. Then $p\mid Z(G)$. Write $|Z(G)| = p^{\alpha}n$ with $1\leq \alpha\leq \beta$ and $(n, p)=1$. If $\alpha = \beta$, then we're done by induction, so assume that $\alpha <
 \beta$. Since $|Z(G)| < G$, by induction we have some $H\leq Z(G)$ with $|H| = p^{\alpha}$. This is normal in $G$, and $|\faktor{G}{H}| = p^{\beta - \alpha}\frac{m}{n} < |G|$. Thus there is some $p$-Sylow subgroup $S\leq \faktor{G}{H}$.  Let $S'\coloneqq q^{-1}(S)$ be the pullback of $S$.  Then $\faktor{S'}{H} =S$, implying that $p^{\beta}= |S'|$. 
\\ \\ \underline{Case 3:} Assume that $Z(G) = G$. Then we can apply the FTFAG (see below) and induction to get a direct product of $p$-Sylow subgroups of $G$'s invariant factors, which will be a $p$-Sylow subgroup of $G$. 
\end{proof}

\begin{note}
We have another proof of Weak Sylow-I. Let $|G| = p^{\beta}m$ with $(p, m) =1$. Define $$ S = \{A\subset G : |A| = p^{\beta}\}.$$ We see that $G$ acts on $S$ by left translation and that $|S| = {p^{\beta}m \choose p^{\beta}}$, which is coprime to $p$. Therefore, there is some orbit $\Omega_x$ such that $p \nmid  |\Omega_x|$. Since $|\Omega_x||\stab_G(x)| = |G|$, we must have that $p^{\beta} \mid |\stab_G(x)|$. Note that $\stab_G(x)$ acts on $A$ by left translation. As this action is free, each orbit must have cardinality equal to $|\stab_G(x)|$ and thus be divisible by $p^{\beta} =|A|$. This implies that $A$ is the only orbit, and $|A| = \stab_G(x)$.
\end{note}

\begin{exercise}[Strong Sylow-I]
Use the fact that every $p$-group is nilpotent to prove that a finite group contains a $p$-subgroup of every possible order.
\end{exercise}

\subsection{Lecture 7}

\begin{theorem}[Sylow-II] Let $G$ have $|G|= p^{\beta}m$ as before. Then the following hold.
\begin{enumerate}
\item Every $p$-subgroup of $G$ is contained in some $p$-Sylow subgroup.
\item Any two $p$-Sylow subgroups of $G$ are conjugate.
\end{enumerate}
\end{theorem}

\begin{proof} $ $
\begin{enumerate}
\item Let $H\leq G$ be a $p$-subgroup and $S\leq G$ a $p$-Sylow subgroup.  Let $H$ act by left translation on the coset space $\faktor{G}{S}$. We have $\faktor{G}{S} = \coprod$ ($H$-orbits), where each $H$-orbit has cardinality dividing $|H|$. If $\mathds{O}$ is a nontrivial orbit, then $p\mid |\mathds{O}|$, so that if every orbit is nontrivial, then $p\mid |\faktor{G}{S}| =m$, a contradiction. Thus there is some orbit $\mathds{O} = \{gS\}$. Since $hgS = gS$ for every $h\in H$, we have $g^{-1}Hg\subset S$, i.e., $H\leq gSg^{-1}$. Note that $|gSg^{-1}|=|S|$.
\item We just showed that $H\leq gSg^{-1}$ for some $g\in G$. Hence if $|H| = p^{\beta}$, then $H=gSg^{-1}$.
\end{enumerate}
\end{proof}

\begin{corollary}
If $n_p(G)=1$, then the $p$-Sylow subgroup is normal in $G$.
\end{corollary}

\begin{corollary}
Let $S\in \Syl_p(G)$. Then $N_G(N_G(S)) = N_G(S)$.
\end{corollary}

\begin{proof}
We know $N_G(S) \subset N_G(N_G(S))$. Since $N_G(S)$ is the maximal subgroup $H$ of $G$ such that $S\unlhd H$, it suffices to show that $S\unlhd N_G(N_G(S))$.
\\ \\
Pick $H$ a $p$-Sylow subgroup of $N_G(N_G(S))$. If $h\in H$, then $|h| =p^K$ for some $K\geq 0$. Consider $\bar{h} \in \faktor{N_G(N_G(S))}{N_G(S)}$. The $|\bar{h}|$ is also a $p$-power. Observe that $$[N_G(N_G(S)): N_G(S)]\mid [G: N_G(S)] \mid [G:S]=m.$$ Therefore, $|\bar{h}| =1$, so that $h \in N_G(S)$. It follows that $H \subset N_G(S)$. Since $H$ and $S$ are both $p$-Sylow subgroups of $N_G(S)$, we know that $H = nSn^{-1} = S$ for some $n\in N_G(S)$. Thus, $S$ is the unique $p$-Sylow subgroup of $N_G(N_G(S))$, hence is normal in $N_G(N_G(S))$.
\end{proof}

\begin{exercise} Let $G$ have $|G|=p^{\beta}$ and $H\leq G$ have $|H|=p^{\alpha}$ where $\alpha < \beta$. 
\begin{enumerate}
\item Let $H$ act by left translation on $\faktor{G}{H}$. Prove that there is a fixed point other than $eH$.
\item Show that $H\leq N_G(H)$.
\item Show that there is some $\tilde{H} \leq G$ such that $|\tilde{H}| =p^{\alpha+1}$ and $H \leq \tilde{H} \leq G$.
\end{enumerate}
\end{exercise}

\begin{theorem}[Sylow-III]
Suppose $|G|= p^{\beta}m$ as before. Let $\Syl_p(G)$ denote the set of $p$-Sylow subgroups of $G$. Let $n_p(G)$ and $\syl_p(G)$ denote $\# \Syl_p(G)$. Then
\begin{enumerate}
\item $n_p(G) \mid m$.
\item $n_p(G) \equiv 1 \mod p$.
\end{enumerate}
\end{theorem}

\begin{proof} $ $
\begin{enumerate}
\item Notice that $G$ acts transitively on $\Syl_p(G)$ by conjugation, hence $n_p(G) \mid |G|$. But below we show that $n_p(G)$ and $p$ are coprime. Therefore, $n_p(G) \mid m$.
\item The conjugation action of $G$ on itself induces a transitive action of $G$ on $\Syl_p(G)$. If $H \in \Syl_p(G)$, consider $\stab_H(G) = N_G(H)$. Now restrict the action to some $p$-Sylow subgroup $S$. We have  that $\Syl_p(G) = \coprod$ ($S$-orbits). This implies that if there is exactly one fixed point, then $n_p(G) \cong 1 \mod p$. Suppose that $H$ is a fixed point. Call it $H$. Then $H$ and $S$  are $p$-Sylow subgroups of $N_G(H)$. Thus, they are conjugate. Hence $H=S$.
\end{enumerate}
\end{proof}

\begin{note}
The number of $p$-Sylow subgroups of $G$ is equal to $[G : N_G(S)]$ where $S\in \Syl_p(G)$.
\end{note}

\begin{corollary}
If $|G| = pq$ for primes $p<q$ such that $q \not \equiv 1 \mod p$, then $G\cong C_{pq}$. 
\end{corollary}

\begin{exmp}
Every group of order $45$ is abelian.
\end{exmp}

\subsection{Lecture 8}

\begin{theorem}[Fundamental theorem of finite abelian groups]
If $G$ is a finite abelian group, then $$ G \cong \Z/u_1 \times \cdots \times \Z/u_n$$ such that each $u_i \in \Z_{>0}$ and $u_i \mid u_{i+1}$ for each $i=1, \ldots, n-1$.
\end{theorem}
\begin{proof}
Choose finitely many generators $g_1, \ldots, g_n$ for $G$ with $n$ minimal. We have a surjective homomorphism $\phi : \Z^n \to G$ given by $e_i \mapsto g_i$. Set $ N = \ker \phi$.
\begin{claim}
$N$ is free. In particular, $N \cong \Z^n$.
\end{claim}
\begin{proof}
Induct on $n\geq 1$. For the base case, notice that  $N = d\Z$ for some integer $d\ne 0$, so that $N \cong \Z$. For the induction step, suppose that the claim holds for any subgroup $M\leq \Z^m$ of finite index where $m<n$. Set $M = \langle e_1, \ldots, e_{n-1}\rangle\cap N$. Then $\faktor{\langle e_1, \ldots, e_{n-1}\rangle}{M}\leq \faktor{\Z^n}{N}$, which is finite. By our induction hypothesis, it follows that $M \cong \langle e_1, \ldots, e_{n-1}\rangle$. Find a basis $(f_1, \ldots, f_{n-1})$ for $M$ and define the surjective group map $p : \Z^n \to \Z$ by $(x_1, \ldots, x_n) \mapsto x_n.$ Then $\ker p = \langle e_1, \ldots, e_{n-1}\rangle$. We also see that $p(N) \ne 0$ for otherwise $N$ would have infinite index. Hence $p(N) = k\Z$ for some nonzero integer $k$. Define $f_n = (0, \ldots, 0, k)\in \Z^n$, so that $p(f_n) =k$. Then $(f_1, \ldots, f_n)$ is a basis for $N$. Indeed, if $\xi \in N$, then $p(\xi) = zk$ for some $z\in \Z$. Then $\xi - zf_n \in \ker p \cap N = M$. Hence $\xi \in \langle f_1, \ldots, f_n\rangle$. Moreover, given the equation $0 = a_1f_1 + \cdots + a_nf_n$, we see that $0= p(0) = a_nk$. Since $f_1, \ldots, f_{n-1}$ are linearly independent, it follows that $a_i= 0$ for each $i=1, \ldots, n$. Thus, $f_1, \ldots, f_n$ are linearly independent as well.
\end{proof}
Let $i : N \to \Z^n$ denote inclusion. As this is $\Z$-linear, it may be represented by some $C\in \Mat_n(\Z)$. But $\Z$-linearity entails $\Q$-linearity. Hence $C$ also defines a $\Q$-linear map $i_{\Q} : \Q^n \to \Q^n$. Note that if $\ker i_{\Q} \ne 0$, then $\ker i \ne 0$, which is impossible. By linear algebra, we thus know that $\det(C) \ne 0$.

One can show that by elementary row and column operations, $C$ is equivalent to a diagonal matrix $(u_1, \ldots, u_n)$ such that each $u_i \in \Z_{>0}$ and $u_i \mid u_{i+1}$ for each $i=1, \ldots, n-1$. In particular, we can find bases $(\tilde{f}_i)$ and $(\tilde{e}_i)$ of $N$ and $\Z^n$, respectively, such that $ \tilde{f}_i = u_i \tilde{e}_i$ for each $i$. Therefore, we may write $G\cong \faktor{\Z^n}{N} \cong \Z/u_1 \times \cdots \times \Z/u_n$.
\end{proof}

\begin{remark}
We may adapt this proof to show that if $A$ is a finitely generated abelian group, then $$A \cong \Z^r \times \Z/u_1 \times \cdots \times \Z/u_n$$ for some integer $r\geq 0$. 
\end{remark}

\section{Composition series}

\subsection{Lecture 9}

\begin{definition}
A group $G$ is \textit{simple} if it has no nontrivial proper normal subgroup.
\end{definition}

\begin{exmp} $ $
\begin{enumerate}
\item An abelian group is simple if and only if it has order $p$ prime.
\item A $p$-group is simple if and only if it has order $p$.
\item If $|G| = pq$, then $G$ is not simple.
\end{enumerate}
\end{exmp}

\begin{definition}
A \textit{composition series for $G$} is a subnormal series $G = G_0 > G_1 > \cdots > G_k = \{e\}$ where each $\faktor{G_i}{G_{i+1}}$ is simple.
\end{definition}

\begin{exmp} $ $
\begin{enumerate}
\item Any finitely generated group $G$ has a composition series.
\begin{proof}
If $G$ is simple, then we're done. So assume otherwise. Let $n\in \N$ be maximal so that there is some proper $H \lhd G$ that contains $n$ generators of $G$. Let $S$ denote the set of such $H$. Note that $S$ satisfies the hypotheses of Zorn, giving a maximal element $H'$. Then $\faktor{G}{H'}$ is simple. {[[How do we proceed if $H'$ is not simple or finitely generated? If $G$ is abelian, then we're good, but not otherwise.]]}
\end{proof}
\item $\Z$ has no composition series, since no nontrivial subgroup of $\Z$ is simple.
\item Any $p$-group admits a composition series where each factor is $\faktor{\Z}{p}$.
\item If $|G|= pq$, then $G > G_1 > \{e\}$ where $G_1$ is the unique $q$-Sylow subgroup is a composition series.
\end{enumerate}
\end{exmp}

\begin{prop}
$A_5$ is simple.
\end{prop}
\begin{proof}
Suppose $N \unlhd A_5$ is nontrivial. Let $\sigma \in N$ be nontrivial. We may assume that $|\sigma| =p$ for some prime $p$. Then $\sigma$ can be decomposed into disjoint cycles each of length $p$.
\begin{lemma}
If $\sigma \in A_n \subset S_n$ and in the decomposition of $\sigma$ we have one of
\begin{enumerate}
\item two even cycles of equal length
\item an odd cycle,
\end{enumerate}
then the conjugacy class of $\sigma$ in $A_n$ equals its conjugacy class in $S_n$.
\end{lemma}
\begin{proof}
If the first condition holds so that $\sigma = (i_1 \cdots i_r)(j_1 \cdots j_r)\cdots$ with $r$ odd, then construct odd $\tau = (i_1 \; j_1)(i_2 \; j_2) \cdots (i_r \; j_r)$. Note that $$\tau(i_1 \cdots i_r)\tau^{-1} = (j_1 \cdots j_r) $$ and $$\tau (j_1 \cdots j_r) \tau^{-1} = (i_1 \cdots i_r).$$ This implies that $\tau \in Z_{S_n}(\sigma)$. It's easy to see as well that there is an odd permutation in the centralizer when the second condition holds. Now, let $\phi \in \conj_{S_n}(\sigma)$. Write $\phi = \alpha \phi \alpha^{-1}$. Assume $\alpha$ is odd. Then there is some odd $\tau \in Z_{S_n}(\sigma)$. Noe that $(\alpha \tau) \sigma (\alpha \tau)^{-1} = \alpha \tau \sigma \tau^{-1} \alpha^{-1} = \alpha \sigma \alpha^{-1} = \phi$. But $\alpha \tau$ is even, completing the lemma.
\end{proof}
We have three cases to consider. If $p=2$, then $\sigma$ is the product of two independent transpositions. By the lemma, it follows that $N = A_5$. If $p=3$, then $N$ contains all $3$-cycles because any two $3$-cycles are conjugate in $A_5$. Finally, suppose $p=5$. Write $\sigma = (i_1 \cdots i_5)$ and $\tau = (i_1 \; i_2\; i_3) \sigma (i_1 \; i_2\; i_3)^{-1} = (i_2 \; i_3 \; i_1 \; i_4 \; i_5)$. Then $\tau \sigma^{-1} = (i_1 \; i_2 \; i_3) \in N$, implying that $N$ contains all $3$-cycles. In conclusion, $N$ cannot be proper. {[[Why did we need that whole lemma?]]}
\end{proof}

\begin{exmp}
If $|G| = pq$, then $\faktor{\Z}{q} \overset{i}{\hookrightarrow} F \overset{\pi}{\twoheadrightarrow} \faktor{\Z}{p}$ where $\im(i) = \ker \pi$. What data do we need to reconstruct $G$ from $\faktor{\Z}{p}$ and $\faktor{\Z}{q}$?
\end{exmp}

\begin{definition}
A sequence of groups with homomorphisms $S \overset{\phi}{\to} G \overset{\pi}{\to} Q$ is called a \textit{short exact sequence} if $\phi$ is injective, $\pi$ is surjective, and $\ker \pi = \im(i)$. In this case, we say that $G$ is an \textit{extension of $Q$ by $S$}. If $\phi(S) \leq Z(G)$, then we say this is a \textit{central extension}.
\end{definition}

\begin{definition}
In general, a sequence $G_1 \overset{\phi_1}{\to} G_2 \overset{\phi_2}{\to} \cdots \overset{\phi_k}{\to} G_k$ is called \textit{exact at the term $G_i$} if $\ker \phi_i = \im(\phi_{i-1})$ and is called \textit{exact} if it is exact at all terms where this makes sense.
\end{definition}

\begin{remark}
If $G$ has subnormal series $G = G_0 > G_1 > \cdots > G_k = \{e\}$, then for each $0 \leq i \leq k-1$, we get an extension $\eta_i : 1 \to G_{i+1} \to G_i \to \faktor{G_i}{G_{i+1}} \to 1$. Thus $G$ can be built successively from the $\faktor{G_i}{G_{i+1}}$ and $\eta_i$.
\\ \\ This reduces the classification problem for groups admitting decomposition series to two smaller classification problems.
\begin{enumerate}
\item Understand all possible simple groups
\item Understand ways of extending simple groups by a subgroup.
\end{enumerate}
\end{remark}

\begin{definition}
A group extension $1 \to H  \overset{i}{\to} G \overset{q}{\to} K \to 1$ is called \textit{split} if we can find a homomorphism $s : K \to G$ such that $q \circ s = \id_K$. In symbols, \[
	\begin{tikzcd}
	1\rar & H\rar["i" above] & G\rar["q" above] & K\rar\lar[bend left=30,"s" below] & 1. \\
	\end{tikzcd}
\]
\end{definition}

\begin{exmp}
Suppose $|G|= pq$. Then $1 \to \faktor{Z}{q} \to G \to \faktor{Z}{p}$ is split.
\end{exmp}

\begin{remark}
If  \[
	\begin{tikzcd}
	1\rar & H\rar["i" above] & G\rar["q" above] & K\rar\lar[bend left=30,"s" below] & 1. \\
	\end{tikzcd}
\]
is a split exact sequence, then we say $G$ is essentially a product of $H$ and $K$ by way of the inclusions $H \overset{i}{\hookrightarrow} G$ and $K \overset{s}{\hookrightarrow} G$. Further, we have $HS \cong G$ and $H \unlhd G$ where $S\coloneqq s(K) \cong K$. To see that $G = HS$, note if $g \in G$, then $q(g) \in K$ and $x\coloneqq  s(q(g)) = g \in S$ with $q(gx^{-1}) = q(g)q(x)^{-1} = e$, implying that $gx^{-1} \in \ker q = H$.
\end{remark}

\subsection{Lecture 10}

\begin{remark}
Recall that $G$ decomposes as the (direct) product of $G_1, \ldots, G_k$, i.e., the map $$\phi : G_1 \times \cdots \times G_k \to G, \quad  (g_1, \cdots, g_k) \mapsto g_1\cdots g_k$$ is an isomorphism, if and only if
\begin{enumerate}
\item Each $g\in G$ can be written uniquely as $g_1 g_2\cdots g_k$, i..e, $\phi$ is bijective.
\item We have $xy = yx$ for any $x \in G_i$ and $y\in G_j$, i.e., $\phi$ is a morphism.
\end{enumerate}
\end{remark}

\begin{exercise}
Check that condition (1) is equivalent to saying $G_1 \cdots G_k = G$ and $G_i \cap (G_1 \cdots \widehat{G}_i \cdots G_k) = \{e\}$ and that condition (2) is equivalent to saying $G_i \unlhd G$ for each $i$.
\end{exercise}

\begin{exmp} $ $
\begin{enumerate}
\item $\C^{\ast} \cong S^1 \times \R$ via $z \mapsto (e^{i\theta}, r)$. Note also the extension \[
	\begin{tikzcd}
	1\rar & S^1\rar["i" above] & \C^{\ast}\rar["|\cdot|" above] & \R_{>0}\rar & 1. \\
	\end{tikzcd}
\]
\item $\GL_n^{+}(\R) \cong \SL_n(\R) \times \R_{>0}$ via $A\mapsto (\frac{A}{\sqrt[n]{\det A}}, \det A)$.
We have a short exact sequence  \[
	\begin{tikzcd}
	1\rar & \SL_n\rar["i" above] & \GL_n^{+}(\R)\rar["\det" above] & \R_{>0}\rar\lar[bend left=30,"s" below] & 1, \\
	\end{tikzcd}
\] where $s(x) = \frac{1}{\sqrt[n]{a}}I_n$. Note that $s(\R_{>0}) = Z(\GL_n^+(\R))$, which of course commutes with $\SL_n(\R)$.
\item Let $\mathsf{Diag}_n$ be the group of diagonal matrices over $k$. Then $\mathsf{Diag}_n \cong \underbrace{k^{\ast}\times \cdots \times k^{\ast}}_{n}.$
\item If $p$ is prime, then $\faktor{\Z}{p^2}$ is not a product of any nontrivial subgroups. For if $\faktor{\Z}{p^2} \cong H \times K$, then $H \unlhd \faktor{\Z}{p^2}$ is nontrivial, so that $H = \langle x^p \rangle$ where $\langle x \rangle = \faktor{\Z}{p}$. Similarly, $K \cong C_p$. But $K \ne H$, while there is a unique subgroup of order $p$. \\ \\ In fact, this shows that $1 \to H \to \faktor{\Z}{p} \to K \to 1$ cannot be split.
\item If $a, b >0$ are coprime, then $\faktor{\Z}{ab} \cong \faktor{\Z}{a} \times \faktor{\Z}{b}$. However, $S_3 \not \cong \faktor{\Z}{2} \times \faktor{\Z}{3}$, as $s(\faktor{\Z}{2})$ below is not normal. 
\[
	\begin{tikzcd}
	1\rar & \faktor{\Z}{3}\rar["i" above] & S_3(\R)\rar["\sgn" above] & \faktor{\Z}{2}\rar\lar[bend left=30,"s" below] & 1, \\
	\end{tikzcd}
\] 
\end{enumerate}
\end{exmp}

\begin{definition}
Suppose $H, K\leq G$ with $H$ normal and $G = HK$. Then if $H \cap K$ is trivial, we call $G$ the \textit{semidirect product of $H$ and $K$}, denoted by $H \rtimes K$.
\end{definition}

\begin{remark}
Recall that if $H \unlhd G$ and $K \leq G$, then $HK = KH$ is a subgroup.
\end{remark}

\begin{prop}
Suppose $G = HK$ with $H\unlhd G$ and $H \cap K = \{e\}$. Let $\alpha : K \to \aut_{\mathsf{grp}}(H)$ be the inner automorphism of $H$, which depends on the group law $*_G$. Then $*_G$ can be recovered from $*_H$, $*_K$, and $\alpha$.
\end{prop}
\begin{proof}
Let $g_1, g_2 \in G$. Then decompose $g_1 = h_1k_1$ and $g_2= h_2k_2$ uniquely. Thus $g_1g_1 = (h_1\alpha_{k_1}(h_2))k_1k_2$.
\end{proof}

\begin{definition}
Let $K$ and $H$ be groups and $\alpha : K \to \aut(H)$ be a structure-preserving action. Then the \textit{semidirect product of $K$ with $H$ along $\alpha$}, denoted by $H \rtimes_{\alpha} K$, is the group with underlying set $H \times K$ and group law $(h_1, k_1)(h_2, k_2) \coloneqq  (h_1 \alpha_{k_1}(h_2), k_1k_2)$.
\end{definition}

\begin{remark}
Every semidirect product is naturally a split extension of $K$ by $H$. Indeed, if $K \ltimes_{\alpha} H$, then $i_H : H \to K \ltimes_{\alpha} H$ is normal and $p_K : K\ltimes_{\alpha} H \to K$ is a surjective homomorphism with kernel $H$. Thus \[
	\begin{tikzcd}
	1\rar &H\rar["i_H" above] & K\ltimes_{\alpha} H \rar["p_K" above] & K\rar\lar[bend left=30,"i_K" below] & 1 \\
	\end{tikzcd}
\] is split, and $i_K(K)$ is normal  if and only if $\alpha$ is trivial if and only if $K \ltimes_{\alpha} H \cong H \times K$.
\\ \\ Conversely, if 
\[
	\begin{tikzcd}
	1\rar &H\rar["i" above] & G \rar["q" above] & K\rar\lar[bend left=30,"s" below] & 1 \\
	\end{tikzcd}
\]
is a split extension, then we get an inner automorphism $\alpha : s(K) \to \aut(H)$. Note that $s(K)$ is normal if and only if $\alpha$ is trivial. The map $\phi : \ltimes_{\alpha} H \to G$ given by $(h,x) \mapsto hx$ is an isomorphism.
\end{remark}

\begin{definition}
Let \[
	\begin{tikzcd}
	1\rar &H\rar["i_1" above] & G_1 \rar["q_1" above] & K\rar& 1 \\
	\end{tikzcd}
\]
and 
\[
	\begin{tikzcd}
	1\rar &H\rar["i_2" above] & G_2 \rar["q_2" above] & K\rar& 1 \\
	\end{tikzcd}
\]
be extensions. Then they are \textit{equivalent} or \textit{isomorphic} if there is some map $\phi : G_1 \overset{\cong}{\longrightarrow} G_2$ such that 
\[
\begin{tikzcd}
1 \arrow[r] & H \arrow[r] \arrow[d, "\id" description] & G_1 \arrow[r] \arrow[d, "\phi" description] & K \arrow[r] \arrow[d, "\id" description] & 1 \\
1 \arrow[r] & H \arrow[r] & G_2 \arrow[r] & K \arrow[r] & 1
\end{tikzcd}
\]
commutes.
\end{definition}

\begin{exmp} $ $
\begin{enumerate}
\item $S_n \cong C_2 \ltimes_{\alpha} A_n$ where $\alpha(1) = \conj_{(1 \; 2)}$.
\item  If $|G| = pq$ with $q>p$, then $G \cong \faktor{\Z}{p} \ltimes_{\alpha} \faktor{\Z}{q}$. Note that by Sylow if $q\not \equiv 1 \mod p$, then $\alpha$ must be trivial. 
\end{enumerate}
\end{exmp}

\begin{exercise}
Let $H(V, W)$ denote the Heisenberg group. Show that $0 \to \R \to H(V, W) \to V \to 0$ cannot be split.
\end{exercise}

\subsection{Lecture 11}

\begin{definition}
A group $G$ is \textit{indecomposable} if it cannot be written as the direct product of two nontrivial subgroups. By convention, the trivial group is not indecomposable. 
\end{definition}

\begin{remark}
Once we answer the question of existence, we ask in how many ways can we break a group into (a) simple groups or (b) indecomposable groups. We've shown that the existence of a composition series ensures that a group can be broken into simple groups. We now turn to the existence question for (b).
\end{remark}

\begin{definition} We say that $G$ has
\begin{enumerate}
\item the \textit{ascending chain condition (ACC)} if any ascending normal series of subgroups stabilizes.
\item the \textit{descending chain condition (DCC)} if any descending normal series of subgroups stabilizes.
\end{enumerate}
\end{definition}

\begin{exmp} Any scenario can happen.
\begin{enumerate}
\item Finite $G$ has both ACC and DCC.
\item $\Z$ has ACC but not DCC.
\item Given $p$ prime, let $G_p \coloneqq  \{z\in \C^{\ast} : z^{p^k} =1$ for some $k \}$. This has DCC but not ACC. {[[Why?]]}
\item $\Q$ has neither property.
\end{enumerate}
\end{exmp}

\begin{exercise} $ $
\begin{enumerate}
\item Given the exact sequence $1 \to H \to G \to K \to 1$, if both $H$ and $K$ have ACC and DCC, then so does $G$. 
\item If $G = H \times K$ and $G$ has ACC and DCC, then so do $H$ and $K$.
\end{enumerate}
\begin{proof} $ $ 
\begin{enumerate}
\item 
\item $H$ and $K$ are normal in $G$, and any normal subgroup of either is normal in $G$.
\end{enumerate}
\end{proof}
\end{exercise}


\begin{prop}\label{lp}
If $G$ has either ACC or DCC, then it can be written as the product of indecomposables.
\end{prop}
\begin{proof}
Let $D$ denote the class of groups that can be written as the product of indecomposables. Note that $D$ is closed under direct products and that it contains any indecomposable group. \\ \\ Assume, for contradiction, that $G$ has DCC but $G \notin D$. Set $H_0 = G$ so that $H_0 = H_1 \times K_1$ with $H_1 \notin D$ and $K_1 \ne \{e\}$. Proceeding in this way, we can construct $H_n = H_{n+1} \times K_{n+1}$ with $H_{n+1} \notin D$ and $K_{n+1}$ nontrivial. Thus we get a normal series $G= H_0 > H_1 > H_2 > \cdots$. But there must be some $i$ such that $H_i = H_{i+1}$, a contradiction.
\\ \\ Next, assume that $G$ has ACC but $G \notin D$. By the same process as above, we can construct a normal series $K_1 < K_1 \times K_2 < K_1 \times K_2 \times K_3 < \cdots < \cdots < G$. But this must stabilize as well, a contradiction.
\end{proof}

\begin{theorem}[Krull-Schmidt]
Suppose $G$ has ACC and DCC, so that $G$ is a product of indecomposables $$G = A_1 \times \cdots \times A_s$$ $$G = B_1 \times \cdots \times B_t.$$ Then $s=t$, and $A_i = B_i$ up to reindexing the $B_j$.
\end{theorem}
\begin{proof}
Recall that $\ed(G) = \{\phi : G \to G \mid \phi$ is a homomorphism$\}$. This is a monoid under composition.
\begin{definition}
An endomorphism $\phi$ of $G$ is \textit{normal} if $\phi \circ \conj_x = \conj_x \circ \phi$ for any $x\in G$.
\end{definition}
\begin{lemma} Basic properties of normal endomorphisms.
\begin{enumerate}
\item The set of normal endomorphisms is closed under composition.
\item The inverse of a normal automorphism is also normal.
\item Normal endomorphisms preserve normal subgroups.
\item If $\phi$ and $\psi$ are normal, then $\phi + \psi$ is normal, where $\phi + \psi$ is given by $g\mapsto \phi(g)\psi(g)$.
\item If $G = G_1 \times \cdots \times G_k$ and $p_i$ and $f_i$ denote projection and inclusion, respectively, then each each $f_ip_i$ is normal. Moreover, for any $\{a_1, \ldots, a_r\} \subset \{1, \ldots, k\}$, we have that $\sum_{j=1}^r f_{a_j}p_{a_j}$ is normal.
\end{enumerate}
\end{lemma}
\begin{prop}
If $G$ has ACC and DCC and $\phi$ is normal, then $\phi$ is injective if and only if it's surjective.
\end{prop}
\begin{proof}
Suppose first that $\ker \phi$ is trivial. Suppose there is some $g \in G \setminus \phi(G)$.  Then $\phi^n(g) \notin \phi^{n+1}(G)$ for any $n \geq 1$. Hence $G > \phi(G) > \phi^2(G) > \cdots$ is a normal series that fails to terminate, a contradiction. \\ \\ Now suppose that $\phi$ is not injective. Find nontrivial $g_1 \in \ker \phi$. Suppose, for contradiction, that $\phi(g_2) = g_1$ for some $g_2$. Then $g_2 \notin \ker \phi$ but $g_2 \in \ker \phi^2$. Continue to get the chain $\ker \phi < \ker \phi^2 < \cdots$, which fails to stabilize, a contradiction. 
\end{proof}

\begin{definition}
An endomorphism $\phi$ is \textit{nilpotent} if $\phi^n = (g \mapsto e)$ for some $n\geq 1$.
\end{definition}

\begin{lemma}[Fitting]
If $G$ has ACC and DCC and $\phi: G \to G$ is normal, then $G = K \times H$ where $$\phi(K) \subset K$$ $$\phi(H) \subset H$$ $$\phi \restriction_K \text{ is nilpotent}$$ $$\phi \restriction_H \text{ is an automorphism}.$$
\end{lemma}
\begin{proof}
For each $n\in \N$, set $K_n = \ker \phi^n$ and $H_n = \im \phi^n$. This gives the normal series $$G= H_0 \geq H_1 \geq \cdots$$ $$K_1 \leq K_2 \leq \cdots \leq G.$$ Find $a \in \N$ where both stabilize. Set $H = H_a$ and $K = K_a$. Then $\phi(H) = \phi(\phi^a(H)) = \phi^{a+1}(H) = H_{a+1} = H_a = H$. Further, $\phi(K) = \phi(K_a) = \{\phi(x) : x \in \ker \phi^a\}$. implying $\phi^a\phi(x) = \phi(\phi^a(x)) =e$. Hence both $H$ and $K$ are stable under $\phi$. Note that we've shown $\phi \restriction_H$ is surjective. By \cref{lp}, $\phi \restriction_H$ is an isomorphism provided that $H$ has ACC and DCC. But we can show $G = K \times H$ as follows.
\begin{enumerate}[label=(\alph*)]
\item Let $x \in K \cap H$. Then $x \in H = H_a = \phi^a(G) \implies \phi^a(G) = x$ for some $g \implies \phi^a(\phi^a(g)) = \phi^a(x) =  0 \implies g \in K_{2a} = K_a = K \implies \phi^a(g) = e \implies x =e$. 
\item Let $g \in G$. Then $ \phi^a(g) \in H = H_a = H_{2a} \implies \phi^a(g) = \phi^{2a}(x)$ for some $x\in G \implies \phi^a(g \phi^a(x^{-1})) =e \implies g\phi^a(x) \implies g\phi^a(x^{-1}) \in K_a =K \implies g = kh$ for some $k\in K$ and $h\in H$.
\item $H, K \unlhd G$,
\end{enumerate}
It remains to show that $\phi \restriction_K$ is nilpotent. But it's clear that $(\phi \restriction_K)^a = e$.
\end{proof}

\subsection{Lecture 12}

\begin{corollary} 
Suppose that $G$ is indecomposable and has ACC + DCC. Then any normal $\phi : G \to G$ is either nilpotent or an automorphism.
\end{corollary}

\begin{lemma}
Suppose $G$ is indecomposable and has ACC + DCC and that $\phi$ and $\psi$ are endomorphisms such that $\phi + \psi$ is an endomorphism. Then if $\phi$ and $\psi$ are nilpotent, so is $\phi + \psi$.
\end{lemma}
\begin{proof}
By our previous corollary, assuming that $\phi + \psi$ is not nilpotent, it must be an automorphism. Set $\gamma = (\phi + \psi)^{-1}$. Then $\underbrace{\phi \circ \gamma}_U + \underbrace{\psi \circ \gamma}_V = (\phi +\psi) \circ \gamma = \id_G$. Hence $U + V = \id_G$. (We call $U$ and $V$ a \textit{normal decomposition} of $\id_G$.) We see that $V + U$ is also a normal decomposition of $\id_G$ by applying $(-)^{-1}$ to $U(x)V(x) =x$ for any $x \in G$.
Now, $U^2 + UV = U(U + V) = U = (U + V)U = U^2 + VU$. This implies that $UV = VU$. Hence we can apply the binomial theorem to get $$(U + V)^n = \sum_{a=0}^n{ {n}\choose {a}} U^aV^{n-a}.$$ But since $U = \phi \circ \gamma$, we know that $\ker U\geq \gamma^{-1}(\ker \phi) \cup \{e\} > \{e\}$. Likewise, $\ker V > \{e\}$. Thus, $U$ and $V$ must be nilpotent. There are minimal $k, l \in \N$ such that $U^k = 0 = V^l$. Set $n = k+l -1 \geq 1$. Then each $U^aV^{n-a}$ has either $a\geq k$ or $n-a\geq l$, so that $\id_G = (U+V)^n = 0$, implying that $G$ is trivial. This contradicts that $G$ is indecomposable.
\end{proof}

We finally return to the proof of Krull-Schmidt. Suppose $r=1$. Let $p_i : G \to A_i$ and $q_j : G \to B_j$ be projections and $f_i : A_i \hookrightarrow G$ and $g_j : B_j \hookrightarrow G$ be inclusions. Note that each $g_j \circ q_j$ is normal and that $\sum_{j=1}^t g_j \circ q_j = \id_G$. Note also that $p_i \circ f_i = \id_{A_i}$ and $q_j \circ g_j = \id_{B_j}$. This gives $\id_{A_1} = p_1 \circ \id_G \circ f_1 = p_1 \circ (\sum_{j=1}^t g_j \circ g_j) \circ f_1 = \sum_{j=1}^t (p_1 \circ g_j \circ q_j \circ f_1)$. Each $p_1 \circ g_j \circ q_j \circ f_1$ is normal, and each sub-sum of $\sum_{j=1}^t (p_1 \circ g_j \circ q_j \circ f_1)$ is normal. Hence if each sub-sum is nilpotent, then our previous lemma implies that $A_1$ is trivial, contrary to the fact that $A_1$ is indecomposable. Hence $ p_1 \circ g_j \circ q_j \circ f_1$ for some $1\leq j \leq t$. Reindex the $B_i$'s so that $B_j = B_1$. 
\\ \\ Thus, $G= A_1 \times \cdots \times A_r$ and $G= B_j \times \cdots \times B_t$. Further, $\phi\coloneqq p_1\circ g_1\circ q_1\circ f_1$ is an automorphism. Let $\gamma\coloneqq  \phi^{-1}$. This implies $(\gamma \circ p_1 \circ g_1)\circ (q_1\circ f_1)=\id_{A_1}$, so that $q_1f_1$ has a left inverse. We check that this is also a right inverse of $q_1f_1$, giving $B_1 \cong A_1$.
\\ \\ Let $\theta \coloneqq  (q_1f_1)(\gamma p_1g_1) : B_1 \to B_1$, which is normal. We want to check that this is the identity map. It's easy to compute $ \theta^2 =  \theta.$
By Fitting, $\theta$ is either an automorphism or nilpotent. If $\theta$ is an automorphism, then $\theta^2 = \theta \implies \theta = \id_{B_1}$, and we're done. Suppose that it is nilpotent with $n$ minimal such that $\theta^n =0$. Then $0 = \theta^n = \theta^2 \circ \theta^{n-2} = \theta \circ \theta^{n-2}= \theta^{n-1}$. Hence $n=1$, so that $\theta =0$. This implies that $\id_{A_1}^2 = (\gamma p_1 g_1)(q_1 f_1)(\gamma p_1 g_1)(q_1 f_1) = (\gamma p_1 g_1)\theta(q_1 f_1) = 0$, forcing $A_1= \{e\}$, a contradiction.
\\ \\
Now, $\ker q_1 = B_2 \times \cdots \times B_t$ {[[even after reindexing?]]}, while $\ker q_1 \circ f_1 = \{e\}$. Hence $$H\coloneqq  A_1 \cdot (B_2 \times \cdots \times B_t) \cong A_1 \times B_2 \times \cdots \times B_t.$$ Define $\psi : G\to G$ by $$b_1b_2\cdots b_t \mapsto \gamma f_1p_1(b_1)b_2b_3\cdots b_t = (q_1f_1)^{-1}(b_1)b_2\cdots b_t= f_1(q_1f_1)^{-1}q_1 + g_2q_2+\cdots + g_tq_t ,$$ which is a normal endomorphism with image equal to $H$. Moreover, since $A_1\cap (B_2 \times \cdots \times B_t) =\{e\}$, we have $\ker \psi =\{e\}$. Therefore, $\psi$ is an isomorphism by Fitting, which forces $H=G$.
\\ \\ In summary, $A_2 \times \cdots \times A_s \cong \faktor{G}{A_1} \cong B_2\times \cdots \times B_t$. We can repeat our above argument to see that $s=t$ and that $A_i \cong B_i$ up to reindexing.
\end{proof}

\begin{corollary}
Suppose $G$ is finite abelian, so that $G \cong C_{p_1^{k_1}} \times \cdots \times C_{p_n^{k_n}}$. Then the $(p_i, k_i)$ are uniquely determined up to reordering.
\end{corollary}

\begin{corollary}
Suppose that $G$ is finite and that $$ G = F^0G \geq F^1G \geq \cdots \geq F^sG = \{e\}  $$ and $$G = T^0G \geq T^1G \geq \cdots \geq T^tG = \{e\}$$ are two composition series of $G$. Define the \textit{graded groups} $\gr_F(G) = \prod \faktor{F^i}{F^{i+1}}$ and $\gr_T(G) = \prod \faktor{T^i}{T^{i+1}}.$ If $\gr_F(G) \cong \gr_T(G)$, then each pair of factors of $F$ and $T$ are isomorphic up to reordering. 
\end{corollary}

\begin{definition}
If $F^{\bullet}G$ and $T^{\bullet}G$ are two composition series for $G$, then they are \textit{equivalent} or \textit{isomorphic} if $\gr_F(G) \cong \gr_T(G)$.
\end{definition}

\subsection{Lecture 13}

\begin{definition}
Let $G$ be a group. A \textit{filtration $F^{\bullet}{G}$ on $G$} is a subnormal series
\[
\cdots \unlhd F^{i+1}{G} \unlhd F^i{G} \unlhd F^{i-1}{G} \unlhd \cdots \unlhd F^0{G} = G
.\]
\end{definition}

\begin{remark} Suppose that $F^{\bullet}G$ is a filtration on $G$.
\begin{enumerate}
\item If $i : H \hookrightarrow G$, then we get an induced filtration on $H$ given by $$F^a{H}\coloneqq  i^{-1}(F^aG) = H \cap F^a{G}.$$
\item Similarly, if $q: G \to K$ is a quotient map, then we get an induced filtration on $K$ given by $$F^aK\coloneqq  q(F^aG) = \faktor{F^aG}{F^aG \cap \ker q}.$$ {[[How does this define a series of subgroups?]]}
\end{enumerate}
\end{remark}

\begin{remark}
Suppose that $F^{\bullet}G$ and $T^{\bullet}G$ are two filtrations on $G$. Define the \textit{graded $i$-th piece} as $$\gr_F^i(G) = \faktor{F^iG}{F^{i+1}G}.$$ By our previous remark, there is an induced filtration $T^{\bullet}\gr_F^i(G)$. Similarly, there is an induced filtration $F^{\bullet}\gr_T^j(G)$. Then we get graded pieces $\gr_T^j\gr_F^iG$ and $\gr_F^i \gr_T^j G$. These produce two \textit{bigraded} groups $\gr_F\gr_TG$ and $\gr_T\gr_FG$.
\end{remark}

\begin{lemma}[Zassenhaus or butterfly]
Suppose $G$ is a group with $A \unlhd \widetilde{A} \leq G \geq \widetilde{B} \unrhd B$. Then we have a group isomorphism $$\faktor{A\cdot (\widetilde{A} \cap \widetilde{B})}{A \cdot (\widetilde{A} \cap B)} \cong \faktor{B \cdot (\widetilde{A} \cap \widetilde{B})}{B\cdot (A \cap \widetilde{B})}.$$
\end{lemma}
\begin{proof}
We know that $$A \unlhd \widetilde{A} \implies A \cap \widetilde{B} \unlhd \widetilde{A} \cap \widetilde{B} \quad \quad B \unlhd \widetilde{B} \implies \widetilde{A} \cap B \unlhd \widetilde{A} \cap \widetilde{B}.$$ 
Then $D\coloneqq  ({A} \cap \widetilde{B}) \cdot (\widetilde{A} \cap {B}) \cong  (\widetilde{A} \cap {B}) \cdot ({A} \cap \widetilde{B})$ is normal in $\widetilde{A} \cap \widetilde{B}$. Let $x \in B \cdot ( \widetilde{A} \cap \widetilde{B})$ and write $x = bc$. Take $cD \in \faktor{\widetilde{A} \cap \widetilde{B}}{D}$. The map $f: x \mapsto cD$ is well-defined. Indeed, if $x = b_1c_2 = b_2c_2$, then $b_2^{-1}b_1 = c_2c_1^{-1}$, so that $c_2c_1^{-1} \in B \cap \widetilde{A} \cap \widetilde{B} = \widetilde{A}\cap B \leq D$, i.e., $c_2D = c_1D$.
\\ \\It's clear that $f$ is surjective. We show that $f$ is a homomorphism. Let $x_1= b_1c_1$ and $x_2 = b_2c_2$. Then $x_1x_2 = b_1(c_1b_2c_1^{-1})c_1c_2$. Thus, $f(x_1x_2) = c_1c_2D = (c_1D)(c_2D)$.
\\ \\
Moreover, we compute 
\begin{align*} 
\ker f &= \{x = bc : c \in D\}  
\\ & = \{ x= bc_1c_2 : c_1\in {A} \cap \widetilde{B}, \  c_2 \in \widetilde{A} \cap {B}\}
\\ & = \{ x= bc_1c_2 : c_2\in {A} \cap \widetilde{B}, \  c_1 \in \widetilde{A} \cap {B}\} 
\\ & = \{x = bc : c \in A \cap \widetilde{B}\} = B \cdot (A \cap \widetilde{B}).
\end{align*} Therefore, $\faktor{B \cdot ( \widetilde{A} \cap \widetilde{B})}{ B \cdot (A \cap \widetilde{B})} \cong \faktor{\widetilde{A} \cap \widetilde{B}}{D}$. 
\\ \\ The other isomorphism with $\faktor{\widetilde{A} \cap \widetilde{B}}{D}$ is obtained by swapping $A \longleftrightarrow B$ and $\widetilde{A} \longleftrightarrow \widetilde{B}$.
\end{proof}

\begin{corollary}
$\gr_T^j\gr_F^i{G} \cong \gr_F^i \gr_T^j{G}$.
\end{corollary}
\begin{proof}
Note that $\gr_F^i \gr_T^j{G} = \frac{F^i(\gr_T^j{G})}{F^{i+1}(\gr_T^j{G})}$. 
Using the second isomorphism theorem, we see that $$F^i(\gr_T^j{G}) = \frac{F^i(T^j{G})}{F^i(T^j{G}) \cap T^{j+1}{G}} = \frac{T^j{G} \cap F^i{G}}{(T^j{G} \cap F^i{G}) \cap T^{j+1}{G}} \cong \frac{T^{j+1}{G} \cdot (T^j{G} \cap F^i{G})}{T^{j+1}{G}} .$$ 
Similarly, $F^{i+1}(\gr_T^j{G}) \cong \frac{T^{j+1}{G} \cdot (T^j{G} \cap F^{i+1}{G})}{T^{j+1}{G}}.$ 
It follows that $$\gr_F^i \gr_T^j{G} = \frac{T^{j+1}{G} \cdot (T^j{G} \cap F^{i}{G})}{T^{j+1}{G} \cdot (T^j{G} \cap F^{i+1}{G})}.$$
Likewise, we can show that
$$\gr_T^j \gr_F^i{G} = \frac{F^{i+1}{G} \cdot (F^i{G} \cap T^{j}{G})}{F^{i+1}{G} \cdot (F^i{G} \cap T^{j+1}{G})}.$$ Thus, the assertion that $\gr_T^j\gr_F^i{G} \cong \gr_F^i \gr_T^j{G}$ is a special instance of the butterfly lemma. 
\end{proof}

\begin{definition}
A filtration $F^{\bullet}G$ is called \textit{non-repetitious} if $F^i \ne F^{i+1}G$ for any $i$. 
\end{definition}

\begin{definition}
We say $\{R^iG\}_{i=1}^t$ is a \textit{refinement} of $\{F^iG\}_{i=1}^s$ if there is a non-decreasing map $j : [s] \to [t]$ such that $F^aG = R^{j(a)}G $ for every $a \in [s]$.
\end{definition}

\begin{theorem}[Schreier refinement theorem]
Suppose $\{F^iG\}_{i=0}^s$ and $\{T^jG\}_{j=0}^t$ are filtrations on $G$. Then we can find respective refinements $\widetilde{F}^{\bullet}G$ and $\widetilde{T}^{\bullet}G$ which are equivalent to our original filtrations. Further, if the two original filtrations are non-repetitious, then we can choose the refinements to be non-repetitious as well. 
\end{theorem}
\begin{proof}
Suppose $F^{\bullet}$ and $T^{\bullet}$ are non-repetitious. Let $\widetilde{F}_{i-1}^{(j)} =  (F^{i-1}\cap T^j) \cdot F^i$. Then for any $q\leq i \leq s$, we get a filtration $$F^{i-1} = F^{i-1}\cdot F^i =\widetilde{F}_{i-1}^{(0)}\geq \widetilde{F}_{i-1}^{(1)}\geq \cdots \geq \widetilde{F}_{i-1}^{(t)} = F^i.$$ Thus, the $\widetilde{F}_{i-1}^{(j)}$ define a refinement of $F^{\bullet}G$. 
\\ \\ Likewise, $\widetilde{T}_{j-1}^{(i)} \coloneqq  (T^{j-1}\cap F^i) \cdot T^j$ defines a refinement of $T^{\bullet}G$.
\\ \\ Finally, apply Zassenhaus to the system $F^i \unlhd F^{i-1} \leq G \geq T^{j-1} \unrhd T^j$ to get
\begin{align*}
\faktor{\widetilde{F}_{i-1}^{(j-1)}}{\widetilde{F}_{i-1}^{(j)}} & \cong \faktor{F^i\cdot (F^{i-1} \cap T^{j-1})}{F^i \cdot (F^{i-1} \cap T^j)}
\\ &  \cong \faktor{T^j \cdot (F^{i-1} \cap T^{j-1})}{T^j\cdot (F^i \cap T^{j-1})}
\\ &  \cong   \faktor{\widetilde{T}_{j-1}^{(i-1)}}{\widetilde{T}_{j-1}^{(i)}} .
\end{align*}
\end{proof}

\begin{corollary}[Jordan-Holder]
Any two composition series of $G$ are equivalent.
\end{corollary}
\begin{proof}
Since each intermediate term in a composition series is a maximal normal subgroup, neither series admits a proper refinement. Hence any refinement must be identical to the original series. Hence Schreier completes the proof.
\end{proof}

\section{Group cohomology}

\subsection{Lectures 14 and 15}

\begin{remark} 
Suppose that 
\[ 
\begin{tikzcd}
(\xi): 1 \arrow[r] & H \arrow[r, "i"] & G \arrow[r, "q"] & K \arrow[r] & 1
\end{tikzcd}
\]
is an extension. If $x \in G$, then lift it via $q^{-1}$ to $\tilde{x}$. Now $\conj_{\tilde{x}} : G \to G$ is a (group) automorphism. Since $H\unlhd G$, we thus have an automorphism $\conj_{\tilde{x}}\restriction_H$. Hence we get a map $K \ni x \mapsto \conj_{\tilde{x}}\restriction_H \in \aut(H)$. It turns out that distinct lifts of $x$ give distinct automorphisms whose difference is an inner automorphism.

Indeed, consider the map $\alpha^{\xi} : K \to \out(H)$ defined by $x \mapsto \conj_{\tilde{x}}\cdot \inn(H)$. This is well-defined. If $\tilde{x}$ and $\tilde{\tilde{x}}$ are distinct lifts of $x$, then $q(\tilde{x}) = x = q(\tilde{\tilde{x}}) \implies q(\tilde{x}^{-1}\tilde{\tilde{x}}) = e \implies \tilde{\tilde{x}} = \tilde{x}h$ for some $h \in H \implies \conj_{\tilde{\tilde{x}}}\restriction_H= \conj_{\tilde{x}}\restriction_H \circ \conj_h \implies \conj_{\tilde{\tilde{x}}}\restriction_H\sim \conj_{\tilde{x}}\restriction_H$.

Moreover, $\alpha^{\xi}$ is a homomorphism. If $x, y \in K$, then $\tilde{x}\tilde{y}$ is a lift of $xy$ since $q$ is a homomorphism.  Thus, $\conj_{\tilde{x}\tilde{y}}\restriction_H = \conj_{\tilde{x}}\restriction_H \circ \conj_{\tilde{y}}\restriction_H \implies \alpha^{\xi}(xy) = \alpha^{\xi}(x) \alpha^{\xi}(y)$.

Now, if $\xi$ is split via $s: K \to G$, then we get a homomorphism $\alpha^{\xi, s} : K \to \aut(H)$ given by $x \mapsto \conj_{s(x)}\restriction_H$. Notice that $\alpha^{\xi, s}(x)\cdot \inn(H) = \alpha^{\xi}(x)$. It follows that 
\[
\begin{tikzcd}
K \arrow[r, "{\alpha^{\xi, s}}"] \arrow[rd, "\alpha^{\xi}"'] & \aut(H) \arrow[d, "\pi"] \\
 & \out(H)
\end{tikzcd}
\]
commutes.

Given $\alpha: K \to \out(H)$ homomorphism, we can now reduce the problem of classifying all extensions of $K$ by $H$ to the problem of classifying all extensions $\xi$ such that $\alpha^{\xi} = \alpha$. 
Let $\ext(K, (H, \alpha))$ denote the set of all isomorphism classes of extensions of $K$ by $H$ with invariant $\alpha$.
\end{remark}

\begin{exmp} $ $
\begin{enumerate}
\item Since $Z(S_3) =\{e\}$, we have that $\inn(S_3) = S_3$. Recall that $S_3 \cong D_6$, so that $$S_3 = \langle a, b \mid a^2 = b^3 = e,\ b^2a = ab\rangle.$$ Let $\phi$ be an automorphism of $S^3$. Then $\phi(a) \in \{a, ab, ab^2\}$ and $\phi(b) \in \{b, b^2\}$. Hence $|\aut(S_3)|\leq 6$. But $S_3 \leq \aut(S_3)$, forcing $\aut(S_3) = S_3$.
\item If $G$ is abelian, then $\aut(G)= \out(G)$.
\item Let $f: G \to H$ be a surjective map and $\phi \in \aut(G)$ such that $\phi(\ker f) = \ker f$. This induces an automorphism $\phi^f : H \to H$ given by $h = f(g) \mapsto f(\phi(g))$. {[[Is this well-defined?]]} Note that if $x\in G$, then $\conj_x: G \to G$ preserves any normal subgroup. Hence we get $(\conj_x)^f : H \to H$ given by $h\mapsto \conj_{f(x)}(h)$. In general, we have a group map $\inn(G) \to \inn(H)$, which in turn induces a group map $(-)^f: \faktor{\{\phi \in \aut(G) : \phi(\ker f)= \ker f\}}{\inn(G)} \to \out(H)$. {[[Why?]]}

For example, consider the quotient $q : G \to G^{\ab}$. Since $[G, G]$ is a characteristic subgroup, we get $(-)^{\ab} : \out(G) \to \out(G^{\ab})\cong \aut(G^{\ab})$.
\end{enumerate}
\end{exmp}

\begin{exmp}
Let $\Sigma_g$ denote a surface of genus $g$.
We can draw $\Sigma_g$ as an oriented  $4g$-gon with pairs of sides identified as follows.
\begin{figure}[H]
\centering
\includegraphics[width=30mm]{polygon-Sg.png}
\caption{copied from the Manifold Atlas} \label{overflow}
\end{figure} 
For example, $a_1 \sim \bar{a}_1$.  Then $$\pi_1(\Sigma_g) = \langle a_1, \ldots, a_g, b_1, \ldots, b_g \mid \prod_{i=1}^g [a_i, b_i] = 1 \rangle.$$ We have $H_1(\Sigma_g) = \pi_1(\Sigma_g)^{\ab} = \bigoplus_{i=1}^g (\Z a_i \oplus \Z b_i)\cong \Z^{2g}.$ This induces the following diagram.
\[
\begin{tikzcd}
\out(\pi_1(\Sigma_g)) \arrow[r, "(-)^{\ab}"] \arrow[rrd, "G"', dashed] & \aut(H_1(\Sigma_g)) \arrow[r, "\cong"] & \GL_{2g}(\Z) \arrow[d, "\det"] \\
 &  & \{\pm 1\}
\end{tikzcd}
\]
Let $\map(\Sigma_g) \coloneqq  \ker G$. In fact, $\map(\Sigma_g) \cong \faktor{\text{Diff}^+(\Sigma_g)}{\text{Diff}_0(\Sigma_g)}$, where $\text{Diff}^+$ denotes the diffeomorphisms preserving orientation and $\text{Diff}_0$ denotes the diffeomorphisms isotopic to $\id_{\Sigma_g}$.
\end{exmp}

\begin{remark}
We assume for the remainder of the classification problem that the subgroup of $G$ is abelian. Thus, any $\alpha : K \to \out(H)\cong \aut(H)$ is an action.
\end{remark}

\begin{definition}
A \textit{$K$-module} is a pair $(A, \alpha)$ such that $A$ is an abelian group and $\alpha : K \to \aut(A)$ is a group map.
\end{definition}

\begin{definition} We work to define an operation on $\ext(K, (A, \alpha))$.
\begin{enumerate}
\item Let $\phi  : L \to K$ be a group map and $(\xi) : 1 \to A \to G \to K \to 1$ be an extension. We can use $\phi$ to produce an extension of $L$ by $A$. Define the \textit{fiber product} $G \times_K L = \{(g, l) \in G \times L : q(g) = \phi(l)\}$, which is a subgroup of $G \times L$.

There is a natural map $p: G\times_K L \twoheadrightarrow L$ given by $(g, l) \mapsto l$. Also, $\ker p = \{(g, e) : q(g) = \phi(e) =e \} = \{(g, e) : g \in A\} \cong A$. This induces
\[
\begin{tikzcd}
\quad (\xi): 1 \arrow[r] & A \arrow[r] & G \arrow[r, "q"] & K \arrow[r] & 1 \\
(\phi^{\ast}\xi): 1 \arrow[r] & A \arrow[r] \arrow[u, equal] & G\times_K L \arrow[r, "p"] \arrow[u] & L \arrow[u, "\phi"] \arrow[r] & 1
\end{tikzcd}.
\]
We call $G_{\phi^{\ast}\xi}\coloneqq  G\times_{K}L$ together with the induced map $\phi^{\ast} : G\times_{K}L\to G$ the \textit{pullback} of $q$ and $\phi$.  By construction, $\alpha^{\phi^{\ast}\xi} : L \to \aut(A)$. is given by $\alpha^{\xi} \circ \phi$. We have defined a function $\phi^{\ast} : \ext(K, (A, \alpha)) \to \ext(L, (L, \alpha \circ \phi))$. 

\item Let $A$ and $B$ be $K$ modules and $\xi$ be as above. Let $\psi: (A, \alpha) \to (B, \beta)$ be an equivariant map. We construct the \textit{pushout} $G \cup_A B$ of $i$ and $\psi$.'

Consider the action $\beta \circ q : G \to \aut(B)$. This induces the group map $i \times \psi : A \to G \ltimes_{\beta \circ q} B$ given by $a \mapsto (a, \psi(a))$.
\begin{lemma}
The map $i \times \psi$ is injective with $\im (i \times \psi)\coloneqq  A \unlhd G \ltimes_{\beta \circ q} B$. Moreover $A \leq \ker (G\ltimes_{\beta \circ q} B \twoheadrightarrow K)$.
\end{lemma}
\begin{proof}
Injectivity follows from the fact that $i$ is injective. Recall the group law on $G \ltimes_{\beta \circ q} B$ is given by $(g_1, b_1)(g_2, b_2) = (g_1g_2, b_1(\beta \circ q(g_1)(b_2)))$. To see that $A$ is normal, we compute
$$(g, b)(a, \psi(a)()g,b)^{-1} = (g, b)(a, \psi(a) )(g^{-1}, \beta \circ q(g^{-1})(b^{-1})) = (ga, b\beta \circ q(g)(\psi(a)))(g^{-1}, \beta \circ q(g^{-1})(b^{-1}))$$ $$ = (gag^{-1}, b\beta \circ q(g)(\psi(a))\beta \circ q(ga)\beta \circ q(g^{-1})(b^{-1})) = (gag^{-1}, b\beta \circ q(g)(\psi(a)) \beta (q(g)\underbrace{q(a)}_{=1}q(g^{-1}))(b^{-1}))$$
$$=  (gag^{-1}, b\beta \circ q(g)(\psi(a))b^{-1}) = (gag^{-1}, \beta \circ q(g)(\psi(a))) = (gag^{-1}, \psi(\alpha \circ q(g)(a))) $$ $$ = (\alpha \circ q(g)(a),  \psi(\alpha \circ q(g)(a))) \in \im(i \times \psi).$$ {[[Why does $\alpha \circ q(g)(a) = gag^{-1}$ hold?]]}

Finally, observe that $\ker (G\ltimes_{\beta \circ q} B \twoheadrightarrow K) = \{(g, b) : q(g) =e\} = \{(g, b) : g \in A\} \geq A\times \{e\} \cong A$. 
\end{proof}
Now, we define $G_{\psi_{\ast}\xi} \coloneqq  G \cup_A B = \faktor{G\ltimes_{\beta \circ q} B}{(i\times \psi)(A)}.$ 

We have obtained the commutative diagram.
\[
\begin{tikzcd}
1 \arrow[r] & A \arrow[d, hook] \arrow[r] & G \arrow[d, hook] \arrow[r] & K \arrow[d, equal] \arrow[r] & 1 \\
1 \arrow[r] & A\times B \arrow[r, "i"] \arrow[d, two heads] & G \ltimes_{\beta \circ q} B \arrow[r, "q"] \arrow[d, two heads] & K \arrow[r] \arrow[d, equal] & 1 \\
1 \arrow[r] & B \cong \faktor{A\times B}{(i\times \psi)(A)} \arrow[r] & G_{\psi_{\ast}\xi} \arrow[r] & K \arrow[r] & 1
\end{tikzcd},
\]
where $B \cong \faktor{A\times B}{(i\times \psi)(A)}$ is via  $b \mapsto [(e, b)]$. Let $\psi_{\ast}$ denote the induced map $G \to G_{\psi_{\ast} \xi}$. Define the extension $\psi_{\ast}\xi$ as the bottom row.

\item Given $\xi, \eta \in \ext(K, (A, \alpha))$, we can take $\xi \times \eta \in \ext(K \times K, (A\times A, \alpha \times \alpha))$. The diagonal map $\Delta : K \to K \times K$ is a homomorphism. The function $\text{mult}: A \times A \to A$ is as well since $A$ abelian. It is also equivariant for $\alpha \times \alpha$ and $\alpha$.

Therefore, we can construct the following commutative diagram.

\[
\begin{tikzcd}
1 \arrow[r] & A\times A \arrow[r] & G_{\xi}\times G_{\eta} \arrow[r] & K\times K \arrow[r] & 1 \\
1 \arrow[r] & A\times A \arrow[r] \arrow[d, "\text{mult}"'] \arrow[u, equal] & (G_{\xi} \times G_{\eta}) \times_{K\times K} K \arrow[r] \arrow[u] \arrow[d] & K \arrow[r] \arrow[u, "\Delta"] \arrow[d, equal] & 1 \\
1 \arrow[r] & A \arrow[r] & ((G_{\xi} \times G_{\eta}) \times_{K\times K} K) \cup_{A\times A} A \arrow[r] & K \arrow[r] & 1
\end{tikzcd}
\]
Then define $\xi + \eta$ as the bottom row.
\end{enumerate}
\end{definition}

\begin{exercise}
Show that $$\xi + \eta = \text{mult}_{\ast} \Delta^{\ast}(\xi \times \eta) = \text{mult} \circ ((\xi \times \eta)\circ \Delta) = (\text{mult} \circ (\xi \times \eta))\circ \Delta.$$ This implies that we could have taken the pushout first and then the pullback.
\end{exercise}

\begin{exercise} $ $
\begin{enumerate}
\item Verify that $(\ext(K, (A, \alpha)), +)$ is an abelian group with identity $K \ltimes_{\alpha} A$. 
\item Verify that $\phi^{\ast}$ and $\psi_{\ast}$ are homomorphisms.  
\end{enumerate}
\end{exercise}

\begin{remark}
Suppose that $(\xi) : 1\to A \to G \to K \to 1$ is an extension. If it is not split, then by the axiom of choice there is some set-theoretic section $s: K \to G$ of $q$.

Define $f : K \times K\to G$ by $(x, y) \mapsto s(x)s(y)s(xy)^{-1}$. This is a homomorphism if and only if it is constant at $e_G$. Notice that $q(f(x,y)) = e$ for any $x,y\in K$. Then $\im f \subset A$, giving $f: K\times K \to A$.
\end{remark}

\begin{definition}
We say that $f$ is \textit{normalized} if $f(e, y) = f(x, e) =e$ for any $x,y \in K$. Note that if $s$ is \textit{normalized}, i.e., preserves the identity, then $f$ is automatically normalized.
\end{definition}

\subsection{Lecture 16}

\begin{lemma} 
Let $\xi$ be as before with $s$ and hence $f$ normalized. Then the data $(K, (A, \alpha), f)$ determines $\xi$ up to isomorphism.
\end{lemma}
\begin{proof}
Let $G_f$ be the group with underlying set $K \times A$ and group law given by $(x, a)(y, b) = (xy, a \alpha_x(b)f(x,y))$. The following diagram commutes.
\[
\begin{tikzcd}
1 \arrow[r] & A \arrow[r, "i_f"] \arrow[d] & G_f \arrow[d, "s\times i"] \arrow[r, "q_f"] & K \arrow[r] \arrow[d] & 1 \\
1 \arrow[r] & A \arrow[r, "i"] & G \arrow[r, "q"] & K \arrow[r] \arrow[l, "s", bend left] & 1
\end{tikzcd},
\]
where $(s\times i)(x, a) = s(x)a$.
\end{proof}

\begin{remark}\label{lr}
In general, given $(K, (A, \alpha))$ and a normalized function $f: K \times K \to A$, then the formula $(x, a)(y, b) = (xy, a \alpha_x(b)f(x,y))$ defines a group law if and only if $f(x,y)f(xy, z) = \alpha_x(f(y,z))f(x, yz)$ for any $x, y, z \in K$. As $A$ is abelian, this happens if and only if  
\[ 
\tag{$\ast$}\alpha_x(f(y, z))f(xy, z)^{-1} f(x, yz)f(x, y)^{-1} = e.
\]
\end{remark}

\begin{definition} $ $
\begin{enumerate}
\item We call $C^2(K, (A, \alpha))\coloneqq  \{f \mid f: K \times K \to A\}$ the set of \textit{second Hochschild cochains of $K$ with coefficients in $(A, \alpha)$}. 
\item We call $C^2(K, (A, \alpha))_0 \coloneqq  \{f \mid f(x, e) = f(e, y) =e\}$ the set of \textit{second normalized cochains}.
\item We call $Z^2(K, (A, \alpha)) \coloneqq  \{f \in C^2 : (\ast)$ holds $\}$ the set of \textit{second cocycles of $K$ with coefficients in $(A, \alpha)$}.
\end{enumerate}
\end{definition}

\begin{remark}
\Cref{lr} implies that there is a one-to-one correspondence 
\\ \\
$\{(\xi, s) : \xi \in \ext(K, (A, \alpha)), \ s$ a normalized section$\} \longleftrightarrow Z^2(K, (A, \alpha))_0 = Z^2 \cap C^2_0$.
\end{remark}

\begin{remark}
If $\tilde{s}$ and $s$ are both normalized sections, then $c(x)\coloneqq \tilde{s}(x)s(x)^{-1}$ is a map $c : K \to A$ such that $c(e) =e$. Let $\tilde{f}$ be the second cochain obtained from $\tilde{s}$. Then  $\tilde{f}(x, y) = \tilde{s}(x)\tilde{s}(y)\tilde{s}(xy)^{-1} =c(x)s(x)c(y)s(y)(c(xy)s(xy))^{-1}.$ Thus, 
$$\tilde{f}(x, y)f(x,y)^{-1} = c(x)s(x)c(y)s(y)(c(xy)s(xy))^{-1}s(xy)s(y)^{-1}s(x)^{-1}$$ $$ = c(x)(s(x)c(y)s(x)^{-1})(s(x)s(y)s(xy)^{-1})c(xy)^{-1}s(xy)s(y)^{-1}s(x)^{-1}$$ $$ = c(x)\alpha_x(c(y))c(xy)^{-1}f(x,y)f(x,y)^{-1} =c(x)\alpha_x(c(y))c(xy)^{-1}. $$
This gives a map $\delta: C^1_0 \to Z^2_0$ defined by $c \mapsto (\delta_c : (x, y) \mapsto   c(x)\alpha_x(c(y))c(xy)^{-1})$, which we call the \textit{first Hochschild differential of $K$ with coefficients in $(A, \alpha)$}. {[[How do we know any first normalized cochain can be written in that form?]]}
We in turn obtain a natural map $\delta': \ext(K, (A, \alpha)) \to HH^2(K, (A, \alpha)) \coloneqq  \faktor{Z^2_0}{\im \delta}$ given by $(\xi, f) \mapsto [f]$. We call $HH^2(K, (A, \alpha))$ the \textit{second cohomology group of $K$ with coefficients in $(A, \alpha)$}.
\end{remark}

\begin{exercise}
Show that $\delta '$ is an isomorphism of abelian groups.
\end{exercise}

\begin{exmp}
Find all extensions of $\faktor{\Z}{2}\cong \M_2 \coloneqq  \{\pm1\}$ by $\Z$. That is, we classify all s.e.s. of the form
\[
\begin{tikzcd}
1 \arrow[r] & \Z \arrow[r] & G \arrow[r] & \M_2 \arrow[r] & 1
\end{tikzcd}
\]
\underline{Case 1:} $\M_2$ acts trivially on $\Z$. Then $C^2_0 = \{f : \M_2 \times \M_2 \to \Z \mid f(1, y) = f(x, 1) = 0$ for any $x,y \in \M_2 \}$. Each $f \in C^2_0$ is thus determined by $f(-1, -1)$, giving $C^2_0 \cong \Z$ via $f\mapsto f(-1, 1)$.
\\ \\ Note that $f\in Z^2_0 \iff f(y, z)-f(xy, z)+f(x, yz)-f(x, y) =0$ for any $x, y, z\in \M_2$. It's easy to check this is always satisfied. Hence $Z^2_0 \cong \Z$ as well. 
\\ \\ Moreover, $C^1_0 = \{c : \M_2 \to \Z : c(1) =0\} \cong \Z$, giving the correspondence $\Z \ni b \longleftrightarrow (c: -1 \mapsto b)$. Then the differential $\delta : C^1_0 \to Z^2_0\cong \Z$ is given by $\delta_c(x, y) = c(x)+c(y) -c(xy)\implies \delta_c(-1, -1) = c(-1) + c(-1) = 2b$. That is, $\delta : \Z \to \Z$ is given by $b \mapsto 2b$. This implies that $HH^2 = \faktor{\Z}{2}$, so that the only nontrivial extension is
\[
\begin{tikzcd}
1 \arrow[r] & \Z \arrow[r, "\text{mult}_2"] & \Z \arrow[r] & \faktor{Z}{2} \arrow[r] & 1
\end{tikzcd}.
\]
\underline{Case 2:} The action is nontrivial with $-1 \mapsto (n \mapsto -n)$.  Again we get $C^2_0 \cong \Z$. Moreover, if $f\in Z_2^0$ and $y= z = -1$, then $$0 = \alpha_x(f(-1, -1)) - f(-x, -1)+ f(x, 1)- f(x, -1)$$ $$= \alpha_x(\underbrace{f(-1, -1)}_a) - f(-x, -1)- f(x, -1) = $$
\[
\begin{cases}
0 & x =1 \\
-2a & x = -1
\end{cases}.
\]
Hence $a = 0$, and $f = 0$. This implies that $HH^2 = 0$ with $\Z \rtimes_{\alpha} \M_2$ being the unique extension. 
\end{exmp}

\section{Categories and functors}

\subsection{Lecture 17}

\begin{definition} 
A \textit{category $\c$} consists of
\begin{itemize}
\item a class of \textit{objects $\ob{\c}$},
\item a class of\textit{morphisms $\mor{\c}$},
\item a set $\Hom_{\c}(x,y)$ of morphisms with \textit{source} $x$ and \textit{target} $y$ for each $x,y \in \ob{\c}$, and
\item a \textit{composition} partial function $\circ : \Hom_{\c}(x,y) \times \Hom_{\c}(y,z) \to \Hom_{\c}(x,z)$ where $(f,g) \mapsto g \circ f$.
\end{itemize}
These data must satisfy the following properties.
\begin{itemize}
\item $\mor{\c} = \coprod_{x,y\in \ob{\c}} \Hom_{\c}(x,y)$.
\item Composition is associative.
\item For each $x\in \ob{\c}$, there is an \textit{identity morphism $\id_x: x \to x$} such that $f \circ \id_x = f$ and $\id_x \circ g = g$ for any $f: x \to y$ and $g: z \to x$.
\end{itemize}
\end{definition}

\begin{definition}
A morphism $\varphi : A \to B$ in $\c$ is an \textit{isomorphism} if $\psi \circ \varphi = \id_A$ and $\varphi \circ \psi = \id_B$ for some morphism $\psi : B \to A$.
\end{definition}

\begin{note}
if $\c$ is small, then $(\mor \c, \circ)$ is a partially-defined monoid.
\end{note}

\begin{exmp} The following are examples of categories.
\begin{enumerate}
\item Recall the category $\mathbf{sSet} = \Fun(\Delta^{\op}, \mathbf{Set})$ of simplicial sets. Also recall the standard $n$-simplex $$\Delta^n = \{(t_0, \ldots, t_n) \in \R^{n+1} : t_i \geq 0, \ \sum_i t_i =1\}.$$ In this case, we send a morphism $f : [m] \to [n]$ to $$\Delta_f : \R^{m+1} \to \R^{n+1} \quad \quad e_i \mapsto e_{f(i)},$$ which is linear over $\R$. Note that $\Delta$ is a covariant functor, hence not a simplicial set in the strict sense.
Given a simplicial set $X_{\bullet}$, define its \textit{geometric realization} $$|X_{\bullet}| = \coprod_{m\geq 0} \faktor{(X_m \times \Delta^m)}{\sim}$$ where $X_n \times \Delta^n \ni (x, y)\sim (x', y') \in X_m \times \Delta^m$ if $X(f)(y') = y$ and $\Delta_f(x) = x'$ for some $f: [n] \to [m]$.  
\item Let $\mathbf{Corr}$ denote the \textit{category of correspondences} with objects sets and morphisms binary relations. Given relations $u\subset X\times Y$ and $v \subset Y \times Z$, we define 
\\ \\ $v \circ u = \{(x, y) \in X \times Z : (\exists b \in Y)((x, b) \in u$ and $(b, y) \in v)\}.$ Then the identity morphisms are precisely the diagonals.
\item Let $\mathbf{Ouv_X}$ denote the category of open sets of the topological space $X$ with inclusion maps as morphisms. 
\begin{aside} This is an order category associated to the poset $\subseteq$. \end{aside}
\item Let $G$ be a group. Then the \textit{classifying space $BG$ of $G$} is a category with a single object $\ast$ and $BG(\ast, \ast) = G$. Composition is given by the group law.
\end{enumerate}
\end{exmp}

\begin{definition}
Let $\c$ and $\d$ be categories. A \textit{(covariant) functor $F: \c \to \d$ from $\c$ to $\d$} consists of two functions $F: \ob{\c} \to \ob{\d}$ and $F: \mor{\c} \to \mor{\d}$ such that 
\begin{itemize}
\item $F(f) : F(x) \to F(y)$ in $\d$ whenever $f: x \to y$ in $\c$ and
\item $F$ respects both composition and identity. 
\end{itemize}
We call $F$ \textit{contravariant} is it is a covariant functor $F: \c^{\op} \to \d$.
\end{definition}

\begin{definition}
We call a contravariant functor $\c \to \d$ a \textit{presheaf of $\c$ with values in $\d$}.
\end{definition}

\subsection{Lecture 18}

\begin{exmp}  The following are examples of functors.
\begin{enumerate}
\item The forgetful functor $\G_A: \mathbf{Ring} \to \mathbf{Ab}$ is called the \textit{additive group functor}.
\item Let $f: X \to Y$ be a map of spaces. Define the \textit{section functor}
 $$\Gamma_f: \mathbf{Ouv_Y}^{\op} \to \mathbf{Set}$$
$$\mho \mapsto \{s: \mho \to X \mid f \circ s = \id_{\mho}\}$$
$$\Gamma_f(\mho \subset V) : (s: V \to X) \to (s\restriction_{\mho} : \mho \to X).$$ We also denote this by $\Gamma_{\faktor{X}{Y}}$.
\item Let $n\geq 0$. We have the \textit{homology functor} $H_n(-, \Z) : \mathbf{Top} \to \mathbf{Ab}$ sending each space $X$ to $H_n(X, \Z)$, the \textit{$n$-th singular homology of $X$}.
\item Recall the homotopy functor $\pi_i : \mathbf{Top_{\ast}^{\text{(conn, lc)}}} \to
 \begin{cases} 
\mathbf{Grp} & i = 1 \\
\mathbf{Ab} & i >1
\end{cases}.$
\item Define $(-)_{\bullet} : \mathbf{Set} \to {\mathbf{sSet}}$ by $S \mapsto \underset{\textit{constant/discrete}}{(S)_{\bullet}}$ where $S_n =S$ for every $n\geq 0$.

Alternatively, say that an element  $x\in X_n$ is \textit{nondegenerate} if it is not of the form $x =s_i(y)$ for any $1\leq i \leq n-1$ and $y\in X_{n-1}$ and define $(S)_{\bullet}$ as the unique simplicial set such that $S_n^{\text{nd}} = \begin{cases}
S & n =0 \\ \emptyset & n > 0 \end{cases}.$
\begin{remark}
Note that $|(S)_{\bullet}|$ is homotopy equivalent to $S$ equipped with the discrete topology. 
\end{remark}
\item The geometric realization functor $|\cdot | : \mathbf{sSet} \to \mathbf{Top}$.
\item Define $\Sing_{\bullet} : \mathbf{Top} \to \mathbf{sSet}$ by
$$ \Sing_n(\underset{\text{space}}{X}) = \{\phi \mid \phi  : \Delta^n \to X\} \quad \quad (f: [m] \to [n]) \mapsto (\Sing_f(X) : \phi \mapsto \phi \circ \Delta_f)$$
$$ \Sing_n(\underset{\text{continuous}}{u : X \to Y}) : \Sing_n(X) \to \Sing_n(Y), \quad \phi \mapsto u \circ \phi.$$
\begin{aside} This is right adjoint to the geometric realization functor. \end{aside}
\item If $n=1,2$, then we have $HH^n(G, -) : {}_{G}\mathbf{Mod} \to \mathbf{Ab}$.
\end{enumerate}
\end{exmp}

\begin{exmp} The following are examples of natural transformations.
\begin{enumerate}
\item $\det : \GL_n \to \GL_1$.
\item The \textit{Hurewicz map} $\text{Hur}: \pi_1 \to H_1$. 
\item The universal property of $(-)^{\ab}$ induces a commutative diagram of functors
\[
\begin{tikzcd}
\pi_1 \arrow[r, "\text{Hur}"] \arrow[d, "(-)^{\ab}"'] & H_1 \\
(\pi_1)^{\ab} \arrow[ru, "q"', dashed] & 
\end{tikzcd}
.\] Hurewicz's theorem states that $q$ is actually an isomorphism.
\end{enumerate}
\end{exmp}

\begin{exercise} The \textit{double dualization} functor $(-)^{\ast \ast}: \mathbf{Vect}_k \to \mathbf{Vect}_k$ induces a map of functors $\id_{\mathbf{Vect}_k} \to (-)^{\ast \ast}$ given by $\epsilon_V : x \mapsto (\phi \mapsto \phi(x))$.
\begin{enumerate}
\item Show that this map is not a natural isomorphism by showing that if $V$ is an infinite-dimensional $\R$-space with a countable basis, then $V^{\ast}$ and hence $V^{\ast \ast}$ have uncountable bases.
\item Show, however, that it is an isomorphism for finite-dimensional spaces.
\end{enumerate}
\end{exercise}

\begin{definition} $ $
\begin{enumerate}
\item We say that a category $\c$ is \textit{small} if $\ob{\c}$ is a set.
\item Let $\pi_0(\c) \coloneqq  \faktor{\ob \c}{\cong}$. We say that $\c$ is \textit{essentially small} if $\pi_0(\c)$ is a set.
\end{enumerate}
\end{definition}

\begin{exercise}
Show that $\c$ is essentially small  if and only if it is equivalent to a small category. 
\end{exercise}

\subsection{Lectures 19 and 20}

\begin{exmp} 
Let $\c \coloneqq  \mathbf{Vector}_k^n$ and $\d \coloneqq  B\Mat_n(k)$. There is a functor $F : \d \to \c$ given by $\ast \mapsto k^n$ and $A \mapsto (v \mapsto Av)$. Construct an inverse $G: \c \to \d$ via the axiom of choice by choosing a basis for each $V \in \c$ and mapping each linear map $f$ to the matrix of $f$ in the chosen bases. Then $\c$ and $\d$ are equivalent via $F$ and $G$.
\end{exmp}

\begin{remark}
Any functor $F: \c \to \d$ induces a map $\pi_0(F) : \pi_0(\c) \to \pi_0(\d)$. If $F$ is an equivalence with quasi-inverse $G$, then this is a bijection with $\pi_0(G)$ as inverse. Therefore, two equivalent categories have the same collection of isomorphism classes of objects.
\end{remark}


\begin{definition}
If $\c$ is a category, then we call $\a$ a subcategory of $\c$ if
\begin{itemize}
\item $\ob{\a}$ is a subclass of $\ob{\c}$, 
\item $\Hom_{\a}(x,y) \subset \Hom_{\c}(x,y)$ for any $x,y\in \ob{\a}$, and
\item composition and identity in $\a$ are exactly as they are in $\c$.
\end{itemize}
\end{definition}

\begin{definition} Let $F: \c \to \d$ be a functor. Consider the set map $F({-}): \Hom_{\c}(x,y) \to \Hom_{\d}(F(x), F(y))$.
\begin{enumerate}
\item We say that $F$ is \textit{faithful} if $F({-})$ is injective.
\item We say that $F$ is \textit{full} if $F({-})$ is surjective. 
\item We say that $F$ is \textit{fully faithful} if it is both full and faithful.
\end{enumerate}
\end{definition}

\begin{exmp}
The inclusion functor $i : \a \to \c$ is faithful.
\end{exmp}

\section{Yoneda}

Notice that $\Hom_{\mathbf{Set}}(\ast, x) \overset{\sim}{\longrightarrow} x$ for any set $x$. In general, we make the following definition.

\begin{definition}
Given $x \in \ob \c$, a \textit{$y$-point/probe} is the set $\Hom_{\c}(y, x)$ for any $y \in \ob \c$.
\end{definition}
The class $\{\Hom_{\c}(y, x)\}_{y\in \ob \c}$ of $y$-points reconstructs $x$ as an object in $\c$. To see this, let $\widehat{\c}\coloneqq  \Fun(\c^{\op}, \mathbf{Set})$ and $x \in \ob \c$. Define the functor $h_x : \c^{\op} \to \mathbf{Set}$ by $$y \mapsto \Hom_{\c}(y, x) \quad \quad h_x(f) : u \mapsto u \circ f.$$ 
\begin{definition}
A presheaf $F \in \widehat{\c}$ is \textit{representable} if $F \cong h_x$ for some $x$. We say that \textit{$x$ represents $F$} in this case.
\end{definition}
The assignment $h: \c \to \widehat{\c}$ given by $x \mapsto h_x$ is a functor where $h(\phi : x \to x')$ is given by $$h(\phi)_y : \Hom_{\c}(y, x) \to \Hom_{\c}(y, x'), \quad u \mapsto \phi \circ u.$$ This is called the \textit{Yoneda functor}. Then the essential image of $h$ consists of the representable presheaves of $\c$.


\begin{lemma}[Yoneda] Let $\c$ be a category.
\begin{enumerate}
\item For any $x, y \in \ob \c$, the map $\Hom_{\c}(x, y) \to \Hom_{\widehat{\c}}(h_x, h_y)$ given by $\phi \mapsto h(\phi)$ is bijective.
\item There is a natural isomorphism $$\Hom_{\c}(-, -) \cong \Hom_{\widehat{\c}}(h_{(-)}, h_{(-)})$$ of functors $ \c^{\op} \times \c \to \mathbf{Set}$, so that $h : \c \to \widehat{\c}$ is fully faithful. Thus, we can treat objects in $\c$ as set-valued presheaves of $\c$.
\end{enumerate}
\end{lemma}
\begin{proof}
We prove just the first statement as the second follows formally from the first.
Specifically, we define an inverse to the given map. If $\alpha : h_x \to h_y$ is a morphism in $\widehat{\c}$, then define $$i : \alpha \mapsto \alpha_x(\id_x).$$ Note that $\alpha_x(\id_x) \in h_y(x) = \Hom_{\c}(x,y)$. We must verify that $h \circ i = \id = i \circ h$.
\\ \\ If $f: x \to y$ in $\c$, then $h(f) : h_x \to h_y$ and $h(f)_z : \Hom_{\widehat{\c}}(z, x) \to \Hom_{\widehat{\c}}(z, y)$ is given by $(-) \mapsto f \circ (-)$ for any $z\in \ob \c$. But then $h(f)_x(\id_x) = f\circ \id_x = f$.
\\ \\ It remains to show that $h \circ i = \id$. Let $\alpha : h_x \to h_y$.  We have that $
i(\alpha) = \alpha_x(\id_x) \in h_y(x)$, so that $i(\alpha) : x \to y$ in $\c$. Note that the component map $h(i(\alpha))_z : \Hom_{\c}(z, x) \to \Hom_{\c}(z, y)$ is given by $\phi \mapsto i(\alpha) \circ \phi.$ We must check that this agrees with $\alpha_z$. For any $x, y, z \in \ob \c$ and $\phi : z \to x$, we have
\[
\begin{tikzcd}
h_x(x) \arrow[r, "\alpha_x"] \arrow[d, "h_x(\phi)"'] & h_y(x) \arrow[d, "h_y(\phi)"] \\
h_x(z) \arrow[r, "\alpha_z"'] & h_y(z)
\end{tikzcd}
\]
because $\alpha$ is a natural transformation. By evaluating this at the morphism $\id_x$, we see that $\alpha_z(\phi) = i(\alpha) \circ \phi$.
\end{proof}

\begin{corollary}
Let $F \in \widehat{\c}$. Recall that $F$ is representable by $x$ if there is some isomorphism of functors $h_x \cong F$. By the proof of Yoneda, this is completely determined by $\xi\coloneqq  h_x(\id_x) \in F(x)$. Given $\xi \in F(x)$, we get a natural map $$h_x(y) \to F(y)$$ $$ f \mapsto F(f)(\xi).$$ This defines a map of functors $\eta^{\xi} : h_x \to F$ where $\eta^{\xi}_y(f) = F(f)(\xi)$ for any $y \in \ob \c$. 
\\ \\ By the Yoneda lemma, $F$ is representable by $x$  if and only if there is some $\xi \in F(x)$ such that $\eta^{\xi}$ is an isomorphism. 
\end{corollary}

\begin{exmp} $ $
\begin{enumerate}
\item Define the presheaf $\P : \mathbf{Set}^{\op} \to \mathbf{Set}$ by $S \mapsto \P(S)$ and $\P(f : S \to T) : A \mapsto f^{-1}(A).$ To see whether $\P$ is representable, we need to find some set $Q$ and $\xi \subset Q$ such that $\Hom(S, Q) \to \P(S)$ given by $u \mapsto u^{-1}(\xi)$ is a bijection for every set $S$. We can do so by setting $Q = \{0, 1\}$ and $\xi = \{1\}$ as $\Hom(S, \{0, 1\}) \cong \P(S)$ via the characteristic function on $S$.
\item Consider the forgetful presheaf $F: \mathbf{Ring}^{\op} \to \mathbf{Set}$. Note that for any unital ring $R$, the map $\Hom(R, \rho) \to R$ given by $u \mapsto F(u)(\xi)$ is bijective where $\rho = \Z[t]$ and $\xi = t$ because any ring map $\phi : \Z[t] \to R$ is determined by the value $\phi(t)$. Hence $F$ is represented by $\Z[t]$.
\item Let $V, W \in \ob \mathbf{Vect}_k$ and define the presheaf $B: (\mathbf{Vect}_k)^{\op} \to \mathbf{Set}$ by $L \mapsto \{ \phi : V \times W \to L \mid \phi$ bilinear$\}$. We want to find some $k$-space $T$ and some bilinear map $\xi \in B(T)$ such that the map $\Hom(L, T) \to B(L)$ given by $u \mapsto B(u) \circ \xi$ is bijective for any space $L$. 
\[
\begin{tikzcd}
V \times W \arrow[r, "\xi"] \arrow[rd] & T \arrow[d, "B(u)"] \\
 & L
\end{tikzcd}
\]
We construct such a pair $(T, \xi)$ as follows. Let $\mathcal{F}$ denote the vector space of set functions $f: V \times W \to k$ such that $\supp(f)$ is finite. A basis for $\mathcal{F}$ is given by the delta functions of points $(x, y) \in V \times W$ defined by
\[ \delta_{(x,y)}(a, b) = \begin{cases}
0 & (a,b) \ne (x,y) \\
1 & (a, b) = (x,y)
\end{cases}
\]
Now, let $\mathcal{F}_0 \subset \mathcal{F}$ be the subspace spanned by elements of the form
$$ \delta_{(x' + x'', y)} - \delta_{(x', y)} - \delta_{(x'', y)} $$
$$ \delta_{(x, y' + y'')} - \delta_{(x, y')} - \delta_{(x, y'')} $$
$$ \delta_{(cx, y)} - c\delta_{(x,y)}  $$
$$\delta_{(x,cy)} -c \delta_{(x,y)} $$
for any $x, x', x'' \in V$ and $y, y', y'' \in W$ and $c \in k$. Finally, set $T = \faktor{\mathcal{F}}{\mathcal{F}_0}$ and define $\xi : (x, y) \mapsto \delta_{(x,y)} + \mathcal{F}_0$. We usually write $T$ as $V \otimes_k W$.
\end{enumerate}
\end{exmp}

 Instead of constructing the reals as equivalence classes of Cauchy sequences or as Dedekind cuts, we can pick out the interval $[0,1]$ among all topological spaces as follows. We see that $[0,1]\cong_M \left( \faktor{[0,1] \coprod [0,1]}{\text{first 1 = second 0}} \right)$ by the mean function $M$. Let $\c$ denote the category of pairs $(X, \alpha)$ where $X$ is a topological space with two marked points $r_x, l_x$ and $\alpha :  \faktor{X \coprod X}{\sim} \cong X$ such that the first $r_x$ is $\sim$-equal to the second $l_x$.
 
\begin{theorem}[Freyd]
$([0,1], M)$ is the terminal object in $\c$.
\end{theorem}

\subsection{Lecture 21}

\begin{definition} Let $\c$ be a category and $I$ be any set. Let $A_{\alpha} \in \ob \c$ for each $\alpha \in I$.
\begin{enumerate}
\item  Define the \textit{product functor} $\c^{\op} \to \mathbf{Set}$ by $$B \mapsto \prod_{\alpha \in I}\Hom_{\c}(B, A_{\alpha}) \quad \quad f \mapsto (f_{\alpha} \mapsto f_{\alpha} \circ f).$$ If the product functor is representable by some object $P$ in $\c$, then we say that $P$ is the \textit{product} of the $A_{\alpha}$'s in $\c$. (This wording makes sense as limits are unique up to isomorphism.)
\item Define the \textit{coproduct functor} $\c \to \mathbf{Set}$ by $$ B \mapsto \prod_{\alpha \in I} \Hom_{\c}(A_{\alpha}, B) \quad \quad f \mapsto (f_{\alpha} \mapsto f \circ f_{\alpha}).$$ If the coproduct functor is representable by some object $Q$ in $\c$, then we say that $Q$ is the \textit{coproduct} of the $A_{\alpha}$'s in $\c$.
\end{enumerate}
\end{definition}

\begin{remark} $ $
\begin{enumerate}
\item By the Yoneda lemma, if $P$ is the product of $\{A_{\alpha}\}$, then there is some $\xi \coloneqq \{\pr_{\alpha} : P \to A_{\alpha}\}_{\alpha} \in \prod_{\alpha}\Hom_{\c}(P, A_{\alpha})$ such that $$\eta^{\xi}_B : h_P = \Hom_{\c}(B, P) \to \prod_{\alpha}\Hom_{\c} (B, A_{\alpha}) \quad \quad f \mapsto \{\pr_{\alpha} \circ f\}_{\alpha}$$ is a natural bijection in $B \in \ob \c$. This gives an isomorphism of set-valued presheaves $h_P \cong \Hom_{\c}(-, A_{\alpha})$. Let $$\prod_{\alpha} A_{\alpha} \coloneqq  P.$$ Then we have a natural bijection $\Hom_{\c}(B, \prod_{\alpha} A_{\alpha}) \cong \prod_{\alpha} \Hom_{\c}(B, A_{\alpha})$ in $B$.
\item Likewise, if $Q$ is the coproduct of $\{A_{\alpha}\}$, then by viewing the coproduct functor as a presheaf on $\c^{\op}$ we get some $\xi\coloneqq  \{i_{\alpha} : A_{\alpha} \to Q\}_{\alpha} \in \prod_{\alpha}\Hom_{\c}(A_{\alpha}, Q)$ such that $$\Hom_{\c} (Q, B) \overset{\cong}{\longrightarrow} \prod_{\alpha}\Hom_{\c} (A_{\alpha}, B) \quad \quad f \mapsto \{f \circ i_{\alpha}\}_{\alpha}$$ for each $B\in \ob \c$. Let $$\coprod_{\alpha} A_{\alpha} \coloneqq  Q.$$ Then $\Hom_{\c}(\coprod_{\alpha} A_{\alpha}, B) \cong \prod_{\alpha}\Hom_{\c}(A_{\alpha}, B)$ for each $B$.
\end{enumerate}
\end{remark}

\begin{exmp} 
Let $R$ be a unital ring and $\c \coloneqq  \mathbf{Mod}_R$, whose objects are precisely the pairs $(M, \rho)$ where $M$ is an abelian group and $\rho : R \to \ed(M)$ satisfying 
\begin{align*} & \rho(0) = 0  \\ & \rho(1) = \id_M \\  & \rho(a +b) = \rho(a) + \rho(b)  \\ & \rho(ab) = \rho(a) \circ \rho(b). \end{align*} The morphisms $(M, \rho) \to (N, \lambda)$ are precisely the group homomorphisms $\phi : M \to N$ intertwining $\rho$ and $\lambda$, i.e., for any $x \in R$,
\[
\begin{tikzcd}
M \arrow[d, "\phi"'] \arrow[r, "\rho(x)"] & M \arrow[d, "\phi"] \\
N \arrow[r, "\lambda(x)"] & N
\end{tikzcd}.
\]
Now, let $\{A_{\alpha}\}$ be a collection of $R$-modules. If we endow the Cartesian product $\prod_{\alpha} A_{\alpha}$ with the componentwise module structure inherited from the $A_{\alpha}$'s, then this becomes the product of $\{A_{\alpha}\}$ in $\mathbf{Mod}_R$. Moreover, the coproduct (or direct sum) of $\{A_{\alpha}\}$ is defined as the submodule of the product consisting of the tuples $(a_{\alpha})$ such that $a_{\alpha} \ne 0$ for at most finitely many $\alpha \in I$.
\begin{exercise} $ $
\begin{enumerate}
\item Verify that the direct sum is a categorical coproduct in $\mathbf{Mod}_R$.
\item Prove that similar constructions show that arbitrary products and coproducts exist in $\mathbf{Mod}_G$, the category of modules over a group $G$.
\end{enumerate}
\end{exercise}
\end{exmp}

\begin{definition} Let $a \in \ob \c$. Let $\c_a$ denote the overcategory $\faktor{\c}{a}$ and $\c^a$ denote the undercategory $\faktor{a}{\c}$. 
\begin{enumerate}
\item If $\{A_{\alpha}\}$ is a collection of objects in $\c_a$, then we call the product of the $A_{\alpha}$'s in $\c_a$ the \textit{fibered product of the $A_{\alpha}$'s over $a$}, denoted by $\underset{a}{\prod_{\alpha}} A_{\alpha}$.
\item If $\{A_{\alpha}\}$ is a collection of objects in $\c^a$, then we call the coproduct of the $A_{\alpha}$'s in $\c^a$ the \textit{fibered coproduct under $a$}, denoted by $\overset{a}{\coprod}_{\alpha}A_{\alpha}$.
\end{enumerate}
\end{definition}

\begin{exmp}\label{ex32} $ $
\begin{enumerate}
\item We have arbitrary fibered products and coproducts in $\c\coloneqq  \mathbf{Set}$. Indeed, let $a$ be a set and $\{(A_{\alpha}, \pi_{\alpha})\}_{\alpha}$ be a collection of objects in $\c_a$. Then define $$\underset{a}{\prod_{\alpha}} A_{\alpha} = \{x \in \prod_{\alpha} A_{\alpha} :  (\exists y \in a)(\forall \alpha \in I)(\pi_{\alpha}(x_{\alpha}) = y)\}.$$ Next, let $\{(A_{\alpha}, i_{\alpha})\}_{\alpha}$ be a collection of objects in $\c^a$. Then define $$ 
\overset{a}{\coprod}_{\alpha}A_{\alpha} = \faktor{\coprod_{\alpha} A_{\alpha}}{\sim_a}$$ where $\eta \sim_a \xi$ if there is some $y \in a$ such that $\eta = i_{\alpha}(y) = i_{\beta}(y) = \xi$ for some $\alpha, \beta \in I$.
\item Arbitrary fibered products and fibered coproducts exist in $\mathbf{Mod}_R$ and $\mathbf{Mod}_G$ by the same constructions in \cref{ex32}.
\item $\mathbf{Grp}$ inherits arbitrary products and fibered products from $\mathbf{Set}$. We will also construct arbitrary coproducts and fibered coproducts in $\mathbf{Grp}$. 
\end{enumerate}
\end{exmp}

\subsection{Lecture 22}

\begin{theorem}
The category $\mathbf{Grp}$ has arbitrary coproducts and fibered coproducts.
\end{theorem}
\begin{proof}
The coproduct $\coprod_{\alpha} G_{\alpha}$ is precisely the free product of $\{G_{\alpha}\}$, i.e., the group of admissible words in the $G_{\alpha}$. (Sometimes this is denoted by $\ast_{\alpha} G_{\alpha}$.)
\\ \\ For fibered coproducts, let $\{G_{\alpha}, s_{\alpha} : G \to G_{\alpha}\}_{\alpha}$ be collection of objects in $\mathbf{Grp}^G$. Let $N \unlhd \coprod_{\alpha} G_{\alpha}$ be generated by all elements of the form $s_{\alpha}(x)s_{\beta}(x)^{-1}$ for any $\alpha, \beta \in I$ and $x\in G$. Note that we have a map $G \to \coprod_{\alpha} G_{\alpha}$ given by the composite
\[
\begin{tikzcd}
G \arrow[d, "s_{\alpha}"'] \arrow[r, dashed] & \coprod_{\alpha}G_{\alpha} \\
G_{\alpha} \arrow[ru, hook] & 
\end{tikzcd}
.\] Define $$\overset{G}{\coprod}_{\alpha} G_{\alpha} = \faktor{\coprod_{\alpha} G_{\alpha}}{N}.$$ (This used to be called \textit{the amalgamated product of $G_{\alpha}$ over $G$}.)
\end{proof}

\begin{exmp} $ $
\begin{enumerate}
\item Let $M$ be a set and $U, V\subset M$. We have the inclusions $i_U : U \cap V \to U$ and $i_V : U \cap V \to V$. Then $U \cup V = \underset{U \cap V}{U \coprod V}$, the fibered coproduct of $U$ and $V$ under $U \cap V$.
\item Let $\c \coloneqq  \mathbf{Top}_{\ast}^{\text{conn, lc}}$ and $M \in \ob \c$. Let $U, V \subset M$ be open. As before, we get $(U \cup V, \ast)= \underset{(U \cap V, {\ast})}{(U, \ast)  \coprod (V, \ast)} $. Van Kampen states that $$\pi_1(U \cup V, \ast) = \underset{\pi_1(U \cap V, \ast)}{\pi_1(U, \ast) \coprod \pi_1(V, \ast)}.$$ That is, the functor $\pi_1: \mathbf{Top}_{\ast}^{\text{conn, lc}}\to \mathbf{Grp}$ respects fibered coproducts. 
\end{enumerate}
\end{exmp}

\section{Adjoint functors}

\begin{definition}
The bifunctor $\Hom_{\c}({-}, {-}) : \c^{\op} \times \c \to \mathbf{Set}$ maps any morphism $(f, g)$ in $\c^{\op} \times \c$ to the set map $\varphi \mapsto g \circ \varphi \circ f$.

Suppose that $L: \c \to \d$ and $R: \d \to \c$ are functors. We say that $(L, R)$ is an \textit{adjoint pair of functors} if the bifunctors
\begin{align*}
& \Hom_{\d}(L(-), -) : \c^{\op} \times \d \to \mathbf{Set}
\\ & \Hom_{\c}(-, R(-)) : \c^{\op} \times \d \to \mathbf{Set} 
\end{align*}
are isomorphic.
\end{definition}

\begin{remark} $ $
\begin{enumerate}
\item Suppose $L : \c \to \d$ is a functor. Then $L$ induces a functor $L_{\ast} : \widehat{\d} \to \widehat{\c}$ given by $F \mapsto F \circ L$. We can compose $L_{\ast}$ with the Yoneda functor $h^{\d} : \d \to \widehat{\d}$ to get $L_{\ast} \circ h^{\d} : \d \to \widehat{\c}$. 
\begin{exercise} Then $L$ has a right adjoint $R$  if and only if for each $y \in \ob \d$, the presheaf $L_{\ast} \circ h^{\d}(y) : \c^{\op} \to \mathbf{Set}$ is representable in $\c$. In this case, $L_{\ast} \circ h^{\d} \cong h^{\c} \circ R$.
\end{exercise}
\begin{prop}
The right adjoint is unique up to a unique isomorphism.
\end{prop}
\item Let $\overset{L}{\underset{R}{\c \rightleftarrows \d}}$ be an adjoint pair of functors. Then there is a natrual bijection $$\Hom_{\d}(L(x), L(x)) \cong \Hom_{\c}(x, R \circ L(x))$$ for every $x\in \ob \c$. This gives a map of functors $\xi : \id_{\c} \to R \circ L$. Likewise, we get a map $\eta : L \circ R \to \id_{\d}$.

This induces the functors 
\[
\begin{tikzcd}
L \arrow[r, "\xi"] & L \circ R \circ L \arrow[r, "\eta"] & L \\
R \arrow[r, "\xi"] & R\circ L \circ R \arrow[r, "\eta"] & R
\end{tikzcd}
.\]
\begin{exercise}
$\id \cong \eta \circ \xi$.
\end{exercise}
\begin{prop}
Conversely, if $(L, R, \xi, \eta)$ satisfies $\eta \circ \xi \cong \id_L$ and $\eta \circ \xi \cong \id_R$, then $(L, R)$ is an adjoint pair.
\end{prop}
\end{enumerate}
\end{remark}

\subsection{Lecture 23}

\begin{exmp} $ $
\begin{enumerate}
\item Let $|\cdot| : \mathbf{Grp} \to \mathbf{Set}$ denote the forgetful functor. Then it has as left adjoint the free group functor $\Fr : \mathbf{Set} \to \mathbf{Grp}$. This means that $\Hom(\Fr(S), G) \cong \Hom(S, |G|)$ for any set $S$ and group $G$. That is, for any function $f: S \to |G|$, there is a unique homomorphism $\phi : \Fr(S) \to G$ such that $\phi \restriction_S = f$, where we embed $S \hookrightarrow \coprod_{s\in S} G_s$ in $\mathbf{Set}$ by $s\mapsto \underbrace{1_{G_s}}_{\text{generator}}$.
\begin{proof}
$$ \Hom(\Fr(S), G) = \Hom(\coprod_S \Z, G) \cong  \prod_{s\in S} \Hom(\Z, G) \cong \prod_s \Hom(\{1\}, |G|) \cong \Hom(\coprod_s \{1\}, |G|) \cong  \Hom(S, |G|).$$
\end{proof}
\item Let $\mathbf{Ab} \overset{i}{\longrightarrow} \mathbf{Grp}$ denote the full subcategory of abelian groups. It has as left adjoint the abelianization functor $(-)^{\ab}$.
\begin{proof}
Let $G$ be a group and $A$ and abelian group. The universal property of $G^{\ab}$ states that for any homomorphism $\phi : G \to A$, there is a unique group map $\psi : G^{\ab} \to A$ such that $ \psi \circ \pi = \phi$. This determines a bijection $\Hom_{\mathbf{Ab}}(G^{\ab}, A) \overset{\cong}{\longrightarrow} \Hom_{\mathbf{Grp}}(G, A)$ by $\phi \mapsto \psi \circ \pi$.
\end{proof}
\end{enumerate}
\end{exmp}

\begin{remark}
The notion of adjunction is strictly weaker than that of inverse. For example, $\mathbf{Grp}$ and $\mathbf{Set}$ cannot be equivalent, for $\emptyset \in \mathbf{Set}$. Also, $\mathbf{Ab}$ and $\mathbf{Grp}$ cannot be equivalent, for the former is an preadditive category whereas the latter is not.
Any inverse pair of functors $(F, G)$, however, is automatically an adjunction.
\end{remark}

\begin{prop}
$(-)^{\ab}$ admits no left adjoint.
\end{prop}
\begin{proof}
Suppose, for contradiction, that $F: \mathbf{Ab} \to \mathbf{Grp}$ is  left adjoint to $(-)^{\ab}$. Then $$\Hom_{\mathbf{Grp}}(F(A), G) \cong \Hom_{\mathbf{Ab}}(A, G^{\ab})$$ for any abelian group $A$. This entails the following three properties.
\begin{enumerate}
\item $F(A)$ cannot be simple.
\begin{proof}
If $F(A)$ is simple and nonabelian, then $F(A)^{\ab} =\{e\}$. But we know that $$\{e\} \not \cong \Hom_{\mathbf{Grp}}(F(A), F(A)) \cong \Hom_{\mathbf{Ab}}(A, \{e\})\cong \{e\},$$ a contradiction.

If $F(A)$ is simple and abelian, then $F(A) \cong C_p$ for some prime $p$. Set $G = A_{3p}$, so that $G^{\ab} = \{e\}$. Then  we have $\Hom_{\mathbf{Grp}}(C_p, G) \cong \Hom_{\mathbf{Ab}}(A, \{e\}) \cong \{e\}.$ But $C_p \leq G$, so that $\Hom_{\mathbf{Grp}}(C_p, G) $ is nontrivial, giving a contradiction. 
\end{proof}
\item If $F(A)$ is trivial, then so is $A$.
\begin{proof}
Suppose $F(A)= \{e\}$. Then $$\{e\} \cong \Hom_{\mathbf{Grp}}(\{e\}, G) \cong \Hom_{\mathbf{Ab}}(A, G^{\ab})\supset \{\id_A, 0_A\}.$$ Thus, $\id_A =0_A$, implying that $A$ is trivial.
\end{proof}
\item If $A$ is nontrivial, then $F(A)$ contains no proper maximal normal subgroup. 
\begin{proof}
Suppose $A$ is nontrivial and $M \unlhd F(A)$ is proper and maximal. Then $\faktor{F(A)}{M}$ is simple. If $\faktor{F(A)}{M}$ is also nonabelian, then we get
$$\{e\} \not \cong \Hom_{\mathbf{Grp}}(F(A), \faktor{F(A)}{M}) \cong \Hom_{\mathbf{Ab}}(A, \left(\faktor{F(A)}{M})^{\ab} \right)\cong \{e\},$$ a contradiction. If $\faktor{F(A)}{M}$ is abelian, then it is isomorphic to $C_p$ and we can make an argument as before.
\end{proof}
\end{enumerate}
\end{proof}
Now, we have $ \Hom_{\mathbf{Grp}}(F(C_2), C_2) \cong \Hom_{\mathbf{Ab}}(C_2, C_2) =\{0, \id\}$.  Hence there is some group map $f : F(C_2) \rightarrow C_2$ such that $\{e\} < \ker f < F(C_2)$. But then $\faktor{F(C_2)}{\ker f}$ is nonzero finite, which implies that $F(C_2)$ has a proper maximal normal subgroup, a contradiction. 

\begin{lemma}
If $f: S \to T$ is a surjective group map, then so is $\Fr(f) : \Fr(S) \to \Fr(T)$.
\end{lemma}
\begin{proof}
If $g$ is a section of $f$, then $\Fr(g)$ is a section of $\Fr(f)$.
\end{proof}

\begin{lemma}
Let $S$ be a set. Then $\Fr(S)^{\ab}= \coprod_{s\in S} G_s$ is a free abelian group on $S$. Specifically, since each $G_s$ is a $\Z$-module, we can show that $$\Fr(S)^{\ab} = \bigoplus_{s\in S} G_s.$$
\end{lemma}
\begin{proof}
\end{proof}
For each $s\in S$, define $\delta_s : S \to \bigoplus_{s\in S} G_s$ by $\delta_s^{\alpha} =  \begin{cases} 1 & \alpha = s \\ 0 & \alpha \ne s . \end{cases}$. We know that $\delta_s$ extends to a group  homomorphism $ \phi : \Fr(S) \to \bigoplus_{s\in S} G_s$. We also have the following commutative diagram.
\[
\begin{tikzcd}
\Fr(S) \arrow[d, "\pi"', two heads] \arrow[r, "\phi"] & \bigoplus_{s\in S} G_s \\
\Fr(S)^{\ab} \arrow[ru, "\exists! \phi^{\ab}"', dashed] & 
\end{tikzcd}
\]
Notice that $\phi$ must be surjective. Hence $\phi^{\ab}$ is also surjective. It remains to show that it is injective. Let $[x] \in \ker \phi^{\ab}$.
Then we may write $[x] = n_1n_2\cdots n_r+\Fr(S)'$ where each $n_i \in G_i$. Hence $$0= \phi^{\ab}([x]) = \sum_{i=1}^r n_i \delta_{s_i}.$$ Thus, each $n_i=0$, so that $[x]=0$, and $\ker \phi^{\ab}$ is trivial. 

\begin{lemma}\label{l14}
$\Fr(S) \cong \Fr(T) \iff S\cong T.$ 
\end{lemma}
\begin{proof} $ $
\\ $(\Longleftarrow)$ If $u: S \to T$ and $v: T\to S$ are inverses of each other, then so are $F(u)$ and $F(v)$.
\\ \\
$(\Longrightarrow)$ Assume that $\Fr(S) \cong \Fr(T)$. Then $$\bigoplus_{s\in S} G_s \cong \Fr(S)^{\ab} \cong \Fr(T)^{\ab} \cong \bigoplus_{t\in T} G_t.$$ Hence $\Fun^{\fs}(S, C_2)\cong \faktor{\bigoplus_{s\in S} G_s}{2\bigoplus_{s\in S} G_s} \cong \faktor{\bigoplus_{t\in T} G_t}{2\bigoplus_{t\in T} G_t}\cong \Fun^{\fs}(T, C_2)$. But then $\Fun^{\fs}(S, C_2)$ and  $\Fun^{\fs}(T, C_2)$ are isomorphic as $C_2$-vector spaces, so that $S \cong T$ as bases. 
\begin{remark} There is another proof if we restrict our set-theoretic universe.
\\
The adjunction $(\Fr, \lvert - \rvert)$ gives $$P(T) \cong \Hom_{\mathbf{Set}}(T, C_2) \cong \Hom_{\mathbf{Grp}}(\Fr(T), C_2)\cong \Hom_{\mathbf{Grp}}(\Fr(S), C_2)\cong \Hom_{\mathbf{Set}}(S, C_2)\cong P(S).$$
If we assume the continuum hypothesis, then this implies that $S \cong T$.
\end{remark}
\end{proof}

\subsection{Lecture 24}

\begin{remark}
For any group $G$, we have $$\Hom_{\mathbf{Grp}}(\Fr(|G|), G) \cong \Hom_{\mathbf{Set}}(|G|, |G|)\ni \id_{|G|}.$$ Thus, there is a unique group map $\phi : \Fr(|G|) \to G$ such that $\phi \restriction_{|G|} = \id_{|G|}$. This implies that $\phi$ is surjective, so that $G$ is the quotient of a free group.
\end{remark}

\begin{definition}
We say that a group $G$ is generated by a subset $S\subset G$ if the homomorphism $$\phi \circ \Fr(i):\Fr(S) \to \Fr(|G|) \to G$$ is surjective, where $i: S \to |G|$ denotes inclusion.
\end{definition}

\begin{note}
$\im(\phi \circ \Fr(i)) = \bigcap \{H : H \leq G, \ H \supset S\}$.
\end{note}

\begin{definition}
Suppose that the set $S$ generates $G$ and that the set $T$ generates $\ker(\Fr(S) \twoheadrightarrow G)$. Then there is an exact sequence $$\eta :  \Fr(T) \to \Fr(S) \to G \to 1.$$ In this scenario, we call $\eta$ a \textit{presentation of $G$}. We also cal $S$ the \textit{set of generators of $G$} and $T$ the \textit{set of relations of $G$}.
\end{definition}

\begin{remark} $ $
\begin{enumerate}
\item Any quotient of a finitely generated group is finitely generated.
\item A subgroup of a finitely generated group need not be finitely generated. For example, $F_2\coloneqq \Fr(\{x,y\})$ is finitely generated, but the subgroup $\{y^kxy^{-k} : k \geq 0\}$ is not.
\item If $G$ is finitely presentable, then any subgroup of $G$ is finitely presentable.
\end{enumerate}  
\end{remark}

\begin{theorem}[Nielsen-Schreier]
Any subgroup of a free group is free.
\end{theorem}

\section{Polynomial rings}

\begin{note}
Our main setting for ring theory will be $\mathbf{CommRing}$, the category of unital, associative, commutative rings.
\end{note}

\begin{definition}
Let $A \in \mathbf{CommRing}$. Then we have the $A$-module $\bigoplus_{\N} A$ For each $k\geq 0$, define $$m_k = (0, \ldots, 0, \underbrace{1}_{k-\text{th place}}, 0 , \ldots).$$ Then the $m_k$ form an $A$-basis for  $\bigoplus_{\N} A$. Define $m_k \cdot m_l = m_{k+1}$ and extend this operation to $\bigoplus_{\N} A$ by linearity. Then $(\bigoplus_{\N} A, + , \cdot) \in  \mathbf{CommRing}$. Moreover, $((\bigoplus_{\N} A, + , \cdot), i) \in  \mathbf{CommRing}^A$ where $i : A \to \bigoplus_{\N}A$ denotes inclusion by $a \mapsto (a, 0, \ldots, 0, \ldots)$. We call this the \textit{one-variable ring over $A$}.
\end{definition}

\begin{note}
By convention, we let $\deg(0)= {-}\infty$.
\end{note}

\begin{lemma}
$\deg(p_1 + p_2) \leq \max(\deg p_1, \deg p_2)$.
\end{lemma}

\subsection{Lecture 25}

\begin{definition}
Let $S$ be a set. Note that $\underbrace{\Fun^{\fs}(S, \Z_{\geq 0})}_{\text{finite support}}$ is an additive monoids because $\Z$ is one. View its elements as monomials in elements of $S$. For any $s\in S$, define $t_s : S \to \Z_{\geq 0}$ by $x \mapsto \begin{cases} 0 & s \ne x \\ 1 & s =x \end{cases}.$ Then for any $\xi \in \Fun^{\fs}(S, \Z_{\geq 0})$, we write $\xi = \prod_{s\in S}t_s^{\xi(s)} =\prod_{s\in \supp(\xi)}t_s^{\xi(s)}$.
Let $A \in \ob \mathbf{CommRing}$. Define the \textit{multivariable polynomial ring over $A$ on $\{t_s\}_{s\in S}$} as $$A[S] = \Fun^{\fs}(\Fun^{\fs|}(S, \Z_{\geq 0}), A)$$ equipped with the operations
\begin{align*}
(f+g)(\xi) &= f(\xi) +g(\xi)
\\ (f\cdot g)(\xi) & = \mathop{\sum_{\mu, \nu}}_{\mu \cdot \nu = \xi} f(\mu) \cdot g(\nu).
\end{align*}
\end{definition}

\begin{remark} $ $
\begin{enumerate}
\item Note that $A[S] \in  \ob \mathbf{CommRing}$ with $0_{A[S]}(\xi) =0$ and and $1_{A[S]}(\xi) = \begin{cases} 0_A & \xi \ne 0 \\ 1_A & \xi =0   \end{cases}$ for each monomial $\xi$. 
\item There is  a natural ring monomorphism $i : A \hookrightarrow A[S]$ given by $a \mapsto a1_{A[S]}$.
\item Given $f\in A[S]$, we can write $f = \sum_{\xi \in \supp(f)} f(\xi)\delta_{\xi}$. Let $ \delta_{\xi}\coloneqq \prod_{s\in \supp(\xi)}t_s^{\xi(s)}$, so that instead we can write $$ f = \sum_{\xi \in \supp(f)} f(\xi)\prod_{s\in \supp(\xi)}t_s^{\xi(s)} $$ in the form of a polynomial in several variables.  
\item Consider the forgetful functor $\lvert - \rvert: \mathbf{CommRing}^A \to \mathbf{Set}$. The polynomial functor $A[-]: \mathbf{Set} \to \mathbf{CommRing}^A $ is left adjoint to $\lvert - \rvert$.
\begin{proof}
We want a natural bijection $\Hom_{\mathbf{CommRing}^A}(A[S], B) \cong \Hom_{\mathbf{Set}}(S, |B|)$ for any ring map $i: A\to B$ and any set $S$. Given a commutative diagram  
\[
\begin{tikzcd}
{A[S]} \arrow[r, "\theta"] & B \\
A \arrow[u, hook] \arrow[ru, "i"'] & 
\end{tikzcd}
\] of ring maps, define the set map $\hat{\theta} : S \to |B|$ by $s\mapsto \theta(t_s)$. Conversely, given a set map $\phi : S\to |B|$, define the ring map $\hat{\phi} : A[S] \to B$ by $$ \sum_{\xi \in \supp(f)} f(\xi)\prod_{s\in \supp(\xi)}t_s^{\xi(s)}  \mapsto \sum_{\xi \in \supp(f)} i(f(\xi))\prod_{s\in \supp(\xi)}\phi(t_s)^{\xi(s)}  .$$
\end{proof}
\item Any set inclusion $T \subset S$ incudes a ring monomorphism $A[T] \hookrightarrow A[S]$.
\begin{exercise}
Apply Yoneda to the adjoint pair $(A[-], \lvert - \rvert)$ to prove that $A[S]\cong A[T][S\setminus T]$.
\end{exercise}
\end{enumerate}
\end{remark}

\begin{definition}
Given a monomial $\xi$ in elements of $S$, define $\deg(\xi) = \sum_{s\in S} \xi(s).$ If $f\in A[S]$, then define $$ \deg(f)  = \max \{ \deg (\xi) : f(\xi) \ne 0\}  .$$ By convention, we set $\deg(0) = {-}\infty$.
\end{definition}

\begin{lemma} $ $
\begin{enumerate}
\item $\deg(f+g)\leq \max \{\deg(f), \deg(g)\}$.
\item $\deg(fg) \leq \deg(f) + \deg(g)$.
\end{enumerate}
\end{lemma}

\begin{lemma}
If $A$ is an integral domain, then $(A[S])^{\times} =A^{\times}$ and $A[S]$ is an integral domain. In this case, $\deg(fg) = \deg(f) + \deg(g)$.
\end{lemma}
\begin{proof}
Suppose that $A$ has no zero divisors. Given $f,g \in A[S]$,  write 
$$ f= \sum_{\xi} f(\xi)t^{\xi}   \quad \quad  g= \sum_{\xi} g(\xi)t^{\xi}.$$ Say that $\deg(f) = \deg(\eta)$ and $\deg(g) = \deg(\eta')$ where $f(\eta) \ne 0$ and $g(\eta') \ne 0$. Then the coefficient before the term $t^{\eta}t^{\eta'}$ in $fg$ is equal to $f(\eta)g(\eta') \ne 0$. Hence $\deg(fg) = \deg(f) + \deg(g)$. Also, if $g=0$ or $f=0$, then clearly $\deg(fg) = \deg(f) + \deg(g)$.
\\ \\ 
Both the fact that $(A[S])^{\times} \subset A^{\times}$ and the fact that $A[S]$ has no zero divisors follow immediately from this.
\end{proof}

\begin{definition}
Any object $i : A \to B$ in the under category $\mathbf{CommRing}^A$ is a \textit{commutative $A$-algebra} if $i$ is injective. 
\end{definition}

\begin{definition}
Let $B$ be a commutative $A$-algebra and $S\subset B$. Then $S$ is \textit{algebraically independent over $A$} if the natural homomorphism $A[S] \to B$ is injective. If $S=\{x\}$, then we say that $x$ is \textit{transcendental over $A$} if $S$ is algebraically independent over $A$ and \textit{algebraic over $A$} otherwise.
\end{definition}

\begin{definition}
Let $B$ be a commutative $A$-algebra. We say that $B$ is \textit{finitely generated} if $A[T] \to B$ is surjective for some finite $T\subset B$.
\end{definition}

\begin{prop}
If $S$ and $T$ are sets, then $S\cong T \iff \Z[S]\cong \Z[T]$.
\end{prop}
\begin{proof}
See \cref{l14}.
\end{proof}

\section{Noetherian and Artinian modules}

\subsection{Lecture 26}

\begin{remark}
Suppose that $A$ is an abelian group. Then $(\ed(A), +, \circ)$ is a ring. 
\end{remark}

\begin{definition}
Let $R$ be a unital ring. Then a \textit{(left) $R$-module} is a pair $(A, \rho)$ where $A$ is an abelian group and $\rho : R \to \ed(A)$ is a ring homomorphism.
\end{definition}
\begin{note}
This agree with the usual definition of an $R$-module in terms of an action map $\alpha : R\times A \to A$ where we set $\rho(r)(a) = \alpha(r, a)$.
\end{note}

\begin{definition}
A \textit{morphism of $R$-modules $(A_1, \rho_1) \to (A_2, \rho_2)$} is a group map $\phi : A_1 \to A_2$ such that the following commutes for any $r\in R$.
\[
\begin{tikzcd}
A_1 \arrow[d, "\rho_1(r)"'] \arrow[r, "\phi"] & A_2 \arrow[d, "\rho_2(r)"] \\
A_1 \arrow[r, "\phi"'] & A_2
\end{tikzcd}
\] The category of $R$-modules is denoted by $R$-$\mathbf{Mod}$.
\end{definition}

\begin{definition}
Let $R^{\op}$ denote the ring obtained from revering the multiplication on $R$. Then a\textit{right $R$-module} is a pair $(A, \rho)$ where $A$ is an abelian group and $\rho : R^{\op} \to \ed(A)$ is a ring homomorphism. The category of right $R$-modules is denoted by $R^{\op}$-$\mathbf{Mod}$.
\begin{note}
This is equivalent to defining an action map $\alpha : A \times R \to A$ where we set $\alpha(a, r) = \rho(r)(a)$.
\end{note}
\end{definition}

\begin{note}
The category of bimodules is denoted by $R$-$\mathbf{Mod}$-$R$ or $R \otimes_{\Z}R^{\op}$-$\mathbf{Mod}$.
\end{note}

\begin{exmp}
Any ring is a bimodule over itself via left and right multiplication.
\end{exmp}

\begin{remark} Let $M$ be an $R$-module. Let $\{M_{\alpha}\}_{\alpha \in A}$ be a collection of submodules of $M$ and $i_{\alpha}$ denote inclusion.
\begin{enumerate}
\item The intersection $\bigcap_{\alpha} M_{\alpha}$ is a submodule of $M$. 
\item We have $$(i_{\alpha}) \in \prod_{\alpha}\Hom_{R\text{-}\mathbf{Mod}}(M_{\alpha}, M) = \Hom_{R\text{-}\mathbf{Mod}}\left(\coprod_{\alpha} M_{\alpha}, M\right).$$ Define $\sum_{\alpha} M_{\alpha} = \im (i_{\alpha})$. Then $$\sum_{\alpha} M_{\alpha}  = \{\sum_{\alpha} m_{\alpha} : m_{\alpha} \in M_{\alpha}, \ m_{\alpha} \ne 0 \text{ for at most finitely many } \alpha\}.$$
\item Let $S\subset M$ be any subset. We call $\coprod_{s\in S} R$ \textit{the free $R$-module generated by $S$}. We have a natural map $g : \coprod_{s\in S} R \to M$ given by $(r_s) \mapsto \sum_s r_ss$. We say that $R \cdot S: = \im g$ is the \textit{submodule of $M$ generated by $S$}.
\item The free $R$-module functor is left adjoint to the forgetful functor.
\end{enumerate}
\end{remark}

\begin{definition} Let $M$ be an $R$-module. Then $M$ is
\begin{enumerate}
\item \textit{Noetherian} if it has ACC.
\item \textit{Artinian} if it has DCC.
\end{enumerate}
\end{definition}

\begin{definition} Let $M$ be an $R$-module. Then $M$ has
\begin{enumerate}
\item the \textit{maximal property} if every collection of submodules of $M$ has a maximal element.
\item the \textit{minimal property} if every collection of submodules of $M$ has a minimal element.
\end{enumerate}
\end{definition}

\begin{lemma} Let $M$ be an $R$-module. TFAE.
\begin{enumerate}[label=(\alph*)]
\item $M$ is Noetherian.
\item $M$ has the maximal property. 
\item Every submodule of $M$ is finitely generated. 
\end{enumerate}
\end{lemma}
\begin{proof} $ $ \\
(a) $\implies$ (b) is easy to show by an iteration argument.
\\ \\ (b) $\implies$ (c). If $M$ has the maximal property, then so does every submodule. Hence it suffices to the prove the following lemma.
\begin{lemma}\label{l19}
If the $R$-module $M$ has the maximal property, then $M$ is finitely generated.
\end{lemma}
\begin{proof}
Let $\mathcal{F}$ denote the set of any finitely generated submodule $N\subset M$. This is partially ordered by $\subset$ and nonempty. We can apply Zorn's Lemma to obtain a maximal element $T$ of $\mathcal{F}$. If $T=M$, then we are done. Otherwise, choose $m\in M \setminus T$. Then $T + (m) \in \mathcal{F}$, contrary to the choice of $T$. 
\end{proof}
(c) $\implies$ (a). Let $M_1 \subset M_2 \subset \cdots \subset M$ be an ascending chain of submodules of $M$. Then set $N= \bigcup_{i=1}^{\infty} M_i$, which is a submodule, hence finitely generated by hypothesis. Let $x_1, \ldots. x_s$ denote the generators. Then each $x_k \in M_{i_k}$ for some some $i_k$. Set $n= \max\{i_k : 1\leq k \leq s\}$, so that $N = M_n$.
\end{proof}

\begin{lemma} TFAE.
\begin{enumerate}[label=(\alph*)]
\item $M$ is Artinian.
\item $M$ has the minimal property.
\end{enumerate}
\end{lemma}

\subsection{Lecture 27}

\begin{prop} $ $
\begin{enumerate}
\item The properties \textit{Noetherian}, \textit{Artinian}, and \textit{finitely generated} are preserved by quotients. 
\item The properties \textit{Noetherian} and \textit{Artinian} are preserved by submodules.
\item If both the submodule $N$ of $M$ and the quotient $\faktor{M}{N}$ are Noetherian, then so is $M$. The same is true of Artinian and finitely generated modules.
\begin{proof} $ $
\begin{enumerate} 
\item Assume that both $N$ and $\faktor{M}{N}$ are Noetherian. We have the exact sequence
\[
\begin{tikzcd}
0 \arrow[r] & N \arrow[r, "i", hook] & M \arrow[r, "q", two heads] & \faktor{M}{N} \arrow[r] & 0
\end{tikzcd}.
\] Let $M_1 \subset M_2 \subset \cdots \subset M$ be an ascending chain of submodules.  Then $q(M_1) \subset q(M_2) \subset \cdots \faktor{M}{N}$ is an ascending chain of submodules, which must stabilize at, say, the $k$-th position. Also, the ascending chain $N \cap M_1 \subset N \cap M_2 \subset \cdots N$ must stabilize at, say, the $l$-th position. Set $ r= \max\{k, l\}$.
\[
\begin{tikzcd}
N \cap M_i \arrow[r, hook] & M_i \arrow[r, two heads] & q(M_i) \\
N \cap M_r \arrow[u, equal] \arrow[r, hook] & M_r \arrow[u, hook] \arrow[r, two heads] & q(M_r) \arrow[u, equal]
\end{tikzcd}.
\]
Let $x \in M_i$. Then $[x] = [y]$ for some $y\in M_r$, i.e., $x = y+n$ for some $n\in N$. This implies that $x-y \in N \cap M_i = N \cap M_r$. It follows that $x = y+t$ for some $t\in M_r$, so that $x\in M_r$. This proves that $M_r\subset M_i$, hence $M_i = M_r$.
\item The Artinian case follows from a similar argument. Then for any $i\geq r$, we have
\item Assume that both $N$ and $\faktor{M}{N}$ are finitely generated $R$-modules. There are finite sets $S$ and $T$ such that
\begin{align*}
& \alpha: \coprod_{s\in S}R \twoheadrightarrow N  \\
& \beta : \coprod_{t\in T} R \twoheadrightarrow \faktor{M}{N}.
\end{align*}
We have the short exact sequence.
\[\begin{tikzcd}
0 \arrow[r] & N \arrow[r, "i", hook] & M \arrow[r, "q", two heads] & \faktor{M}{N} \arrow[r] & 0 \\
 &  &  & \coprod_{t\in T}R \arrow[u, "\beta", two heads] & 
\end{tikzcd}
.\]
Since the free module functor is left adjoint to the forgetful functor, it follows that $\beta$ lifts to a homomorphism $ \coprod_{t\in T}R \overset{\theta}{\longrightarrow} M$  if and only if the set map $T \to \faktor{M}{N}$ lifts to a set map $T \to M$. But there is some set-theoretic section $s: \faktor{M}{N} \to M$, making $T \overset{\beta}{\longrightarrow} \faktor{M}{N} \overset{s}{\longrightarrow} M$ such a lift in $\mathbf{Set}$. Thus we obtain such a lift $\theta$ in $R{-}\mathbf{Mod}$. Define the homomorphism $$\phi : (\coprod_{s\in S} R) \coprod (\coprod_{t\in T} R)\to M, \quad \quad (x,y) \mapsto \alpha(x) + \theta(y),$$ which satisfies
\[
\begin{tikzcd}
0 \arrow[r] & N \arrow[r, "i", hook] & M \arrow[r, "q", two heads] & \faktor{M}{N} \arrow[r] & 0 \\
0 \arrow[r] & \coprod_{s\in S}R \arrow[u, "\alpha"] \arrow[r, hook] & (\coprod_{s\in S} R) \coprod (\coprod_{t\in T} R) \arrow[u, "\phi"] \arrow[r, two heads] & \coprod_{t\in T}R \arrow[u, "\beta", two heads] \arrow[r] & 0
\end{tikzcd}.
\] 
If $x\in M$, then we can find some $y\in \coprod_{t\in T}R$ such that $\beta(y) = q(x)$. Also, $q\circ \theta(y) = \beta(y)$, so that $q(x- \theta(y) ) = 0$, i.e., $x-\theta(y) \in N$. There is some $m\in \coprod_{s\in S}R$ such that $\alpha(m) = x-\theta(y)$. Hence $x= \phi(m,y)$, proving that $\phi$ is surjective. This is to say that $M$ is finitely generated.
\end{enumerate}
\end{proof}
\end{enumerate}
\end{prop}

\begin{lemma}
Let $\{M_{\lambda}\}_{\lambda\in \Lambda}$ be a set of $R$-modules. Without loss of generality, assume that each $M_{\lambda}$ is nontrivial. If $P$ is any of the three finiteness properties, then $\coprod_{\lambda \in \Lambda} M$ has $P$  if and only if each $M_{\lambda}$ has $P$ and $\Lambda$ is finite.
\end{lemma}
\begin{proof} 
Suppose that $\coprod_{\lambda} M_{\lambda}$ has $P$. But each projection $\pi_{\lambda}$ onto $M_{\lambda}$ is a surjection, and $P$ is preserved by quotients. Hence each $M_{\lambda}$ has $P$. Now, suppose, for contradiction, that $\Lambda$ is infinite. We have three cases to consider.
\begin{enumerate}
\item Suppose that $\coprod_{\lambda} M_{\lambda}$ is Noetherian. By the countable axiom of choice, find some countably infinite subset $\{\lambda_n\}\subset \Lambda.$ But this gives an infinite chain $$M_{\lambda_1} \subsetneq M_{\lambda_1} \coprod M_{\lambda_2} \subsetneq \cdots \subset \coprod_{\lambda} M_{\lambda},$$ a contradiction.
\item For the Artinian case, apply a similar argument.
\item Suppose that $\coprod_{\lambda} M_{\lambda}$ is finitely generated. We have a surjection $$\phi: \coprod_{i=1}^n R \twoheadrightarrow \coprod_{\lambda} M_{\lambda}$$ for some integer $n$. For each $1\leq i\leq n$, define $x_i = \phi(0, \ldots, \underbrace{1}_{i\text{-th spot}}, \ldots, 0).$ We can write $x_i = (x_{i_{\lambda}})_{\lambda \in \Lambda}$. Define $$\Lambda^0 = \{\lambda \in \Lambda : \exists i. x_{i_\lambda}\ne 0 \} .$$ Note that $\Lambda^0$ is finite, so that there is some $\mu \in \Lambda \setminus \Lambda^0$.  Then the composition map $$\pi_{\mu} \circ \phi$$ is the trivial morphism. But it is also a surjection as the composition of surjections, a contradiction. 
\end{enumerate}
The converse is clear.
\end{proof}

\begin{definition}
A ring $R$ is \textit{Noetherian} if every ideal has  ACC. It is \textit{Artinian} if every ideal has DCC.
\end{definition}


\begin{prop} Let $R$ be Noetherian (resp. Artinian).
\begin{enumerate}
\item Every finitely generated module over $R$ is Noetherian (resp. Artinian).
\item If $R$ is Noetherian, then every finitely generated $R$-module is finitely presentable. 
\end{enumerate}
\end{prop}
\begin{proof}
We just need to check the second statement. Let $M$ be an $R$-module generated by the finite set $S$. Then  $\coprod_{s\in S} R$  is Noetherian. But this implies that $\ker(\coprod_{s\in S} R \twoheadrightarrow M)$ is finitely generated.
\end{proof}

\begin{exmp} $ $
\begin{enumerate}
\item Any field $k$ is both Noetherian and Artinian since its ideals are precisely $(0)$ and $k$.
\item Set $R= \C[x_1, x_2, \ldots]$. This is not Noetherian, because $$(x_1) \subsetneq (x_1, x_2) \subsetneq \cdots   $$ fails to stabilize. But $R$ is an integral domain since $\C$ is one. If $F$ denotes the fraction field of $R$, then $R\subset F$ is the subring of a Noetherian ring but is not finitely generated. 

Moreover, a finitely generated module over a general ring $R$ need not be finitely presentable. To see this, note that $\C$ is an $R$-module via the action $f \cdot a = f(0)a$. We get a short exact sequence
\[
\begin{tikzcd}
0 \arrow[r] & {(x_1, x_2, \ldots)} \arrow[r] & R \arrow[r, "\text{ev}_0"] & \C \arrow[r] & 0
\end{tikzcd}
.\]
Suppose, for contradiction, that there are finite sets $T$ and $S$ such that 
\[ 
\begin{tikzcd}
 \coprod_{t\in T}R \arrow[r] & \coprod_{s\in S} R \arrow[r] & \C \arrow[r]  & 0
\end{tikzcd} 
\]  is  exact. 
Then we may construct the commutative diagram
\[
\begin{tikzcd}
0 \arrow[r] & {(x_1, x_2, \ldots)} \arrow[r] & R \arrow[r, "\text{ev}_0"] & \C \arrow[r] & 0 \\
 & \coprod_{t\in T}R \arrow[r] \arrow[u, "\theta"] & \coprod_{s\in S} R \arrow[r] \arrow[u, "\phi"] & \C \arrow[r] \arrow[u, equal] & 0
\end{tikzcd}
\] so that $\phi$ is surjective. But a diagram chase shows that this makes $\theta$ surjective, contrary to the fact that $(x_1, x_2, \ldots)$ is not finitely generated.
\end{enumerate}
\end{exmp}

\begin{theorem}[Hilbert's basis theorem] 
If $A\in \mathbf{CommRing}$ is Noetherian, then $A[x]$ is also Noetherian. 
\end{theorem}
\begin{proof}
Note that $A[x]$ is an $A$-module since $A$ is a subring. We see that $$A[x] = \bigcup_{n\geq 0} A[x]_n$$ where $$A[x]_n =  \{f \in A[x] : \deg f \leq n\}  .$$
Note that each $A[x]_n$ is finitely generated by $1, x, \ldots, x^n$, giving a surjection $\coprod_{\{0, 1, \ldots, n\}}A \twoheadrightarrow A[x]_n$. Since $\coprod_{\{0, 1, \ldots, n\}}A$ is Noetherian by \cref{l19}, so is $A[x]_n$.
\\ \\ Let $\Omega \unlhd A[x]$ be an ideal. Then $\Omega \cap A[x]_n$ is an $A$-submodule in $A[x]_n$ and thus a finitely generated $A$-module by, say, $\alpha_1, \ldots, \alpha_{k_n}$. Let $$\widetilde{\Omega} \coloneqq  \{a\in A : a = 0 \text{ or } \exists f\in \Omega. \deg f >0 \land f(x) = ax^r+ O(x^{r-1})\}.$$
\begin{lemma}
$\widetilde{\Omega}$ is an ideal in $A$.
\end{lemma}
\begin{proof}
Let $a,b \in \widetilde{\Omega}$. If $a=0$ or $b=0$, then $a+b\in \widetilde{\Omega}$. Suppose $a,b\ne 0$. Then there are $f, g \in 
\Omega$ such that $f= ax^r + O(x^{r-1})$ and $g= bx^s + O(x^{s-1})$. Set $t=\max\{r, s\}$. Then ${\Omega} \ni x^{t-r}f \pm x^{t-s}g = (a\pm b)x^t +O(x^{t-1}),$ implying that $a\pm b \in \widetilde{\Omega}$.
\\ \\
Further, it's clear that if $a\in \widetilde{\Omega}$ and $b\in A$, then $ba\in \widetilde{\Omega}$. 
\end{proof}
It follows that $\widetilde{\Omega}$ is a finitely generated $A$-module by, say, the elements $b_1, \ldots, b_s$. For each $i=1, \ldots, s$, find some $f_i \in \Omega$ such that $f_i = b_ix^{m_i} + O(x^{m_i-1})$. Set $n= \max\{m_i\}$.
\begin{lemma}
$\Omega$ is generated by $\{\alpha_1, \ldots, \alpha_{k_n}, f_1, \ldots, f_s\}$ as an ideal in $A[x]$.
\end{lemma}
\begin{proof}
Let $f\in \Omega$. Write $f = \beta x^r + O(x^{r-1})$ for some $r \geq 1$. Then $\beta \in \widetilde{\Omega}$. It follows that $\beta = \sum_{i=1}^s c_ib_i$ for some $c_i \in A$. If $r \geq n$, then $f -\sum_{i=1}^s c_ix^{r-n}f_i$ has degree $< r$. We can repeat this to see that $f - (\text{some combination of } f_i \text{ with coefficients in } A[x])$ will have degree $\leq n$. That is, there are $g_1, \ldots, g_s \in A[x]$ such that $\deg(f - \sum_{i=1}^sg_if_i) \leq n$. But we're done because $f - \sum_{i=1}^sg_if_i \in \Omega \cap A[x]_n$.
\end{proof}$ $As $\Omega$ was arbitrary, it follows that $A[x]$ is Noetherian as an $A[x]$-module. 
\end{proof}

\subsection{Lecture 28}

\begin{corollary}
If $A \in \ob \mathbf{CommRing}$ is Noetherian, then $A[x_1, \ldots, x_n]$ is also Noetherian.
\end{corollary}
\begin{proof}
We have that $A[x_1, \ldots, x_n] \cong A[x_1, \ldots, x_{n-1}][x_n]$. Now use induction.
\end{proof}

\begin{exmp}
Both $\Z[x_1, \ldots, x_n]$ and $k[x_1, \ldots, x_n]$ are Noetherian where $k$ is a field.
\end{exmp}

\begin{corollary}
From our proof of the theorem, we see that if $k$ is a field, then $k[x]$ is a PID.
\end{corollary}

\begin{corollary}
If $A$ is Noetherian and $B$ is a finitely generated commutative $A$-algebra, then $B$ is Noetherian as a ring.
\end{corollary}
\begin{proof}
We have a ring embedding $i: A \to B$. As $B$ is finitely generated as an $A$-algebra, there exists a map $\phi: A[x_1, \ldots, x_n] \twoheadrightarrow B$ of $A[x_1, \ldots, x_n]$-modules. By a previous corollary, $A[x_1, \ldots, x_n]$ is Noetherian, which implies that $B$ is the quotient of a Noetherian $A[x_1, \ldots, x_n]$-module. Hence $B$ is also Noetherian as a module over $A[x_1, \ldots, x_n]$. Let $I\unlhd B$ be an ideal. Then $I$ is a submodule over $A[x_1, \ldots, x_n]$ via $\phi$ and thus is finitely generated as such. It follows automatically that $I$ is also finitely generated as a $B$-module.
\end{proof}

\section{Hilbert's theorem on invariants}

\begin{definition}
Let $A \in \ob \mathbf{CommRing}$, $B$ be a commutative $A$-algebra, and $G$ be a group. We say that $G$ \textit{acts on $B$ as an $A$-algebra} if there is an action $\rho : G \to \aut_{\mathbf{Set}}(B)$ such that each  $\rho_g  : B \to B$ is an \textit{algebra isomorphism}, i.e., 
\begin{align*}
&  \rho_g(b_1 +b_2) = \rho_g(b_1) + \rho_g(b_2)
\\ & \rho_g(b_1b_2) = \rho_g(b_1)\rho_g(b_2)
\\ & \rho_g(a) = a
.\end{align*}
\end{definition}

\begin{theorem}[Hilbert's theorem on invariants]
Let $k$ be a field, $G$ a finite group, and $A$ a finitely generated $k$-algebra equipped with a $G$-action. If $(|G|, \Char(k))=1$, then $A^G\coloneqq  \{ a \in A: \forall g \in G.g\cdot a =a\}$ if a finitely generated $k$-subalgebra. 
\end{theorem}
\begin{proof}
Note that $A^G$ is a $k$-subalgebra because $k\subset A^G$. As $|G|$ is coprime to $\Char(k)$, we know that $|G|$ is invertible in $A$. Define the algebra homomorphism $$S: A \to A, \quad a \mapsto \frac{1}{|G|}\sum_{g\in G}g\cdot a   .$$ Let $a\in A$. Then $$\chi_a(x)\coloneqq  \prod_{g\in G}(x-g\cdot a)\in A[x].$$ The coefficients of this polynomials are elementary symmetric functions in $\{g\cdot a\}_{g\in G}$. Further, for any $h\in G$, we get a permutation $\{g\cdot a\}_{g\in G} \overset{h\cdot (-)}{\longrightarrow} \{h g\cdot a\}_{g\in G}$. Thus, the same coefficients are invariant under the $G$-action, which proves that $\chi_a(x) \in A^G[x]$. 
\begin{definition}
Let $P(x)$ be a polynomial of degree $k$ with roots $x_1, \ldots, x_k$. If $n\in \N$, then define the \textit{n-th Newton sum} as $P_n = x_1^n + \cdots + x_k^n$.
\end{definition}
It is known that any elementary symmetric polynomial can be expressed in terms of Newton sums. In our case, we can express each coefficient of $\chi_a(x)$ in terms of $S(a), S(a^2) , \ldots, S(a^{|G|})$.

Find generators $u_1, \ldots, u_m$ for $A$ over $k$. Let $B$ denote subalgebra of $A^G$ generated by $\{S(u_i^k)\}_{i=1, \ldots, m,\ k=1, \ldots, |G|}$ over $k$. For each $i$, observe that $X_{u_i}(x) \in B[x]$ and that $X_{u_i}(u_i) =0$. It follows that $u_i^{|G|}$ can be written as a $B$-combination of $1, u_i, \ldots, u_i^{|G|-1}$. {[[Why?]]} This implies that any monomial of the form $u_1^{s_1}\cdots u_m^{s_m}$ can be written as a $B$-combination of monomials of the form $u_1^{\alpha_1}\cdots u_m^{\alpha_m}$ where each $0\leq \alpha_i <|G|$. We may thus write $$a= \sum_{\alpha\coloneqq  (\alpha_1, \ldots, \alpha_m)}\phi_{\alpha}u^{\alpha}, \quad \alpha_i < |G|, \quad \phi_{\alpha} \in B.   $$ If $a\in A^G$, then $a=S(a) = \sum_{\alpha}S(\phi_{\alpha})S(u^{\alpha}) = \sum_{\alpha} \phi_{\alpha}S(u^{\alpha})$. As each $\alpha_i<|G|$,  the set $\{S(u^{\alpha})\}_{\alpha}$ is finite. Also, $B$ is finitely generated over $k$. As a result, $A^G$ is finitely generated over $k$. 
\end{proof}

\section{Projective and injective modules}

\subsection{Lecture 29}

\begin{note}
We now turn to the homology of modules, which offers a quantitative measure of the complexity of objects in $R{-}\mathbf{Mod}$.
\end{note}

\begin{definition}
An \textit{additive invariant of modules} is a class function $\phi : \ob(R{-} \mathbf{Mod}) \to \Z$ such that for every $R$-module $M$ and submodule $N\subset M$ we have $\phi(M) = \phi(N) + \phi \left(\faktor{M}{N} \right)$. 
\end{definition}

\begin{definition} An $R$-module $M$ is called
\begin{enumerate}
\item \textit{simple} if it has no proper nontrivial submodules.
\item \textit{indecomposable} if $M = M_1 \coprod M_2$ implies that $M_1$ or $M_2$ is trivial.
\end{enumerate}
\end{definition}

\begin{exmp} $ $
\begin{enumerate}
\item $\dim_k : \ob(\mathbf{Vect}_k) \to \Z$ where $k$ is a field.
\item  
We have exact analogues of Jordan-Holder and Krull-Schmidt for $R{-}\mathbf{Mod}$. Define the \textit{length of $M$} as the length of any composition series of $M$. By Jordan-Holder, the length function $\lambda : \ob(R{-} \mathbf{Mod}) \to \Z \cup \{\infty\}$ is an additive invariant.
\end{enumerate}
\end{exmp}

\begin{definition} Let $R$ and $S$ be rings and $F: R{-} \mathbf{Mod} \to S{-}\mathbf{Mod}$ be a functor. Let $M$ and $N$ be $R$-modules. We say that $F$
\begin{enumerate}
\item is \textit{additive} if $F : \Hom(M, N) \to \Hom(F(M), F(N))$ is a homomorphism of abelian groups.
\item is \textit{exact} if for any short exact sequence 
\begin{tikzcd}
0 \arrow[r] & N \arrow[r, "i"] & M \arrow[r, "q"] & \faktor{M}{N} \arrow[r] & 0
,\end{tikzcd}
the sequence
\begin{tikzcd}
0 \arrow[r] & F(N) \arrow[r, "F(i)"] & F(M) \arrow[r, "F(q)"] & F\left(\faktor{M}{N}\right) \arrow[r] & 0
\end{tikzcd} is also exact.
\item is \textit{left exact} (resp. \textit{right exact}) if for any short exact sequence $0 \to M' \to M \to M'' \to 0$ of $R$-modules, the sequence $0 \to F(M') \to F(M) \to F(M'')$ (resp. $F(M') \to F(M) \to F(M'') \to 0$) of $S$-modules is also exact.
\end{enumerate}
\end{definition}

\begin{exmp} $ $
\begin{enumerate}
\item  The forgetful functor $U : R{-}\mathbf{Mod} \to \Z{-}\mathbf{Mod}$ is both additive and exact.
\item If $R$ is a ring, then the functors $\Hom_R(M, -) : R{-}\mathbf{Mod} \to \Z{-}\mathbf{Mod}$ and $\Hom_R(-, M) :R{-}\mathbf{Mod}^{\op} \to \Z{-} \mathbf{Mod}$ are both left exact.
\begin{proof}
We verify that $\Hom_R(M, -)$ is left exact. Let \begin{tikzcd}
0 \arrow[r] & X' \arrow[r, "f"] & X \arrow[r, "g"] & X'' \arrow[r] & 0
\end{tikzcd} be a short exact sequence of $R$-modules. Apply $\Hom_R(M, -)$ to get a sequence of abelian groups.
\[
\begin{tikzcd}
0 \arrow[r] & {\Hom_R(M, X')} \arrow[r, "f\circ (-)"] & {\Hom_R(M,X)} \arrow[r, "g\circ (-)"] & {\Hom_R(M, X'')} \arrow[r] & 0
\end{tikzcd}
\]
Let $\phi : M \to X'$ satisfy $f \circ \phi = 0$. Then $\phi =0$ since $\phi$ is injective by assumption. Hence $f \circ (-)$ is injective.  Let $\psi : M \to X$ satisfy $g \circ \psi =0$. If $m \in M$, then $$g(\psi(m)) =0 \implies \psi(m) \in \ker g = \im f \implies \exists! x' \in X'. f(x') = \psi(m).$$ Define $\gamma(m) = x'.$ Then $f \circ \gamma  = \psi$. Since it is unique, $\gamma$ is a morphism of $R$-modules. Thus, $\psi \in \im (f \circ (-))$. Also, it's clear that $\im (f \circ (-)) \subset \ker (g \circ (-))$. It follows that $\im (f \circ (-)) = \ker (g \circ (-))$.
\end{proof}
\begin{note}
This proof works for any abelian category.
\end{note}
\item If $M \in \ob(R^{\op}{-}\mathbf{Mod})$, then we have the functor $(-) \otimes_R M : R{-}\mathbf{Mod} \to \Z {-}\mathbf{Mod}$. If $M$ is an $R$-module, then we have the functor $M \otimes_R (-) : R^{\op}{-}\mathbf{Mod} \to \Z{-}\mathbf{Mod}$. Both are right exact.
\begin{proof}
We verify that $M \otimes_R (-) : R^{\op}{-}\mathbf{Mod} \to \Z{-}\mathbf{Mod}$ is right exact.  Let 
\[
\begin{tikzcd}
0 \arrow[r] & X' \arrow[r, "f"] & X \arrow[r, "g"] & X'' \arrow[r] & 0
\end{tikzcd} 
\] be a short exact sequence of  right $R$-modules. Apply the functor to get a sequence of abelian groups.
\[
\begin{tikzcd}
0 \arrow[r] & M\otimes_R X' \arrow[r, "\id_M \otimes f"] & M\otimes_R X \arrow[r, "\id_M \otimes g"] & M\otimes_R X'' \arrow[r] & 0
\end{tikzcd}
\]
If $ m \otimes x'' \in M \otimes_R X''$, then there is some $x \in X$ such that $g(x) = x''$, so that $\id_M \otimes g(m \otimes x) = m\otimes x''$. Hence $\id_M \otimes g$ is surjective. To show that $\im(\id_M \otimes f) = \ker (\id_M \otimes g)$, it is enough to construct a map of modules $h: M \otimes_R X'' \to \faktor{M \otimes_R X}{\im(\id_M \otimes f)}$ such that $h\circ (\id_M \otimes g) : M\otimes_R X \to \faktor{M \otimes_R X}{\im(\id_M \otimes f)}$ equals the natural projection. Define $h(m\otimes x'') = m \otimes x + \im(\id_M \otimes f)$ for any $x$ such that $g(x) = x''$. Note that $g(a) = x'' = g(b)$ implies $a-b \in \ker g = \im f$, so that $m \otimes (a-b) \in \im(\id_M \otimes f)$. As $m\otimes b + m \otimes (a-b) = m\otimes a$, we see that $h$ is well-defined.
\end{proof}
\end{enumerate}
\end{exmp}

\begin{definition} An $R$-module $M$ is called
\begin{enumerate}
\item \textit{projective} if $\Hom_R(M, -)$ is exact (i.e., right exact).
\item \textit{injective} if $\Hom_R(-, M)$ is exact (i.e., right exact).
\item \textit{flat} if $(-) \otimes_R M$ is exact (i.e., left exact).
\end{enumerate}
\end{definition}

\begin{note}
Projective and injective are dual notions.
\end{note}

\begin{remark} $ $
\begin{enumerate}
\item $M$ is projective  if and only if $\Hom_R(M, -)$ preserves epimorphisms $X \overset{q}{\longrightarrow}  X'' \to 0$. That is, for any map $\phi : M \to X''$, there is some map $\psi$ such that
\[
\begin{tikzcd}
M \arrow[rd, "\phi"] \arrow[d, "\psi"', dashed] &  &  \\
X \arrow[r, "q"', two heads] & X'' \arrow[r] & 0
\end{tikzcd}
\] commutes.
\item $M$ is injective  if and only if $\Hom_R(-, M)$ maps monomorphisms $0\to X' \overset{i}{\longrightarrow} X$ to epimorphisms. That is, $\Hom_R(X, M) \overset{(-) \circ i}{\longrightarrow} \Hom_R(X', M)$ is surjective, so that for any map $\phi : X' \to M$, there is some map $\psi : X \to M$ such that 
\[
\begin{tikzcd}
 & M &  \\
0 \arrow[r] & X' \arrow[r, "i"', hook] \arrow[u, "\phi"] & X \arrow[lu, "\psi"', dashed]
\end{tikzcd}
\] commutes.
\end{enumerate}
\end{remark}

\subsection{Lecture 30}

\begin{prop}
An $R$-module $M$ is projective  if and only if it is a direct summand of a free $R$-module, i.e., $M \coprod N$ is free for some $R$-module $N$.
\end{prop}
\begin{proof}
$(\Longleftarrow)$
For now, suppose that $M$ is free. Then $$M \cong \coprod_{\lambda \in \Lambda} R.$$  We have a basis $(m_{\lambda})$ for $M$. Let $X \overset{q}{\longrightarrow}  X'' \to 0$ be an exact sequence of $R$-modules. Let $\phi : M \to X''$ be a homomorphism. For each $\lambda$, find some lift $x_{\lambda}\in X$ of $\phi(m_{\lambda})$. Then the assignment $\lambda \mapsto x_{\lambda}$ determines a set function $x : \Lambda \to |X|$. By adjointness, there is some $\psi \in \Hom_{R{-}\mathbf{Mod}}(\coprod_{\lambda} R, X)$ such that $\psi(m_{\lambda}) = x_{\lambda}$. Explicitly, if $a \in M$, then $a = \sum_{\lambda}a_{\lambda}m_{\lambda}$ where $a_{\lambda}\in R$. Then $\psi(a) = \sum_{\lambda} a_{\lambda}x_{\lambda}$. This implies that $q(\psi(a)) = \sum_{\lambda} a_{\lambda}\phi(m_{\lambda}) = \phi(a)$. It follows that \[
\begin{tikzcd}
M \arrow[rd, "\phi"] \arrow[d, "\psi"'] &  &  \\
X \arrow[r, "q"', two heads] & X'' \arrow[r] & 0
\end{tikzcd}
\] commutes.
\\ \\ Now, drop the assumption that $M$ is free but assume that $M \coprod N$ is free for some $R$-module $N$. Let 
\[ \tag{$\eta$}
\begin{tikzcd}
M \arrow[rd, "\phi"] &  &  \\
X \arrow[r, "q"', two heads] & X'' \arrow[r] & 0
\end{tikzcd}
\] be a projectivity diagram. As $M \coprod N$ is free, our previous argument shows that there is some morphism $f$ such that
\[\begin{tikzcd}
M\coprod N \arrow[rd, "\phi \coprod 0"] \arrow[d, "f"'] &  &  \\
X \arrow[r, "q"'] & X'' \arrow[r] & 0
\end{tikzcd}
\] commutes. Define $\psi : M \to X$ by the composition $M \hookrightarrow M\coprod N \overset{f}{\longrightarrow} X$. Then $\psi$ fills $(\eta)$.
\\ \\ $(\Longrightarrow)$ Suppose that $M$ is projective. We have the exact sequence $\coprod_{m\in M}R \overset{q}{\longrightarrow}  M \to 0$. Hence there is some map $s$ such that 
\[\begin{tikzcd}
M \arrow[rd, "\id_M"] \arrow[d, "s"'] &  &  \\
\coprod_m R \arrow[r, "q"'] & M \arrow[r] & 0
\end{tikzcd}
\] commutes. Then $M \coprod \ker q \cong \coprod_m R$.
\end{proof}

\begin{definition}
Let $M$ be an $R$-module. A \textit{projective resolution of $M$} is an exact sequence of $R$-modules $$\cdots \to P^3 \to P^2 \to P^1 \to M \to 0$$ such that each $P^i$ is projective.  
\end{definition}

\begin{remark}
Every module has a free, hence projective, resolution. 
\end{remark}

\begin{corollary}
Any short exact sequence of $R$-modules $0 \to X' \to X \to M \to 0$ with $M$ projective splits. 
\end{corollary}
\begin{proof}
Find a map $s$ such that
\[\begin{tikzcd}
M \arrow[rd, "\id_M"] \arrow[d, "s"'] &  &  \\
X \arrow[r, "q"'] & M \arrow[r] & 0
\end{tikzcd}
\] commutes. 
\end{proof}

\begin{corollary}
Any short exact sequence of $R$-modules $0 \to M \to X \to X'' \to 0$ with $M$ injective splits. 
\end{corollary}

\begin{corollary}
If $\{M_{\lambda}\}$ is a collection of $R$-modules, then $\coprod_{\lambda} M_{\lambda}$ is projective  if and only if each $M_{\lambda}$ is projective. 
\end{corollary}
\begin{proof}
$(\Longleftarrow)$ As each $M_{\lambda}$ is projective, we know that $\Hom_R(M_{\lambda}, -)$ is an exact functor. This implies that $\Hom_R(\coprod_{\lambda} M_{\lambda}, -) \cong \prod_{\lambda} \Hom_R(M_{\lambda}, -)$ is exact as well.
\\ \\ 
$(\Longrightarrow)$ As $\coprod_{\lambda} M_{\lambda}$ is projective, there is some $R$-module $N$ such that $(\coprod_{\lambda} M_{\lambda}) \coprod N \cong M_{\lambda} \coprod  (\coprod_{\alpha \ne \lambda} M_{\alpha})\coprod N$ is free.
\end{proof}

\begin{corollary}
If $\{M_{\lambda}\}$ is a collection of $R$-modules, then $\prod_{\lambda} M_{\lambda}$ is injective  if and only if each $M_{\lambda}$ is injective. 
\end{corollary}

\begin{remark}
Projectivity has to do with the non-existence of relations among ``good'' generators, whereas injectivity has to do with the divisibility of generators and hence all elements.

Let $M$ be an $R$-module and $x\in M$. We want to know if $x$ is divisible by $a\in R$, i.e., $x = a \cdot y$ for some $y\in M$. Suppose that we know that $M$ extends $0 \to M \hookrightarrow N$ to a module $N$ so that $x = a \cdot z$ for some $z \in N$. Suppose also that $M$ is injective. Then find  some map $\psi$ so that 
\[
\begin{tikzcd}
 & M &  \\
0 \arrow[r] & M \arrow[r, "i"', hook] \arrow[u, "\id_M"] & N \arrow[lu, "\psi"', dashed]
\end{tikzcd}
\] commutes. This gives $a\psi(z) = \psi(az) = \psi(x) = x$. Hence $x$ is divisible by $a$ in this situation.
\end{remark}

\begin{exmp}
$\Z$ is not injective in $\mathbf{Ab}$.
\end{exmp}

\begin{exmp} $ $
\begin{enumerate}
\item $\Q$ is an injective $\Z$-module.
\begin{proof}
Let \[
\begin{tikzcd}
 & \Q &  \\
0 \arrow[r] & X' \arrow[r, "i"', hook] \arrow[u, "\phi"] & X
\end{tikzcd}
\] be an injectivity diagram. The set $$\{ (A, \xi) : X' \subset \underbrace{A}_{\text{abelian}} \subset X, \ \xi : A \to \Q \text{ lifts } \phi.  \}$$ is nonempty and partially ordered  by $\leq$ where $(A_1, \xi_1) \leq (A_2, \xi_2)$ if $A_1 \subset A_2$ and $\xi_1 = \xi_2\restriction_{A_1}$. By Zorn, there is some maximal element $(A, \xi)$. If $A = X$, then we are done. Suppose, for contradiction, that $A \subsetneq X$. There is some $x\in X \setminus A$. Let $\tilde{A} = \langle A, x\rangle \subset X$. 

We can extend $\xi : A \to \Q$ to a homomorphism $\tilde{\xi} : \tilde{A} \to \Q$ by deciding where to send $x$. Indeed, if $nx \notin A$ for every nonzero integer $n$, then set $\tilde{\xi}(x) = 0$. If there is some $n\in \Z \setminus \{0\}$ such that $nx \in A$, then $\{n \in \Z : nx \in A\}$ is an ideal in $\Z$ and thus equals $(n_0)$ for some integer $n_0 >0$. Define $\tilde{\xi}(x) = \frac{\xi(n_0x)}{n_0} \in \Q$. 

For each $\tilde{a} \in \tilde{A}$, write $\tilde{a} = a + mx$ for some $a\in A$ and some $m\in \Z$. Define $\tilde{\xi}(\tilde{a}) = \xi(a) + m\tilde{\xi}(x)$.

We claim that $\tilde{\xi}$ is well-defined. If $\{n \in \Z : nx \in A\} = (0)$, then $\tilde{\xi}(x) =0$ and $\tilde{\xi}(\tilde{a}) = \xi(a)$, where $a$ is uniquely determined from $\tilde{a}$.  If $\{n \in \Z : nx \in A\} = (n_0)$, then $\tilde{\xi}(\tilde{a}) = \xi(a) + \frac{m\xi(n_0x)}{n_0}$. If $\tilde{a} = b + kx$, then $a-b = (k-m)x $. If this equals $0$, then we're done.
Otherwise, $k-m = dn_0$ for some integer $d\ne 0$.  Then 
\begin{align*} 
& 0 = \xi(a-b) - \xi((k-m)x) = \xi(a) - \xi(b) - \xi(dn_0x) 
\\ & =  \xi(a) - \xi(b) - \tilde{\xi}(dn_0x) =  \xi(a) - \xi(b) -dn_0 \tilde{\xi}(x)
\\ & =  \xi(a) - \xi(b) -(k-m) \tilde{\xi}(x) = \xi(a) - \xi(b) +\frac{m-k}{n_0}\xi(n_0x)
\\ & = \tilde{\xi}(a+mx) - \tilde{\xi}(b+kx).
\end{align*}
We have shown that $(\tilde{A}, \tilde{\xi}) > (A, \xi)$, a contradiction. 
\end{proof}
\begin{corollary}
Any divisible abelian group is injective.
\end{corollary}
\item The circle group $S^1$ is injective.
\item Any field of characteristic zero is injective as a $\Z$-module. 
\item $\faktor{\Q_{(p)}}{\Z}$ is injective as a $\Z$-module where $\Q_{(p)} \coloneqq  \{\frac{n}{p^k} : n \in \Z, \ k\geq 0,  \ p \text{ prime}  \}$.
\end{enumerate}
\end{exmp}

\end{document}