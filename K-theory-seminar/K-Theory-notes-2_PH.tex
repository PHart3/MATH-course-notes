\documentclass[10pt,letterpaper,cm]{nupset}
\usepackage[margin=1in]{geometry}
\usepackage{graphicx}
 \usepackage{enumitem}
 \usepackage{bm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{pgfplots}
\usepackage{amsmath,amsthm}
\usepackage{lmodern}
\usepackage{tikz-cd}
\usepackage{faktor}
\usepackage{xfrac}
\usepackage{mathtools}
\usepackage{bm}
\usepackage{extpfeil}
\usepackage{ dsfont }
\usepackage{mathrsfs}
\usepackage{hyperref}
\usepackage{scrextend}
\hypersetup{colorlinks=true, linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           }
\usepackage{adjustbox}
\usepackage{media9}
\usepackage{thmtools}
\usepackage[capitalise]{cleveref} 
    
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{exmp}[definition]{Example}
\newtheorem{non-exmp}[definition]{Non-example}
\newtheorem{note}[definition]{Note}

\theoremstyle{theorem}
\newtheorem{theorem}[definition]{Theorem}
\newtheorem{lemma}[definition]{Lemma}
\newtheorem{corollary}[definition]{Corollary}
\newtheorem{prop}[definition]{Proposition}
\newtheorem{conj}[definition]{Conjecture}
\newtheorem*{claim}{Claim}
\newtheorem{exercise}[definition]{Exercise}

\theoremstyle{remark}
\newtheorem{remark}[definition]{Remark}
\newtheorem*{todo}{To do}
\newtheorem*{conv}{Convention}
\newtheorem*{aside}{Aside}
\newtheorem*{notation}{Notation}
\newtheorem*{term}{Terminology}
\newtheorem*{background}{Background}
\newtheorem*{further}{Further reading}
\newtheorem*{sources}{Sources}

\makeatletter
\def\th@plain{%
  \thm@notefont{}% same as heading font
  \itshape % body font
}
\def\th@definition{%
  \thm@notefont{}% same as heading font
  \normalfont % body font
}
\makeatother

\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother
\pgfplotsset{unit circle/.style={width=4cm,height=4cm,axis lines=middle,xtick=\empty,ytick=\empty,axis equal,enlargelimits,xmax=1,ymax=1,xmin=-1,ymin=-1,domain=0:pi/2}}
\DeclareMathOperator{\Ima}{Im}
\newcommand{\A}{\mathcal A}
\newcommand{\C}{\mathbb C}
\newcommand{\E}{\vec E}
\newcommand{\CP}{\mathbb CP}
\newcommand{\F}{\mathcal F}
\newcommand{\G}{\vec G}
\renewcommand{\H}{\vec H}
\newcommand{\HP}{\mathbb HP}
\newcommand{\K}{\mathbb K}
\renewcommand{\L}{\mathcal L}
\newcommand{\M}{\mathbb M}
\newcommand{\N}{\mathbb N}
\renewcommand{\O}{\mathbf O}
\newcommand{\OP}{\mathbb OP}
\renewcommand{\P}{\mathcal P}
\newcommand{\Q}{\mathbb Q}
\newcommand{\I}{\mathbb I}
\newcommand{\R}{\mathbb R}
\newcommand{\RP}{\mathbb RP}
\renewcommand{\S}{\mathbf S}
\newcommand{\T}{\mathbf T}
\newcommand{\X}{\mathbf X}
\newcommand{\Z}{\mathbb Z}
\newcommand{\B}{\mathcal{B}}
\newcommand{\1}{\mathbf{1}}
\newcommand{\ds}{\displaystyle}
\newcommand{\ran}{\right>}
\newcommand{\lan}{\left<}
\newcommand{\bmat}[1]{\begin{bmatrix} #1 \end{bmatrix}}
\renewcommand{\a}{\vec{a}}
\renewcommand{\b}{\vec b}

\renewcommand{\c}{\mathscr{C}}
\renewcommand{\d}{\mathscr{D}}
\newcommand{\e}{\mathscr{E}}
\newcommand{\y}{\mathscr{Y}}
\renewcommand{\j}{\mathscr{J}}

\newcommand{\h}{\vec h}
\newcommand{\f}{\vec f}
\newcommand{\g}{\vec g}
\renewcommand{\i}{\vec i}
\renewcommand{\k}{\vec k}
\newcommand{\n}{\vec n}
\newcommand{\p}{\vec p}
\newcommand{\q}{\vec q}
\renewcommand{\r}{\vec r}
\newcommand{\s}{\vec s}
\renewcommand{\t}{\vec t}
\renewcommand{\u}{\vec u}
\renewcommand{\v}{\vec v}
\newcommand{\w}{\vec w}
\newcommand{\x}{\vec x}
\newcommand{\z}{\vec z}
\newcommand{\0}{\vec 0}
\DeclareMathOperator*{\Span}{span}
\DeclareMathOperator*{\GL}{GL}
\DeclareMathOperator{\rng}{range}
\DeclareMathOperator{\gemu}{gemu}
\DeclareMathOperator{\almu}{almu}
\newcommand{\Char}{\mathsf{char}}
\DeclareMathOperator{\id}{Id}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\graph}{Graph}
\DeclareMathOperator{\gal}{Gal}
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\norm}{N}
\DeclareMathOperator{\aut}{Aut}
\DeclareMathOperator{\Int}{Int}
\DeclareMathOperator{\ext}{Ext}
\DeclareMathOperator{\stab}{Stab}
\DeclareMathOperator{\orb}{Orb}
\DeclareMathOperator{\inn}{Inn}
\DeclareMathOperator{\out}{Out}
\DeclareMathOperator{\op}{op}
\DeclareMathOperator{\fix}{Fix}
\DeclareMathOperator{\ab}{ab}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\syl}{syl}
\DeclareMathOperator{\Syl}{Syl}
\DeclareMathOperator{\ob}{ob}
\DeclareMathOperator{\mor}{mor}
\DeclareMathOperator{\iso}{iso}
\DeclareMathOperator{\ar}{Ar}
\DeclareMathOperator{\ZFC}{ZFC}
\DeclareMathOperator{\set}{\mathbf{Set}}

\DeclareMathOperator{\colimm}{colim}

\makeatletter
\newcommand{\colim}{\gen@colim{\colimm}}
\newcommand{\gen@colim}[1]{%
  \@ifnextchar_{\gen@@colim{#1}}{\mathbin{#1}}%
}
\def\gen@@colim#1_#2{%
  \mathpalette\gen@@@colim{{#1}{#2}}%
}
\newcommand\gen@@@colim[2]{\mathbin{\gen@@@@colim#1#2}}
\newcommand\gen@@@@colim[3]{%
  \ifx#1\displaystyle
    \mathop{#2}\limits_{#3}%
  \else
    {#2}_{#3}%
  \fi
}
\makeatother

\linespread{1.3}

% info for header block in upper right hand corner
\name{Perry Hart}
\class{$K$-theory reading seminar}
\assignment{UPenn}
\duedate{October 3, 2018}

%Talk #5

\begin{document}

\begin{abstract}
We  introduce the concept of a universal property in category theory. The main sources for this talk are the following.
\begin{itemize}
\item $n$Lab.
\item John Rognes's \textit{Lecture Notes on Algebraic $K$-Theory}, Ch. 4.
\item Peter Johnstone's lecture notes for ``Category Theory" (Mathematical Tripos Part III, Michaelmas 2015), Ch. 4.
\item Steve Awodey's \textit{Category Theory}, Ch. 5.6.
\end{itemize}
\end{abstract}

\smallskip

\section{Universal arrows}

\begin{definition} Let $\c$ be a category.
\begin{enumerate}
\item An object $X$ of $\c$ is \textit{initial} if for each $Y \in \ob \c$, there is a unique morphism $f : X \to Y$. 
\item We say that $X$ is \textit{terminal} if for each $Z \in \ob \c$, there is a unique morphism $g : Z \to X$. 
\end{enumerate}

Either condition is called a \textit{universal property} of $X$.
\end{definition}


Any property $P$ of $\c$ has a dual property $P^{\op}$ of $\c^{\op}$ obtained by interchanging the source and target of any arrow as well as the order of any composition in the sentence expressing $P$. Then $P$ is true of $\c$ iff $P^{\op}$ is true of $\c^{\op}$.


\begin{exmp}
Being initial and being terminal are dual properties.
\end{exmp}

\begin{lemma}\label{initial}
Any two initial objects of $\c$ are unique up to unique isomorphism. The same holds for any two terminal objects of $\c$.
\end{lemma}
\begin{proof}[Proof sketch]
Let $X$ and $X'$ be two initial objects. Compose the two unique morphisms $X\to X'$ and $X'\to X$ to get an isomorphism between $X$ and $X'$. Apply duality to this argument for the case of terminal objects.
\end{proof}


We can think of a universal property as follows.  Let $F : \d \to \c$ be a functor and $X \in \ob \c$. A \textit{universal arrow from $X$ to $F$} is an ordered pair $\left(Y, f\right)$ with $Y \in \ob \d$ and $f : X \to F(Y)$ a morphism of $\c$ with the property that for any $X' \in \ob \d$ and morphism $f' : X \to F(X')$ of $\c$, there exists a unique morphism $\hat{f} : Y \to X'$ of $\d$ such that $F\left(\hat{f}\right) \circ f = f'$.
\[ \begin{tikzcd}
X \arrow[r, "f"] \arrow[swap, dr,  " f' "] & F(Y) \arrow[d, dashed, "F\left(\hat{f}\right)"] \\% 
 & F(X')
\end{tikzcd}
\]

Dually, a \textit{universal arrow from $F$ to $X$} is an ordered pair $\left(Y, f\right)$ with $Y \in \ob \d$ and $f: F(Y) \to X$ of $\c$ with the property that for any $X' \in \ob \d$ and morphism $f' : F(X') \to X$, there exists a unique morphism $\hat{f}: X' \to Y$ such that $f' = f \circ F\left(\hat{f}\right)$.
\[ \begin{tikzcd}
F(X') \arrow[r, dashed, "F\left(\hat{f}\right)"] \arrow[swap, dr,  " f' "] & F(Y) \arrow[d, "f"] \\% 
 & X
\end{tikzcd}
\]



To see why this notion of universality agrees with the original one, we first generalize the notion of an arrow category.

\begin{definition} $ $
\begin{enumerate}
\item Let $F: \c \to \d$ be a functor and $Y \in \ob \d$. The \textit{slice} or \textit{left fiber category}, denoted by $\left(F/Y\right)$ or $\left(F \downarrow Y\right)$, has as objects pairs $\left(X, f\right)$ where $f: F(X) \to Y$ and as morphisms from $f : F(X) \to Y$ to $f' : F(X') \to Y$ morphisms $g : X \to X'$ such that $f = f' \circ F(g).$ 
\item 
The \textit{coslice} or \textit{right fiber category}, denoted by $\left(Y/F\right)$ or $\left(Y \downarrow F\right)$, has as objects pairs $\left(X, f\right)$ where $f: Y\to F(X)$ and as morphisms from $f :  Y \to F(X)$ to $f' : Y \to F(X')$ morphisms $g : X \to X'$ such that $f' = F(g) \circ f.$
\end{enumerate}
\end{definition}



If $F^{\op}:C^{\op} \to D^{\op}$ is opposite to the functor $F: \c \to \d$ and $Y \in \ob \d$, then $\left(Y/F\right)^{\op} = {F^{\op}}/{Y}$. Thus, the left and right fiber categories are dual in the sense that $P(Y, F)$ is true of any right fiber category ${Y}/{F}$ iff $P^{\op}(Y, F)$ is true of any left fiber category ${F}/{Y}$. 

\smallskip

\begin{prop}
Let $F : \d \to \c$ be a functor and $x \in \ob C$. Then $u : x \to Fr$ is a universal arrow from $x$ to $F$ iff it is an initial object of the coslice $\left(x \downarrow F\right)$. Dually, $u' : Fr' \to x$ is a universal arrow from $F$ to $x$  iff it is a terminal object of the same category.
\end{prop}
\begin{proof}
Suppose that $u$ is universal and $f: x \to Fy$ is another object of $\left(x \downarrow F\right)$. Then there exists a unique $\hat{f}: r \to y$ such that $F\left(\hat{f}\right) \circ u = f$. Thus $F\left(\hat{f}\right)$ is a unique morphism of the coslice.

\smallskip

Conversely, suppose that $u$ is initial. Then for any object $f: x \to Fy$ of $\left(x \downarrow F\right)$, there exists a unique arrow $Sg : Fr \to Fy$ such that $Sg \circ u = f$. Hence setting $\hat{f} = g$ makes $u$ a universal arrow.
\end{proof}

\begin{corollary}
Any two universal arrows from $x$ to $F$ can be canonically identified by \cref{initial}.
\end{corollary}

\section{(Co)limits}

\begin{definition}
A \textit{zero object} of $\c$ is an object that is both initial and terminal.
\end{definition}

\begin{exmp}
The unique initial object of $\set$ is $\emptyset$, and the terminal objects are precisely the singleton sets. Hence there is no zero object. Moreover, there are no initial or terminal objects in $\iso(\set)$.
\end{exmp}


Given $X \in \ob \c$, the \textit{undercategory} ${X}/{\c}$ has as objects morphisms in $\c$ of the form $i : X \to Y$ where $X$ is fixed. Given $i: X \to Y$ and  $i' : X \to Y'$ in $\ob {X}/{\c}$, define the set of morphisms from $i$ to $i'$ as the morphisms $f: Y \to Y'$ where
\[ \begin{tikzcd}
X \arrow[r, "i"] \arrow[swap, dr,  " i' "] & Y \arrow[d, "f"] \\% 
 & Y'
\end{tikzcd}
\]
commutes. (We call $i$ the \textit{structure morphism}.)
 Composition and identity carry over exactly from $\c$.

\medskip

Likewise, given $x \in \ob \c$, the \textit{overcategory} ${\c}/{X}$ has as objects morphisms in $\c$ of the form $i : Y \to X$ where $X$ is fixed. Given $i:  Y \to X$ and  $i' : Y' \to X$ in $\ob {\c}/{X}$, define the set of morphisms from $i$ to $i'$ as the morphisms $f: Y \to Y'$ where
\[ \begin{tikzcd}
Y \arrow[r, "f"] \arrow[swap, dr,  " i "] & Y' \arrow[d, "i '"] \\% 
 & X
\end{tikzcd}
\]
commutes.
 Composition and identity carry over exactly from $\c$.


\begin{remark}
If $X \in \ob \c$, then $\left({X}/{\c}\right)^{\op} = {\c^{\op}}/{X}$. Thus, the under- and overcategories are dual in the sense that $P(X, \c)$ is true of any undercategory ${X}/{\c}$ iff $P^{\op}(X, \c)$ is true of any overcategory ${\c}/{X}$. 
\end{remark}

\begin{lemma}
For any $X \in \c$, the identity morphism on $X$ is an initial object ${X}/{\c}$. Dually, it is a terminal object in ${\c}/{X}$.
\end{lemma}
\begin{proof}
Any morphism $i: X \to Y$ is itself the unique morphism from $\id_X$ to $i$.
\end{proof}

\begin{lemma}
Let $X$ be an initial object of $\c$. The identity morphism on $X$ is a zero object ${\c}/{X}$. Dually, if $Y \in \ob \c$ is terminal, then $\id_Y$ is a zero object in ${Y}/{\c}$.
\end{lemma}
\begin{proof}
We already know that $\id_X$ is terminal. If $p: Y \to X$ is an object in ${\c}/{X}$, then there is a unique morphism $f: X \to Y$. Then $f\circ p$ must equal $\id_X$.
\end{proof}

\begin{exmp}
Let $\left(X, x\right)$ be a pointed set with $X= \left\{x\right\}$. Let $\set_{\ast}$ denotes the category of pointed sets with base point preserving functions. Since  $\set_{\ast} \cong {X}/{\set}$, it follows that $X$ is a zero object in $\set_{\ast}$.
\end{exmp}

\smallskip

Given a morphism $\alpha : X \to Z$ in $\c$, define the \textit{under-and-overcategory} $\left(X/\c/Z\right)_{\alpha}$ as having triples $\left(Y, i, p\right)$ as objects where $i : X \to Y$ and $p: Y \to Z$ are morphisms in $\c$ such that $p\circ i = \alpha$. Define the set of morphisms from $\left(Y, i, p\right)$ to $\left(Y', u', p'\right)$ as the set of morphisms $f: Y \to Y'$ such that 
\[
\begin{tikzcd}[row sep=large, column sep=large]
X \arrow[to=Z, "i ", swap] \arrow[to=2-2, dr, blue, sloped,pos=.8, "\alpha", swap]
& Y' \arrow[to=2-2, "p' "] \\
|[alias=Z]| Y \arrow[to=1-2, ur, red, sloped,pos=.3, "f"] \arrow[to=2-2, "p"'] 
& Z
\arrow[from=ul, to=1-2, "i' "]
\end{tikzcd}
\]
commutes. If $\alpha = \id_X$, then we call $\left(X/\c/X\right)_{\id_X}$ the category of \textit{retractive} objects over $X$, with each triple $\left(Y, i, p\right)$ being a retraction of $Y$ onto $X$.


\begin{exmp}
If $F: \c \to \c$ is the identity functor, then the undercategory $Y/\c$ equals the right fiber category $Y/F$, and the overcategory $\c/Y$ equals the left fiber category $F/Y$.
\end{exmp}

\medskip


Let $\j$ be a category. A \textit{diagram of shape $\j$ in $\c$} is a functor $F: \j \to \c$.


\begin{definition}
Given a functor $F: \j \to \c$ and $X \in \ob \c$, a \textit{cone over $F$} consists of an \textit{apex} $X\in \ob \c$ and \textit{legs} $f_j : X \to F(j)$ for each $j \in \ob \j$ such that for any morphism $\alpha : j \to j'$, the triangle
\[ \begin{tikzcd}
X \arrow[r, "f_j"] \arrow[swap, dr,  " f_{j'} "] & F(j) \arrow[d, "F\alpha"] \\
 & F(j')
\end{tikzcd}
\]
commutes.
\end{definition}

 This is simply a natural transformation $\Delta_{\j} X \Rightarrow F$ where $\Delta_{\j} X$ denotes the constant functor on $\j$ at $X$. If $\j$ is small, then $\Delta_{\j}$ is a functor from $\c$ to $\mathbf{Fun}(\j, \c)$.

\begin{definition} $ $
\begin{enumerate}
\item The \textit{category of cones over $F$} is the right fiber category $X/F$. 
\item The \textit{category of cocones under $F$} is the left fiber category  $F/X$.
\end{enumerate}
\end{definition}

\begin{definition}[Colimit]
Let $\c$ and $\d$ be categories and $g: Y \to Z$ a morphism in $\d$. Let $\Delta_{\c} g : \Delta_{\c} Y \Rightarrow \Delta_{\c} Z$ be the natural transformation with components $X \mapsto g$. 
\begin{enumerate}
\item A \textit{colimit  $\colim_{\c}{F}$} of the functor $F: \c \to \d$ is an object $Y$ of $\d$ together with a natural transformation $i : F \Rightarrow \Delta_{\c} Y$ such that for any $Z \in \ob \d$ and any natural transformation $j: F \Rightarrow \Delta_{\c} Z$, there is a unique morphism $g: Y \to Z$ such that $j = \Delta_{\c}g \circ i$.
\item  We say that $\d$ \textit{admits/has  $\c$-shaped colimits} if each functor $G: \c \to \d$ has a colimit.
\item We say that $\d$ is \textit{cocomplete} if each functor $G : \c \to \d$ with $\c$ small has a colimit.
\end{enumerate}
\end{definition}

If $\c$ is small, then a colimit of $F: \c \to \d$ is just an initial object in the right fiber category $F/\Delta_{\c}$, which has as objects pairs $\left(Z, j: F \to \Delta{Z}\right)$ and as morphisms from $\left(Y, i\right)$ to $\left(Z, j\right)$ the morphisms $g : Y \to Z$ in $\d$ such that $\Delta{g} \circ i = j$.

\smallskip

\begin{exmp}  If $\c$ is the empty category, then the empty functor $F: \c \to \d$ satisfies $F/\Delta_{\c}\cong \d$, so that the colimit of $F$ is exactly the  initial object of $\d$.
\end{exmp}


\begin{prop}
There is a natural bijection $\d(Y, Z) \cong \mathbf{Fun}(\c, \d)(F, \Delta{Z})$ if and only if  $Y = \colim_{\c}F$.
\end{prop}

\begin{lemma}
Any two colimits are unique up to unique isomorphism. 
\end{lemma}
\begin{proof}
When $\c$ is small, this follows immediately from \cref{initial}. Notice, however,  that our proof of \cref{initial} does \emph{not} require that $\c$ be locally small (a property which Rognes stipulates of any category). 
\end{proof}

\smallskip

\begin{remark}
Assume that $\d$ has $\c$-shaped colimits and that $\c$ is small. Then a (possibly global) choice function $\colim_\c : \mathbf{Fun}(\c, \d) \to \d$ given by choosing a colimit for each functor determines a functor that is left adjoint to the constant diagram functor $\Delta_{\c} : \d \to \mathbf{Fun}(\c, \d)$. Indeed,
for any functor $F : \c \to \d$, there is a bijection $\d(\colim_{\c} F, Z) \cong \mathbf{Fun}(\c, \d)(F, \Delta_{\c}Z)$.
\end{remark}

\smallskip

\begin{definition}[Limit]
A \textit{limit} of the functor $F: \c \to \d$ is  a colimit of $F^{\op} : \c^{\op} \to \d^{\op}$.
\end{definition}


Explicitly,  a limit for $F: \c \to \d$ is an object $Z$ of $\d$ along with a natural transformation $p: \Delta_{\c}Z \Rightarrow F$ such that for any $Y \in \ob \d$ and any natural transformation $q: \Delta_{\c}Y \Rightarrow F$, there is a unique morphism $g: Y \to Z$ such that $ q= p \circ \Delta_{\c}g$.

\smallskip

Note that the colimit of a functor $F$ is exactly the limit of $F^{\op}$. Hence \textit{limit} and \textit{colimit} are dual properties, and our results so far for colimits can be dualized  for limits.

\begin{definition}[(Co)product]
Let $\j$ be a discrete small category. Consider a diagram  $\left\{A_i\right\}_{i\in \ob{\j}}$ of shape $\j$. 
\begin{enumerate}
\item The limit of $\left\{A_i\right\}_i$ is called the \textit{product} $\prod_i A_i$, equipped with projections $\pi_i : \prod_i A_i \to A_i$ such that for every $f_{i} : U \to A_i$ there exists a unique map $f\coloneqq \left(f_i\right) : U \to \prod_i A_i$ satisfying $\pi_i \circ f = f_i$. 
\item  The colimit of $\left\{A_i\right\}_i$ is called the \textit{coproduct} $\coprod_i A_i$, equipped with inclusions $u_i : A_i \to \coprod_i A_i$ such that for any $f_i : A_i \to Y$, there exists a unique map $f\coloneqq \left(f_i\right) : \coprod_i A_i \to Y$ satisfying $f_i = f \circ u_i$.
\end{enumerate}
\end{definition}

\smallskip

Familiar examples of limits include cartesian products and direct products, whereas familiar examples of colimits include disjoint unions and free products. 

\begin{exmp}\label{comsets} $ $
\begin{enumerate}[label=(\arabic*)]
\item Consider any small diagram $F: \mathscr{J} \to \set$. On the one hand,
\[
\left. \colim_{j}F_j \cong \left(\coprod_{j\in \ob{\mathscr{J}}}F_j\right)\middle /{\sim}\right.
\] where $\sim$ is the smallest equivalence relation such that $F_j\ni f_j \sim f_{j'} \in F_{j'}$ whenever  $F(\psi)(f_j) = f_{j'}$ for some $\psi  : j \to j'$. 

On the other hand,
\[
\lim_j{F_j} \cong  \left\{  \left(f_j\right)_j \in \prod_{j\in \ob{\mathscr{J}}} F_ j \mid \forall{\psi : j \to j'} \text{ in }\mathscr{J},\ F(\psi )(f_ j) = f_{j'} \right\} .
\]
We have shown that $\set$ is both complete and cocomplete.
\item Let $A$ be any set. Define the \textit{cumulative hierarchy $V_n(A)$} of rank $n<\omega$ over $A$ along with a countable sequence
\[
\begin{tikzcd}
V_0 \arrow[r, "v_0"] & V_1 \arrow[r, "v_1"] & V_2 \arrow[r] & \cdots \arrow[r] & V_n \arrow[r, "v_n"] & V_{n+1} \arrow[r] & \cdots
\end{tikzcd}
\] of maps recursively by
\begin{align*}
V_0(A) &=A
\\ V_{n+1}(A) & = A\coprod \P(V_n(A))
\\ &
\\ v_0  : A  & \hookrightarrow A \coprod \P(A), \ \hspace{40mm} a \mapsto a
\\ v_{n+1}  : A&\coprod \P(V_n(A)) \to A \coprod \P(V_{n+1}(A)), \ \quad  \left(\id_A, \P(V_n(A))\right).
\end{align*} 
Let  $V_{\omega}(A) =\colim_{n<\omega}V_n(A)$, which exists by part (1). Then $V_{\omega}(\emptyset)$ is exactly the set of all hereditarily finite sets. To see that $V_{\omega}({-})$ is a functor $\mathbf{Set} \to \mathbf{Set}$, let $f:A \to B$ be a function. Then we  can build a cocone 
\[
\begin{tikzcd}[row sep=large]
V_0(A) \arrow[r, "v_0"] \arrow[d, "f_0\equiv f"'] & V_1(A) \arrow[r] \arrow[d, "{\left(f, \mathcal{P}(f)\right)}"] & \cdots \arrow[r] & V_n(A) \arrow[r, "v_n"] \arrow[d, "{\left(f, \mathcal{P}(f_{n-1})\right)}"] & V_{n+1}(A) \arrow[d, "{\left(f, \mathcal{P}(f_{n})\right)}"] &               \\
V_0(B) \arrow[r]                                  & V_1(B) \arrow[r]                                               & \cdots \arrow[r] & V_n(B) \arrow[r]                                                            & V_{n+1}(B) \arrow[r]                                         & V_{\omega}(B)
\end{tikzcd}
\] under $\left\{V_n(A)\right\}_n$ recursively. By the universal property of colimits, there exists a unique map $V_{\omega}(A) \to V_{\omega}(B)$, so that $V_{\omega}({-})$ is functorial.
\end{enumerate} 
\end{exmp}

\medskip

Let $\j$ be a category of the form $\bullet \rightrightarrows \bullet$. Then  a diagram $D$ of shape $\j$ looks like $A \overset{f}{\underset{g}{\rightrightarrows}} B$. A cone over $D$ with apex $C$ and legs $f_1 : C \to A$ and $f_2 : C \to B$ satisfies $f\circ f_1=f_2 = g\circ f_1$.

\begin{definition}[(Co)equalizer] $ $
\begin{enumerate}
\item If such an object $C$ together with $f_1$ is the limit of $D$, then we say it is the \textit{equalizer} of $f$ and $g$. 
\item The colimit of $D$ is called the \textit{coequalizer} of $f$ and $g$.
\end{enumerate}
\end{definition}

\begin{exmp}\label{set}
The equalizer in $\set$ of $f, g: X \to Y$ is the subset $X'\coloneqq \left\{x \in X : f(x) = g(x)\right\}$ together with the inclusion function $X' \hookrightarrow X$. 

The coequalizer of $\left(f, g\right)$ is precisely $\faktor{Y}{\sim}$ together with the quotient map on $B$ where $\sim$ is the smallest equivalence relation under which $f(x) \sim g(x)$ for every $x$.
\end{exmp}

\smallskip

It is easy to check that any equalizer $f: C \to A$ must be monic. Further, if $f$ is split epic, i.e., has a section $g: A \to C$, as well, then $f$ is an isomorphism. For, in this case, $f\circ \left(g \circ f\right) = \id_A \circ f = f \circ \id_C$. As $f$ is monic, we have that $g \circ f= \id_C$, so that $g$ is an inverse of $f$.

\medskip

Next, let $\j$ be a category of the form $\bullet \rightarrow \bullet \leftarrow \bullet$. Then a diagram of this shape looks like $B \overset{f}{\longrightarrow} C \overset{g}{\longleftarrow} A$, and a cone over this diagram looks like 
\[
\begin{tikzcd}[row sep=large, column sep=large]
E \arrow[to=Z, "i ", swap] \arrow[to=2-2, dr, "\alpha", swap]
& A \arrow[to=2-2, "g "] \\
|[alias=Z]| B  \arrow[to=2-2, "f"'] 
& C
\arrow[from=ul, to=1-2, "j "]
\end{tikzcd}.
\]

\begin{definition}[Pullback]
If such an object $E$ together with $i$ and $j$ is the limit of this diagram, then we call it the \textit{pullback} of $f$ and $g$, denoted by $B \times_{C} A$.

The universal property of a pullback square states that for any commutative diagram of the form
\[
\begin{tikzcd}
Z \arrow[rdd, bend right] \arrow[rrd, bend left] &                                                   &                  \\
                                                 & B\times_CA \arrow[d, "\pi_B"'] \arrow[r, "\pi_A"] & A \arrow[d, "f"] \\
                                                 & B \arrow[r, "g"']                                 & C               
\end{tikzcd},
\] there is a unique \textit{mediating map} $ Z \to B\times_CA$ fitting into it.
\end{definition}


If we perform a dual construction for $\j^{\op}$, then the colimit of the resulting diagram is called the \textit{pushout}, denoted by $B \cup_{C} A$. The universal property of a pullback square states that for any commutative diagram of the form
\[
\begin{tikzcd}
B\times_CA \arrow[d, "\pi_B"'] \arrow[r, "\pi_A"] & A \arrow[d, "f"] \arrow[rdd, bend left] &   \\
B \arrow[r, "g"'] \arrow[rrd, bend right]         & C                                       &   \\
                                                  &                                         & Z
\end{tikzcd},
\] there is a unique mediating map $ B\cup_CA\to Z$ fitting into it.


\begin{exmp} $ $
\begin{enumerate}
\item The pullback in $\set$ of $f: X \to Z$ and $g: Y \to Z$ is precisely $\left\{\left(x,y\right) \in X \times Y : f(x) = g(y)\right\}$, called the \textit{fibered product} of $X$ and $Y$ over $Z$.
\item The pushout in $\set$ of $f: Z \to X$ and $g: Z \to Y$  is precisely the quotient of $X \coprod Y$ by the equivalence relation ${}\sim{}$ generated by the formula $\left(\forall{z\in Z}\right)\left(f(z) \sim g(z)\right)$. We call $\faktor{X \coprod Y}{\sim}$  the \textit{fibered sum} of $X$ and $Y$ under $Z$.
\end{enumerate}
\end{exmp}

\begin{exmp}
Let $\mathbf{FinSet}_{\mathrm{mono}}$ denote the category of all finite sets with injective functions as arrows. The category of \textit{nominal sets} consists of all pullback-preserving functors  $\mathbf{FinSet}_{\mathrm{mono}}\to \mathbf{Set}$ with natural transformations as arrows. These correctly encode the syntax of functional programming languages modulo renaming of bound variables (which is necessary for substitution).
\end{exmp}

\smallskip

\begin{prop}
The pullback of a monomorphism in a category $\c$ is again a monomorphism in $\c$.
\end{prop}
\begin{proof}
Consider any pullback square
\[
\begin{tikzcd}
B\times_C A \arrow[r, "\pi_2"] \arrow[d, "\pi_1"'] & A \arrow[d, "f"] \\
B \arrow[r, "g"']                                  & C               
\end{tikzcd}
\] in $\c$ where $f$ is monic. We must show that $\pi_1$ is monic. Let $h_1, h_2 : B' \to B\times_CA$ be morphisms in $\c$ such that 
\begin{gather*}
\pi_1 \circ h_1 = \pi_1 \circ h_2
\\ \Downarrow
\\ f\circ \pi_2 \circ h_1 = g\circ \pi_1 \circ h_1 = g\circ \pi_1 \circ h_2 = f\circ \pi_2 \circ h_2.
\end{gather*} Since $f$ is monic by assumption, it follows that $\pi_2 \circ h_1 = \pi_2 \circ h_2$. As a result, the universal property of pullbacks implies that $h_1 = h_2$, as required. 
\end{proof}

\smallskip

Our next two results are quite useful and follow directly from the universal property of pullback (dually, pushout) squares.

\begin{prop} Let $f: X \to Y$ be a morphism in a category $\c$.
\begin{enumerate}
\item  The commutative square
\[
\begin{tikzcd}
X \arrow[r, equal] \arrow[d, equal] & X \arrow[d, "f"] \\
X \arrow[r, "f"']     & Y               
\end{tikzcd}
\] is a pullback if and only if $f$ is a monomorphism.
\item The commutative square
\[
\begin{tikzcd}
X \arrow[d, "f"'] \arrow[r, "f"] & Y \arrow[d, equal] \\
Y \arrow[r, equal]                      & Y          
\end{tikzcd}
\] is a pushout if and only if $f$ is an epimorphism.
\end{enumerate}
\end{prop}

\begin{prop}[Pasting law]
Consider a commutative diagram of the form
\[
\begin{tikzcd}
X \arrow[d] \arrow[r] & Y \arrow[r] \arrow[d] & Z \arrow[d] \\
X' \arrow[r]          & Y' \arrow[r]          & Z'         
\end{tikzcd}
\] in a category $\c$.
\begin{enumerate}
\item Suppose that the righthand square is a pullback. Then the total rectangle is a pullback if and only if the lefthand square is one.
\item Suppose that the lefthand square is a pushout. Then the total rectangle is a pushout if and only if the righthand square is one. 
\end{enumerate}
\end{prop}

\begin{corollary}
The operations of forming pullbacks and forming pushouts are associative up to isomorphism.
\end{corollary}

\medskip

All coequalizers $A \overset{f}{\underset{g}{\rightrightarrows}} B \overset{h}{\longrightarrow} C$ can be obtained from taking binary coproducts and pushouts as follows.
\[
\begin{tikzcd}
A\coprod A \arrow[d, "{\left(\id_A, \id_A\right)}"']
 \arrow[dr, phantom, "\ulcorner", very near end]
 \arrow[r, "{\left(f,g\right)}"] & B \arrow[d, "h"] \\
A \arrow[r]                                                                      & C               
\end{tikzcd}
\] Therefore, any category with binary coproducts and pushouts has coequalizers.

\newextarrow{\xbigtoto}{{20}{20}{20}{20}}
   {\bigRelbar\bigRelbar{\bigtwoarrowsleft\rightarrow\rightarrow}}

Moreover, any colimit of a sequence of the form
\[ \label{eqn:col}
\begin{tikzcd}
X_0 \arrow[r, "f_0"] & X_1 \arrow[r, "f_1"] & X_2 \arrow[r, "f_2"] & \cdots
\end{tikzcd} \tag{$\ast$}
\] is precisely the coequalizer of
\[
\coprod_nX_n \xbigtoto[\left(u_{n+1}\circ f_n\right)_n]{\id} \coprod_nX_n.
\] Therefore, any category with coequalizers and small coproducts has colimits of diagrams like \eqref{eqn:col}. This fact can be generalized as follows.

\smallskip

\begin{theorem}[Freyd]\label{Freyd} $ $
\begin{enumerate}[label=(\roman*)]
\item If $\c$ has equalizers and small (resp. finite) products, then it has small (resp. finite) limits.
\item If $\c$ has pullbacks and a terminal object, then it has finite limits.
\end{enumerate}
\end{theorem}
\begin{proof}[Proof sketch] $ $
\begin{enumerate}
\item Let $F : \j \to \c$ be any diagram with $\j$ small. Consider the following two morphisms in $\c$:
\begin{align*}
f, g: \prod_{j\in \ob{\j}}F_j &\to \prod_{\alpha : i \to j}F_j
\\ \pi_{\alpha : i \to j} \circ f &\equiv \pi_j
\\ \pi_{\alpha : i \to j} \circ g &\equiv F(\alpha) \circ \pi_i.
\end{align*}
Then $\lim_{\j}{F}$ is precisely the equalizer of $f$ and $g$.
\item Thanks to part (i), it suffices to show that $\c$ has equalizers and finite products. By assumption, there is some terminal object $1$. Then any product $A_1 \times A_2$ can be realized as the pullback of $A_1 \rightarrow 1 \leftarrow A_2$. By induction, it follows that $\c$ has finite products. Moreover, for any morphisms $f,g : A \to B$, note that any cone over the diagram 
\[
\begin{tikzcd}[column sep=large]
A \arrow[r, "{\left(\id_A, g\right)}"] & A\times B & A \arrow[l, "{\left(\id_A, f\right)}"']
\end{tikzcd}
\] yields morphisms $h: A \to C$ and $k : C \to A$ such that $h=k$ and $fk = gh$. As a result, the pullback for this cospan is an equalizer of $f$ and $g$, and thus our proof is complete.
\end{enumerate}
\end{proof}

We may view \cref{comsets}(1) as an instance of \cref{Freyd}.

\medskip

Next, let us show that adjoints interact nicely with (co)limits under mild conditions.


\begin{prop}[Left adjoints preserve colimits]
Let $F: \c \to \d$ and $G : \d \to \c$ be functors such that $\left(F, G\right)$ is an adjoint pair. Let $\e$ be small category. If $X: \e \to \c$ is a functor whose colimit exists, then $$\colim_{\e}(F \circ X) \cong F\left(\colim_{\e} X\right).$$
Dually, if $Y: \e \to \d$ is a functor whose limit exists, then $$ \lim_{\e}(G \circ Y)\cong  G\left(\lim_{\e} Y\right) .$$ 
\end{prop}
\begin{proof}
We have the following chain of natural  bijections  in $Y \in \ob{\d}$: 
\begin{align*}
 \d\left(F\left(\colim_{\e}{X}\right), Y\right) & \cong \c\left(\colim_{\e} X, G(Y)\right) 
 \\ & \cong \lim_{\e} \c(X(-), G(Y))
 \\ &  \cong \lim_{\e} \d(F(X(-)), Y)
 \\ &  \cong \mathbf{Fun}(\e, \d)(F \circ X, \Delta{Y}).
 \end{align*} The second bijection exists because both sets can be identified with the components of all natural transformations $X \Rightarrow \Delta{G}(Y)$.
\end{proof}

\section{Fibers and Fibrations}

\begin{definition}
Suppose $\c$ has a terminal object $1$. Let  $f: X \to Y$ be a morphism in $\c$.
\begin{enumerate}
\item Given a global element $p: 1 \to Y$ of $Y$, the \textit{fiber $f^{{-1}}(p)$ of $f$}  at $p$ is the pullback  of the cospan $1 \rightarrow Y \leftarrow X$.
\item The \textit{cofiber  $Y/X$ of $f$ } is the pushout of the span $1 \leftarrow X \rightarrow Y$. 
\end{enumerate}
\end{definition}

\smallskip

For any functor $F : \c \to \d$, the \textit{fiber category} $F^{{-1}}(Y)$ is the full subcategory of $\c$ generated by those objects $X$ such that $F(X) =Y$.

\smallskip

 For each $Y \in \ob \d$, there is a full and faithful functor $F^{{-1}}(Y)  \to F/Y$ given by $X \mapsto \left(X, \id_Y\right)$. 
We say that $\c$ is a \textit{precofibered category} over $\d$ if $F$ has a left adjoint given by $$\left(Z, g: F(Z) \to Y\right) \mapsto g_{\ast}(Z).$$

Further, there is a full and faithful functor $F^{{-1}}(Y) \to Y/F$. We say that $\c$ is a \textit{prefibered category} over $\d$ if this functor has a right adjoint given by $\left(Z, g: Y \to F(Z)\right) \mapsto g_{\ast}(Z)$.

\bigskip

\begin{definition}  Let $F : \c \to \d$ be a functor.
\begin{enumerate}
\item Let $f: c' \to c$ be a morphism in $\c$. We say $f$ is \textit{cartesian} if for any morphism $f' : c'' \to c$ in $\c$ and any morphism $g : F(c'') \to F(c')$ in $\d$ such that $Ff \circ g = Ff'$, there exists a unique morphism $\phi : c'' \to c$ such that $f' = f \circ \phi$ and $F\phi = g$.

In pictures,
\[
\begin{tikzcd}
F(c'') \arrow[rd, "F{f'}"'] \arrow[r, "g", dashed] & F(c') \arrow[d, "F{f}"] & {} \arrow[r, Rightarrow, shift right=9] & {} & c'' \arrow[r, "\exists!{\phi}", dashed] \arrow[rd, "f'"'] & c' \arrow[d, "f"] \\
                                              & F(c)                    &                                         &    &                                                     & c                
\end{tikzcd}, \ \ \quad \phi \overset{F}{\longmapsto} g
.\]
\item We say that $F$ is a \textit{fibration} if for any $c \in \ob{\c}$ and morphism $f: d \to Fc$ in $\d$, there is a cartesian morphism $\phi_f : c' \to c$ such that $F{\phi_f} =f$. Such a $\phi_f$ is called a \textit{cartesian lifting} of $f$ to $c$.

In this case, assuming the axiom of choice, we obtain a mapping $f \mapsto \phi_f$, known as a \textit{cleavage} of $F$. If this respects the identity map and composition, then we call $F$ a \textit{normal} and \textit{split} fibration, respectively. 
\end{enumerate}
\end{definition}

Intuitively, if $F$ is a fibration, then the fibers $F^{-1}(Y)$ depend functorially on $Y\in \ob{\d}$. 

\begin{exmp} $ $
\begin{enumerate}
\item Let the category $\mathbf{Mod}$ consist of pairs $\left(R, M\right)$ as objects where  $R$ is a ring and $M$ is a left $R$-module and pairs $\left(f, \tilde{f}\right)$ as morphisms where $f: R \to R'$ is a ring homomorphism and $\tilde{f}: M \to M'$ is an $R$-linear map with $M'$ viewed as an $R$-module via $f$. Then the forgetful functor $U: \mathbf{Mod} \to \mathbf{Ring}$ is a fibration.
\item For any category $\c$ with pullbacks, consider the arrow category $\ar(\c)$ along with the codomain functor $\mathsf{cod} : \ar(\c) \to \c$ defined by 
\begin{align*}
a \overset{f}{\longrightarrow} b \quad & \mapsto \ b
\\
\begin{tikzcd}[ampersand replacement=\&]
a \arrow[r] \arrow[d] \& a' \arrow[d] \\
b \arrow[r]           \& b'          
\end{tikzcd} \ & \mapsto \ b\to b'.
\end{align*}
This is a fibration. Indeed, for any object $x\to y$ in $\ar(\c)$ and any morphism $z\to y$ in $\c$, the cartesian lifting of $z\to y$ to $x\to y$ is given by the pullback square
\[
\begin{tikzcd}
z\times_y x \arrow[d] \arrow[r] & x \arrow[d] \\
z \arrow[r]                     & y          
\end{tikzcd}
.\]
\end{enumerate}
\end{exmp}

\end{document}